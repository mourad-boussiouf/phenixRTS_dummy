/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./node_modules/phenix-web-sdk/dist/phenix-web-sdk.min.js":
/*!****************************************************************!*\
  !*** ./node_modules/phenix-web-sdk/dist/phenix-web-sdk.min.js ***!
  \****************************************************************/
/***/ ((module) => {

eval("!function (t, e) {\n   true ? module.exports = e() : 0;\n}(window, function () {\n  return function (t) {\n    var e = {};\n    function i(n) {\n      if (e[n]) return e[n].exports;\n      var r = e[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return t[n].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n    }\n    return i.m = t, i.c = e, i.d = function (t, e, n) {\n      i.o(t, e) || Object.defineProperty(t, e, {\n        configurable: !1,\n        enumerable: !0,\n        get: n\n      });\n    }, i.r = function (t) {\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, i.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return i.d(e, \"a\", e), e;\n    }, i.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, i.p = \"\", i(i.s = 110);\n  }([function (t, e, i) {\n    var n, r;\n    n = [i(108)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      return t;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(107)], void 0 === (r = function (t) {\n      return t;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(103), i(102)], void 0 === (r = function (t, e) {\n      return {\n        Disposable: t,\n        DisposableList: e\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r, s, o, a, u;\n    t.exports = (n = i(0), r = i(21), s = i(1), o = i(2), a = i(4), u = i(5), function (t) {\n      function e(n) {\n        if (i[n]) return i[n].exports;\n        var r = i[n] = {\n          i: n,\n          l: !1,\n          exports: {}\n        };\n        return t[n].call(r.exports, r, r.exports, e), r.l = !0, r.exports;\n      }\n      var i = {};\n      return e.m = t, e.c = i, e.i = function (t) {\n        return t;\n      }, e.d = function (t, i, n) {\n        e.o(t, i) || Object.defineProperty(t, i, {\n          configurable: !1,\n          enumerable: !0,\n          get: n\n        });\n      }, e.n = function (t) {\n        var i = t && t.__esModule ? function () {\n          return t.default;\n        } : function () {\n          return t;\n        };\n        return e.d(i, \"a\", i), i;\n      }, e.o = function (t, e) {\n        return Object.prototype.hasOwnProperty.call(t, e);\n      }, e.p = \"\", e(e.s = 12);\n    }([function (t, e, i) {\n      (function (i) {\n        var n;\n        void 0 === (n = function () {\n          \"use strict\";\n\n          return \"object\" == typeof window ? window : \"object\" == typeof i ? i : {};\n        }.apply(e, [])) || (t.exports = n);\n      }).call(e, i(5));\n    }, function (t, e) {\n      t.exports = n;\n    }, function (t, e) {\n      t.exports = r;\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(7), i(4), i(0), i(13)], void 0 === (r = function (t, e, i, n, r) {\n        \"use strict\";\n\n        function s(t, n, r, s) {\n          var a = this;\n          this.t = t, this.e = n, this.a = \"phenix\" === r, this.u = \"flash\" === r, this.h = s || {}, this.f = {}, this.v = new e.DisposableList(), this.g = null;\n          var u = function (t) {\n            a.y = !0, a.w = !0 === t, t ? c.call(a) : m(\"Failed to create Phenix video element\"), a.b && a.b(a.w);\n          };\n          try {\n            if (this.k = o.call(this), this.k.className = this.t.className, this.k.height = this.t.height, this.k.width = this.t.width, this.S = this.t.style.cssText, this.t.style.cssText = \"visibility:hidden !important;width:0px !important;height:0px !important;margin:0px !important;padding:0px !important;border-style:none !important;border-width:0px !important;max-width:0px !important;max-height:0px !important;outline:none !important\", this.v.add(new e.Disposable(function () {\n              a.t.style.cssText = a.S;\n            })), this.k.onunload = function () {\n              a.y = !1;\n            }, f.call(this), document.body && document.body.contains || l(\"document.body.contains is not supported\"), document.body && document.body.contains && document.body.contains(this.t) && (this.t.parentNode.replaceChild(this.k, this.t), this.u && this.g && (this.k = this.g.finishInitializationInDom()), this.v.add(new e.Disposable(function () {\n              a.k.parentNode && a.k.parentNode.replaceChild(a.t, a.k);\n            }))), !this.a) return u(!0);\n            new i().waitForReady(this.k, u);\n          } catch (t) {\n            m(\"Error while loading Phenix RTC\" + t), u(!1);\n          }\n        }\n        function o() {\n          var t = document.createElement(\"video\");\n          if (this.a && ((t = document.createElement(\"object\")).type = \"application/x-phenix-video\"), this.u) {\n            this.g = new r(this.t, this.e, this.h);\n            var i = this;\n            this.v.add(new e.Disposable(function () {\n              i.g.destroy();\n            })), t = this.g.getElement();\n          }\n          return t;\n        }\n        function a(t) {\n          var e = this;\n          e.k.phenixSetEventListener(t, function () {\n            var i = e.f[t];\n            if (i) for (var n = 0; n < i.length; n++) i[n].apply(e, arguments);\n          });\n        }\n        function u(t, e) {\n          var i;\n          document.createEvent ? (i = document.createEvent(\"HTMLEvents\")).initEvent(e, !0, !0) : (i = document.createEventObject()).eventType = e, i.eventName = e, setTimeout(function () {\n            document.createEvent ? t.dispatchEvent(i) : t.fireEvent(\"on\" + i.eventType, i);\n          });\n        }\n        function c() {\n          for (var t = Object.keys(this.f), e = 0; e < t.length; e++) a.call(this, t[e]);\n          this.hookUpEvents(), h.call(this), this.k.id = this.t.id, this.k.style.cssText = this.S, this.k.className = this.t.className, this.k.innerHtml = this.t.innerHtml, this.k.width = this.t.width, this.k.height = this.t.height, this.k.autoplay = this.t.autoplay, this.k.muted = this.t.muted, this.k.defaultMuted = this.t.defaultMuted, this.k.volume = this.t.volume, this.e && !this.u && (this.k.src = this.e);\n        }\n        function h() {\n          var i = this,\n            r = [\"style\"];\n          if (t.get(n, [\"MutationObserver\"])) {\n            var s = new MutationObserver(function (t) {\n              t.forEach(function (t) {\n                \"attributes\" === t.type && t.target === i.t && -1 === r.indexOf(t.attributeName) && (i.k[t.attributeName] = i.t[t.attributeName]);\n              });\n            });\n            s.observe(i.t, {\n              attributes: !0\n            }), i.v.add(new e.Disposable(function () {\n              s.disconnect();\n            }));\n          } else {\n            l(\"Falling back to use of DOM event listeners. This results in degraded performance for further DOM modifications and does not work for IE prior to version 9. See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Mutation_events for details.\");\n            var o = function (t) {\n              i.k[t.target.tagName] = i.t[t.target.tagName];\n            };\n            i.t.addEventListener ? (i.t.addEventListener(\"DOMAttrModified\", o, !1), i.v.add(new e.Disposable(function () {\n              i.t.removeEventListener(\"DOMAttrModified\", o, !1);\n            }))) : (i.t.attachEvent(\"onpropertychange\", o), i.v.add(new e.Disposable(function () {\n              i.t.detachEvent(\"DOMAttrModified\", o);\n            })));\n          }\n        }\n        function f() {\n          var i = this;\n          if (t.get(n, [\"MutationObserver\"])) {\n            var r = new MutationObserver(function (t) {\n              t.forEach(function (t) {\n                if (\"childList\" === t.type) for (var e = 0; e < t.addedNodes.length; e++) {\n                  var n = t.addedNodes[e];\n                  t.target !== i.k && (n === i.t ? (t.target.replaceChild(i.k, i.t), c.call(i)) : d(t.target, i.t) && (i.t.parentNode && i.t.parentNode.replaceChild(i.k, i.t), c.call(i)));\n                }\n              });\n            });\n            r.observe(document.body, {\n              childList: !0,\n              attributes: !1,\n              characterData: !1,\n              subtree: !0\n            }), i.v.add(new e.Disposable(function () {\n              r.disconnect();\n            }));\n          } else {\n            l(\"Falling back to use of DOM event listeners. This results in degraded performance for further DOM modifications and does not work for IE prior to version 9. See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Mutation_events for details.\");\n            var s = function () {\n              i.t.parentNode && i.t.parentNode.replaceChild(i.k, i.t);\n            };\n            i.addEventListener(\"DOMNodeInserted\", s, !1), i.v.add(new e.Disposable(function () {\n              i.removeEventListener(\"DOMNodeInserted\", s, !1);\n            }));\n          }\n        }\n        function d(t, e) {\n          for (var i = e.parentNode; null !== i;) {\n            if (i === t) return !0;\n            i = i.parentNode;\n          }\n          return !1;\n        }\n        var l = function () {\n            console.log.apply(console, arguments);\n          } || function () {},\n          m = function () {\n            console.error.apply(console, arguments);\n          } || l;\n        return s.prototype.hookUpEvents = function () {\n          var t = this,\n            i = this.t,\n            n = function () {\n              u(i, \"error\");\n            },\n            r = function () {\n              i.muted = t.k.muted, u(i, \"mute\");\n            },\n            s = function () {\n              i.muted = t.k.muted, u(i, \"unmute\");\n            },\n            o = function () {\n              i.ended = t.k.ended, u(i, \"ended\");\n            },\n            a = function () {\n              i.width = t.k.width, i.height = t.k.height, u(i, \"loadedmetadata\");\n            },\n            c = function () {\n              i.width = t.k.width, i.height = t.k.height, u(i, \"loadeddata\");\n            },\n            h = function () {\n              i.width = t.k.width, i.height = t.k.height, u(i, \"resize\");\n            };\n          this.addEventListener(\"error\", n), this.addEventListener(\"mute\", r), this.addEventListener(\"unmute\", s), this.addEventListener(\"ended\", o), this.addEventListener(\"loadedmetadata\", a), this.addEventListener(\"loadeddata\", c), this.addEventListener(\"resize\", h);\n          var f = new e.Disposable(function () {\n            t.removeEventListener(\"error\", n), t.removeEventListener(\"mute\", r), t.removeEventListener(\"unmute\", s), t.removeEventListener(\"ended\", o), t.removeEventListener(\"loadedmetadata\", a), t.removeEventListener(\"loadeddata\", c), t.removeEventListener(\"resize\", h);\n          });\n          return this.v.add(f), f;\n        }, s.prototype.onReady = function (t) {\n          var e = this;\n          this.y ? setTimeout(function () {\n            t(e.w);\n          }, 1) : this.b = t;\n        }, s.prototype.getElement = function () {\n          return this.k;\n        }, s.prototype.addEventListener = function (t, e, i) {\n          (function (t, e, i) {\n            if (this.u) return this.g.addEventListener(t, e);\n            if (this.a) {\n              var n = this.f[t];\n              return n || (n = this.f[t] = [], this.y && a.call(this, t)), n.push(e);\n            }\n            return this.k.addEventListener(t, e, i);\n          }).call(this, t, e, i);\n        }, s.prototype.removeEventListener = function (t, e, i) {\n          (function (t, e, i) {\n            if (this.u) return this.g.removeEventListener(t, e);\n            if (!this.a) return this.k.removeEventListener(t, e, i);\n            var n = this.f[t];\n            if (n) {\n              var r = n.indexOf(e);\n              r >= 0 && ((n = n.splice(r, 1)).length > 0 ? this.f[t] = n : delete this.f[t]);\n            }\n          }).call(this, t, e, i);\n        }, s.prototype.destroy = function () {\n          this.v.dispose();\n        }, s;\n      }.apply(e, n)) || (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(2)], void 0 === (r = function (t) {\n        \"use strict\";\n\n        function e(t) {\n          this.T = t || 15e3;\n        }\n        var i = new t(navigator.userAgent).detect(),\n          n = function () {\n            console.error.apply(console, arguments);\n          } || console.log;\n        return e.prototype.waitForReadyWithTimeout = function (t, e, r) {\n          var s = !1,\n            o = 1,\n            a = o,\n            u = function (t) {\n              s || (s = !0, e(t));\n            };\n          t.hasOwnProperty && t.hasOwnProperty(\"onload\") || \"IE\" !== i.browser && n(\"No means of detecting when <object> is loaded\"), t.onload = function () {\n            u(!0);\n          }, function e() {\n            4 === t.readyState ? u(!0) : t.phenixVersion ? u(!0) : (o = Math.min(o + 1e3, 2 * o), (a += o) > r ? (n(\"Timed out while waiting for <object> to load\"), u(!1)) : setTimeout(e, o));\n          }();\n        }, e.prototype.waitForReady = function (t, e) {\n          t.phenixVersion ? e(!0) : this.waitForReadyWithTimeout(t, e, this.T);\n        }, e;\n      }.apply(e, n)) || (t.exports = r);\n    }, function (t, e) {\n      var i;\n      i = function () {\n        return this;\n      }();\n      try {\n        i = i || Function(\"return this\")() || (0, eval)(\"this\");\n      } catch (t) {\n        \"object\" == typeof window && (i = window);\n      }\n      t.exports = i;\n    }, function (t, e) {\n      t.exports = s;\n    }, function (t, e) {\n      t.exports = o;\n    }, function (t, e) {\n      t.exports = a;\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(6), i(8), i(2), i(0), i(15), i(14)], void 0 === (r = function (t, e, i, n, r, s, o) {\n        \"use strict\";\n\n        function a() {\n          if (t.assign(c, s()), o.isSupported()) {\n            c.phenixSupported = !0;\n            var e = new o(),\n              i = function () {\n                c.RTCPeerConnection = e.getRTCPeerConnectionConstructor(), c.RTCSessionDescription = e.getRTCSessionDescriptionConstructor(), c.RTCIceCandidate = e.getRTCIceCandidateConstructor(), c.getSources = e.getSourcesDelegate(), c.getUserMedia = e.getUserMediaDelegate(), c.getStats = e.getStatsDelegate(), Function.prototype.bind ? (c.attachMediaStream = e.attachMediaStream.bind(e), c.reattachMediaStream = e.reattachMediaStream.bind(e), c.isPhenixEnabled = e.isEnabled.bind(e)) : (c.attachMediaStream = function () {\n                  e.attachMediaStream.apply(e, arguments);\n                }, c.reattachMediaStream = function () {\n                  e.reattachMediaStream.apply(e, arguments);\n                }, c.isPhenixEnabled = function () {\n                  return e.isEnabled();\n                }), c.webrtcSupported = !0, c.phenixSupported = !0, c.phenixVersion = e.getVersion(), c.onLoaded && c.onLoaded.call();\n              };\n            e.isEnabled() ? i() : e.onReady(function (t) {\n              t && (i(), c.onload && \"function\" == typeof c.onload && c.onload());\n            }), e.onLoaded(function () {\n              i();\n            });\n          } else c.phenixSupported = !1;\n          return c;\n        }\n        var u = new n(navigator.userAgent).detect(),\n          c = {\n            browser: u.browser,\n            browserVersion: u.version,\n            phenixSupported: !1,\n            isPhenixEnabled: function () {\n              return !1;\n            },\n            onLoaded: void 0,\n            global: r\n          };\n        return t.assign(a(), {\n          shim: a\n        });\n      }.apply(e, n)) || (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(0)], void 0 === (r = function (t) {\n        \"use strict\";\n\n        return function (e) {\n          t.RTCPeerConnection = e.RTCPeerConnection, t.RTCSessionDescription = e.RTCSessionDescription, t.RTCIceCandidate = e.RTCIceCandidate;\n        };\n      }.apply(e, n)) || (t.exports = r);\n    }, function (t, e, i) {\n      (function (e) {\n        var i;\n        !function (e) {\n          t.exports = e();\n        }(function () {\n          return function t(e, n, r) {\n            function s(a, u) {\n              if (!n[a]) {\n                if (!e[a]) {\n                  if (!u && \"function\" == typeof i && i) return i(a, !0);\n                  if (o) return i(a, !0);\n                  var c = new Error(\"Cannot find module '\" + a + \"'\");\n                  throw c.code = \"MODULE_NOT_FOUND\", c;\n                }\n                var h = n[a] = {\n                  exports: {}\n                };\n                e[a][0].call(h.exports, function (t) {\n                  return s(e[a][1][t] || t);\n                }, h, h.exports, t, e, n, r);\n              }\n              return n[a].exports;\n            }\n            for (var o = \"function\" == typeof i && i, a = 0; a < r.length; a++) s(r[a]);\n            return s;\n          }({\n            1: [function (t, e, i) {\n              \"use strict\";\n\n              var n = {\n                generateIdentifier: function () {\n                  return Math.random().toString(36).substr(2, 10);\n                }\n              };\n              n.localCName = n.generateIdentifier(), n.splitLines = function (t) {\n                return t.trim().split(\"\\n\").map(function (t) {\n                  return t.trim();\n                });\n              }, n.splitSections = function (t) {\n                return t.split(\"\\nm=\").map(function (t, e) {\n                  return (e > 0 ? \"m=\" + t : t).trim() + \"\\r\\n\";\n                });\n              }, n.matchPrefix = function (t, e) {\n                return n.splitLines(t).filter(function (t) {\n                  return 0 === t.indexOf(e);\n                });\n              }, n.parseCandidate = function (t) {\n                for (var e, i = {\n                    foundation: (e = 0 === t.indexOf(\"a=candidate:\") ? t.substring(12).split(\" \") : t.substring(10).split(\" \"))[0],\n                    component: parseInt(e[1], 10),\n                    protocol: e[2].toLowerCase(),\n                    priority: parseInt(e[3], 10),\n                    ip: e[4],\n                    port: parseInt(e[5], 10),\n                    type: e[7]\n                  }, n = 8; n < e.length; n += 2) switch (e[n]) {\n                  case \"raddr\":\n                    i.relatedAddress = e[n + 1];\n                    break;\n                  case \"rport\":\n                    i.relatedPort = parseInt(e[n + 1], 10);\n                    break;\n                  case \"tcptype\":\n                    i.tcpType = e[n + 1];\n                    break;\n                  default:\n                    i[e[n]] = e[n + 1];\n                }\n                return i;\n              }, n.writeCandidate = function (t) {\n                var e = [];\n                e.push(t.foundation), e.push(t.component), e.push(t.protocol.toUpperCase()), e.push(t.priority), e.push(t.ip), e.push(t.port);\n                var i = t.type;\n                return e.push(\"typ\"), e.push(i), \"host\" !== i && t.relatedAddress && t.relatedPort && (e.push(\"raddr\"), e.push(t.relatedAddress), e.push(\"rport\"), e.push(t.relatedPort)), t.tcpType && \"tcp\" === t.protocol.toLowerCase() && (e.push(\"tcptype\"), e.push(t.tcpType)), t.ufrag && (e.push(\"ufrag\"), e.push(t.ufrag)), \"candidate:\" + e.join(\" \");\n              }, n.parseIceOptions = function (t) {\n                return t.substr(14).split(\" \");\n              }, n.parseRtpMap = function (t) {\n                var e = t.substr(9).split(\" \"),\n                  i = {\n                    payloadType: parseInt(e.shift(), 10)\n                  };\n                return e = e[0].split(\"/\"), i.name = e[0], i.clockRate = parseInt(e[1], 10), i.numChannels = 3 === e.length ? parseInt(e[2], 10) : 1, i;\n              }, n.writeRtpMap = function (t) {\n                var e = t.payloadType;\n                return void 0 !== t.preferredPayloadType && (e = t.preferredPayloadType), \"a=rtpmap:\" + e + \" \" + t.name + \"/\" + t.clockRate + (1 !== t.numChannels ? \"/\" + t.numChannels : \"\") + \"\\r\\n\";\n              }, n.parseExtmap = function (t) {\n                var e = t.substr(9).split(\" \");\n                return {\n                  id: parseInt(e[0], 10),\n                  direction: e[0].indexOf(\"/\") > 0 ? e[0].split(\"/\")[1] : \"sendrecv\",\n                  uri: e[1]\n                };\n              }, n.writeExtmap = function (t) {\n                return \"a=extmap:\" + (t.id || t.preferredId) + (t.direction && \"sendrecv\" !== t.direction ? \"/\" + t.direction : \"\") + \" \" + t.uri + \"\\r\\n\";\n              }, n.parseFmtp = function (t) {\n                for (var e, i = {}, n = t.substr(t.indexOf(\" \") + 1).split(\";\"), r = 0; r < n.length; r++) i[(e = n[r].trim().split(\"=\"))[0].trim()] = e[1];\n                return i;\n              }, n.writeFmtp = function (t) {\n                var e = \"\",\n                  i = t.payloadType;\n                if (void 0 !== t.preferredPayloadType && (i = t.preferredPayloadType), t.parameters && Object.keys(t.parameters).length) {\n                  var n = [];\n                  Object.keys(t.parameters).forEach(function (e) {\n                    n.push(e + \"=\" + t.parameters[e]);\n                  }), e += \"a=fmtp:\" + i + \" \" + n.join(\";\") + \"\\r\\n\";\n                }\n                return e;\n              }, n.parseRtcpFb = function (t) {\n                var e = t.substr(t.indexOf(\" \") + 1).split(\" \");\n                return {\n                  type: e.shift(),\n                  parameter: e.join(\" \")\n                };\n              }, n.writeRtcpFb = function (t) {\n                var e = \"\",\n                  i = t.payloadType;\n                return void 0 !== t.preferredPayloadType && (i = t.preferredPayloadType), t.rtcpFeedback && t.rtcpFeedback.length && t.rtcpFeedback.forEach(function (t) {\n                  e += \"a=rtcp-fb:\" + i + \" \" + t.type + (t.parameter && t.parameter.length ? \" \" + t.parameter : \"\") + \"\\r\\n\";\n                }), e;\n              }, n.parseSsrcMedia = function (t) {\n                var e = t.indexOf(\" \"),\n                  i = {\n                    ssrc: parseInt(t.substr(7, e - 7), 10)\n                  },\n                  n = t.indexOf(\":\", e);\n                return n > -1 ? (i.attribute = t.substr(e + 1, n - e - 1), i.value = t.substr(n + 1)) : i.attribute = t.substr(e + 1), i;\n              }, n.getMid = function (t) {\n                var e = n.matchPrefix(t, \"a=mid:\")[0];\n                if (e) return e.substr(6);\n              }, n.parseFingerprint = function (t) {\n                var e = t.substr(14).split(\" \");\n                return {\n                  algorithm: e[0].toLowerCase(),\n                  value: e[1]\n                };\n              }, n.getDtlsParameters = function (t, e) {\n                return {\n                  role: \"auto\",\n                  fingerprints: n.matchPrefix(t + e, \"a=fingerprint:\").map(n.parseFingerprint)\n                };\n              }, n.writeDtlsParameters = function (t, e) {\n                var i = \"a=setup:\" + e + \"\\r\\n\";\n                return t.fingerprints.forEach(function (t) {\n                  i += \"a=fingerprint:\" + t.algorithm + \" \" + t.value + \"\\r\\n\";\n                }), i;\n              }, n.getIceParameters = function (t, e) {\n                var i = n.splitLines(t);\n                return {\n                  usernameFragment: (i = i.concat(n.splitLines(e))).filter(function (t) {\n                    return 0 === t.indexOf(\"a=ice-ufrag:\");\n                  })[0].substr(12),\n                  password: i.filter(function (t) {\n                    return 0 === t.indexOf(\"a=ice-pwd:\");\n                  })[0].substr(10)\n                };\n              }, n.writeIceParameters = function (t) {\n                return \"a=ice-ufrag:\" + t.usernameFragment + \"\\r\\na=ice-pwd:\" + t.password + \"\\r\\n\";\n              }, n.parseRtpParameters = function (t) {\n                for (var e = {\n                    codecs: [],\n                    headerExtensions: [],\n                    fecMechanisms: [],\n                    rtcp: []\n                  }, i = n.splitLines(t)[0].split(\" \"), r = 3; r < i.length; r++) {\n                  var s = i[r],\n                    o = n.matchPrefix(t, \"a=rtpmap:\" + s + \" \")[0];\n                  if (o) {\n                    var a = n.parseRtpMap(o),\n                      u = n.matchPrefix(t, \"a=fmtp:\" + s + \" \");\n                    switch (a.parameters = u.length ? n.parseFmtp(u[0]) : {}, a.rtcpFeedback = n.matchPrefix(t, \"a=rtcp-fb:\" + s + \" \").map(n.parseRtcpFb), e.codecs.push(a), a.name.toUpperCase()) {\n                      case \"RED\":\n                      case \"ULPFEC\":\n                        e.fecMechanisms.push(a.name.toUpperCase());\n                    }\n                  }\n                }\n                return n.matchPrefix(t, \"a=extmap:\").forEach(function (t) {\n                  e.headerExtensions.push(n.parseExtmap(t));\n                }), e;\n              }, n.writeRtpDescription = function (t, e) {\n                var i = \"\";\n                i += \"m=\" + t + \" \", i += e.codecs.length > 0 ? \"9\" : \"0\", i += \" UDP/TLS/RTP/SAVPF \", i += e.codecs.map(function (t) {\n                  return void 0 !== t.preferredPayloadType ? t.preferredPayloadType : t.payloadType;\n                }).join(\" \") + \"\\r\\n\", i += \"c=IN IP4 0.0.0.0\\r\\n\", i += \"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\", e.codecs.forEach(function (t) {\n                  i += n.writeRtpMap(t), i += n.writeFmtp(t), i += n.writeRtcpFb(t);\n                });\n                var r = 0;\n                return e.codecs.forEach(function (t) {\n                  t.maxptime > r && (r = t.maxptime);\n                }), r > 0 && (i += \"a=maxptime:\" + r + \"\\r\\n\"), i += \"a=rtcp-mux\\r\\n\", e.headerExtensions.forEach(function (t) {\n                  i += n.writeExtmap(t);\n                }), i;\n              }, n.parseRtpEncodingParameters = function (t) {\n                var e,\n                  i = [],\n                  r = n.parseRtpParameters(t),\n                  s = -1 !== r.fecMechanisms.indexOf(\"RED\"),\n                  o = -1 !== r.fecMechanisms.indexOf(\"ULPFEC\"),\n                  a = n.matchPrefix(t, \"a=ssrc:\").map(function (t) {\n                    return n.parseSsrcMedia(t);\n                  }).filter(function (t) {\n                    return \"cname\" === t.attribute;\n                  }),\n                  u = a.length > 0 && a[0].ssrc,\n                  c = n.matchPrefix(t, \"a=ssrc-group:FID\").map(function (t) {\n                    var e = t.split(\" \");\n                    return e.shift(), e.map(function (t) {\n                      return parseInt(t, 10);\n                    });\n                  });\n                c.length > 0 && c[0].length > 1 && c[0][0] === u && (e = c[0][1]), r.codecs.forEach(function (t) {\n                  if (\"RTX\" === t.name.toUpperCase() && t.parameters.apt) {\n                    var n = {\n                      ssrc: u,\n                      codecPayloadType: parseInt(t.parameters.apt, 10),\n                      rtx: {\n                        ssrc: e\n                      }\n                    };\n                    i.push(n), s && ((n = JSON.parse(JSON.stringify(n))).fec = {\n                      ssrc: e,\n                      mechanism: o ? \"red+ulpfec\" : \"red\"\n                    }, i.push(n));\n                  }\n                }), 0 === i.length && u && i.push({\n                  ssrc: u\n                });\n                var h = n.matchPrefix(t, \"b=\");\n                return h.length && (h = 0 === h[0].indexOf(\"b=TIAS:\") ? parseInt(h[0].substr(7), 10) : 0 === h[0].indexOf(\"b=AS:\") ? 1e3 * parseInt(h[0].substr(5), 10) * .95 - 16e3 : void 0, i.forEach(function (t) {\n                  t.maxBitrate = h;\n                })), i;\n              }, n.parseRtcpParameters = function (t) {\n                var e = {},\n                  i = n.matchPrefix(t, \"a=ssrc:\").map(function (t) {\n                    return n.parseSsrcMedia(t);\n                  }).filter(function (t) {\n                    return \"cname\" === t.attribute;\n                  })[0];\n                i && (e.cname = i.value, e.ssrc = i.ssrc);\n                var r = n.matchPrefix(t, \"a=rtcp-rsize\");\n                e.reducedSize = r.length > 0, e.compound = 0 === r.length;\n                var s = n.matchPrefix(t, \"a=rtcp-mux\");\n                return e.mux = s.length > 0, e;\n              }, n.parseMsid = function (t) {\n                var e,\n                  i = n.matchPrefix(t, \"a=msid:\");\n                if (1 === i.length) return {\n                  stream: (e = i[0].substr(7).split(\" \"))[0],\n                  track: e[1]\n                };\n                var r = n.matchPrefix(t, \"a=ssrc:\").map(function (t) {\n                  return n.parseSsrcMedia(t);\n                }).filter(function (t) {\n                  return \"msid\" === t.attribute;\n                });\n                return r.length > 0 ? {\n                  stream: (e = r[0].value.split(\" \"))[0],\n                  track: e[1]\n                } : void 0;\n              }, n.generateSessionId = function () {\n                return Math.random().toString().substr(2, 21);\n              }, n.writeSessionBoilerplate = function (t, e) {\n                var i = void 0 !== e ? e : 2;\n                return \"v=0\\r\\no=thisisadapterortc \" + (t || n.generateSessionId()) + \" \" + i + \" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\";\n              }, n.writeMediaSection = function (t, e, i, r) {\n                var s = n.writeRtpDescription(t.kind, e);\n                if (s += n.writeIceParameters(t.iceGatherer.getLocalParameters()), s += n.writeDtlsParameters(t.dtlsTransport.getLocalParameters(), \"offer\" === i ? \"actpass\" : \"active\"), s += \"a=mid:\" + t.mid + \"\\r\\n\", s += t.direction ? \"a=\" + t.direction + \"\\r\\n\" : t.rtpSender && t.rtpReceiver ? \"a=sendrecv\\r\\n\" : t.rtpSender ? \"a=sendonly\\r\\n\" : t.rtpReceiver ? \"a=recvonly\\r\\n\" : \"a=inactive\\r\\n\", t.rtpSender) {\n                  var o = \"msid:\" + r.id + \" \" + t.rtpSender.track.id + \"\\r\\n\";\n                  s += \"a=\" + o, s += \"a=ssrc:\" + t.sendEncodingParameters[0].ssrc + \" \" + o, t.sendEncodingParameters[0].rtx && (s += \"a=ssrc:\" + t.sendEncodingParameters[0].rtx.ssrc + \" \" + o, s += \"a=ssrc-group:FID \" + t.sendEncodingParameters[0].ssrc + \" \" + t.sendEncodingParameters[0].rtx.ssrc + \"\\r\\n\");\n                }\n                return s += \"a=ssrc:\" + t.sendEncodingParameters[0].ssrc + \" cname:\" + n.localCName + \"\\r\\n\", t.rtpSender && t.sendEncodingParameters[0].rtx && (s += \"a=ssrc:\" + t.sendEncodingParameters[0].rtx.ssrc + \" cname:\" + n.localCName + \"\\r\\n\"), s;\n              }, n.getDirection = function (t, e) {\n                for (var i = n.splitLines(t), r = 0; r < i.length; r++) switch (i[r]) {\n                  case \"a=sendrecv\":\n                  case \"a=sendonly\":\n                  case \"a=recvonly\":\n                  case \"a=inactive\":\n                    return i[r].substr(2);\n                }\n                return e ? n.getDirection(e) : \"sendrecv\";\n              }, n.getKind = function (t) {\n                return n.splitLines(t)[0].split(\" \")[0].substr(2);\n              }, n.isRejected = function (t) {\n                return \"0\" === t.split(\" \", 2)[1];\n              }, e.exports = n;\n            }, {}],\n            2: [function (t, i, n) {\n              (function (e) {\n                \"use strict\";\n\n                var n = t(\"./adapter_factory.js\");\n                i.exports = n({\n                  window: e.window\n                });\n              }).call(this, void 0 !== e ? e : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {});\n            }, {\n              \"./adapter_factory.js\": 3\n            }],\n            3: [function (t, e, i) {\n              \"use strict\";\n\n              e.exports = function (e, i) {\n                var n = e && e.window,\n                  r = {\n                    shimChrome: !0,\n                    shimFirefox: !0,\n                    shimEdge: !0,\n                    shimSafari: !0\n                  };\n                for (var s in i) hasOwnProperty.call(i, s) && (r[s] = i[s]);\n                var o = t(\"./utils\"),\n                  a = o.log,\n                  u = o.detectBrowser(n),\n                  c = {\n                    browserDetails: u,\n                    extractVersion: o.extractVersion,\n                    disableLog: o.disableLog,\n                    disableWarnings: o.disableWarnings\n                  },\n                  h = t(\"./chrome/chrome_shim\") || null,\n                  f = t(\"./edge/edge_shim\") || null,\n                  d = t(\"./firefox/firefox_shim\") || null,\n                  l = t(\"./safari/safari_shim\") || null;\n                switch (u.browser) {\n                  case \"chrome\":\n                    if (!h || !h.shimPeerConnection || !r.shimChrome) return a(\"Chrome shim is not included in this adapter release.\"), c;\n                    a(\"adapter.js shimming chrome.\"), c.browserShim = h, h.shimGetUserMedia(n), h.shimMediaStream(n), o.shimCreateObjectURL(n), h.shimSourceObject(n), h.shimPeerConnection(n), h.shimOnTrack(n), h.shimAddTrackRemoveTrack(n), h.shimGetSendersWithDtmf(n);\n                    break;\n                  case \"firefox\":\n                    if (!d || !d.shimPeerConnection || !r.shimFirefox) return a(\"Firefox shim is not included in this adapter release.\"), c;\n                    a(\"adapter.js shimming firefox.\"), c.browserShim = d, d.shimGetUserMedia(n), o.shimCreateObjectURL(n), d.shimSourceObject(n), d.shimPeerConnection(n), d.shimOnTrack(n);\n                    break;\n                  case \"edge\":\n                    if (!f || !f.shimPeerConnection || !r.shimEdge) return a(\"MS edge shim is not included in this adapter release.\"), c;\n                    a(\"adapter.js shimming edge.\"), c.browserShim = f, f.shimGetUserMedia(n), o.shimCreateObjectURL(n), f.shimPeerConnection(n), f.shimReplaceTrack(n);\n                    break;\n                  case \"safari\":\n                    if (!l || !r.shimSafari) return a(\"Safari shim is not included in this adapter release.\"), c;\n                    a(\"adapter.js shimming safari.\"), c.browserShim = l, o.shimCreateObjectURL(n), l.shimRTCIceServerUrls(n), l.shimCallbacksAPI(n), l.shimLocalStreamsAPI(n), l.shimRemoteStreamsAPI(n), l.shimGetUserMedia(n);\n                    break;\n                  default:\n                    a(\"Unsupported browser!\");\n                }\n                return c;\n              };\n            }, {\n              \"./chrome/chrome_shim\": 4,\n              \"./edge/edge_shim\": 6,\n              \"./firefox/firefox_shim\": 9,\n              \"./safari/safari_shim\": 11,\n              \"./utils\": 12\n            }],\n            4: [function (t, e, i) {\n              \"use strict\";\n\n              var n = t(\"../utils.js\"),\n                r = n.log,\n                s = {\n                  shimMediaStream: function (t) {\n                    t.MediaStream = t.MediaStream || t.webkitMediaStream;\n                  },\n                  shimOnTrack: function (t) {\n                    if (\"object\" == typeof t && t.RTCPeerConnection && !(\"ontrack\" in t.RTCPeerConnection.prototype)) {\n                      Object.defineProperty(t.RTCPeerConnection.prototype, \"ontrack\", {\n                        get: function () {\n                          return this.I;\n                        },\n                        set: function (t) {\n                          this.I && this.removeEventListener(\"track\", this.I), this.addEventListener(\"track\", this.I = t);\n                        }\n                      });\n                      var e = t.RTCPeerConnection.prototype.setRemoteDescription;\n                      t.RTCPeerConnection.prototype.setRemoteDescription = function () {\n                        var i = this;\n                        return i.R || (i.R = function (e) {\n                          e.stream.addEventListener(\"addtrack\", function (n) {\n                            var r;\n                            r = t.RTCPeerConnection.prototype.getReceivers ? i.getReceivers().find(function (t) {\n                              return t.track.id === n.track.id;\n                            }) : {\n                              track: n.track\n                            };\n                            var s = new Event(\"track\");\n                            s.track = n.track, s.receiver = r, s.streams = [e.stream], i.dispatchEvent(s);\n                          }), e.stream.getTracks().forEach(function (n) {\n                            var r;\n                            r = t.RTCPeerConnection.prototype.getReceivers ? i.getReceivers().find(function (t) {\n                              return t.track.id === n.id;\n                            }) : {\n                              track: n\n                            };\n                            var s = new Event(\"track\");\n                            s.track = n, s.receiver = r, s.streams = [e.stream], i.dispatchEvent(s);\n                          });\n                        }, i.addEventListener(\"addstream\", i.R)), e.apply(i, arguments);\n                      };\n                    }\n                  },\n                  shimGetSendersWithDtmf: function (t) {\n                    if (\"object\" == typeof t && t.RTCPeerConnection && !(\"getSenders\" in t.RTCPeerConnection.prototype) && \"createDTMFSender\" in t.RTCPeerConnection.prototype) {\n                      var e = function (t, e) {\n                        return {\n                          track: e,\n                          get dtmf() {\n                            return void 0 === this.C && (\"audio\" === e.kind ? this.C = t.createDTMFSender(e) : this.C = null), this.C;\n                          },\n                          M: t\n                        };\n                      };\n                      if (!t.RTCPeerConnection.prototype.getSenders) {\n                        t.RTCPeerConnection.prototype.getSenders = function () {\n                          return this.P = this.P || [], this.P.slice();\n                        };\n                        var i = t.RTCPeerConnection.prototype.addTrack;\n                        t.RTCPeerConnection.prototype.addTrack = function (t, n) {\n                          var r = this,\n                            s = i.apply(r, arguments);\n                          return s || (s = e(r, t), r.P.push(s)), s;\n                        };\n                        var n = t.RTCPeerConnection.prototype.removeTrack;\n                        t.RTCPeerConnection.prototype.removeTrack = function (t) {\n                          var e = this;\n                          n.apply(e, arguments);\n                          var i = e.P.indexOf(t);\n                          -1 !== i && e.P.splice(i, 1);\n                        };\n                      }\n                      var r = t.RTCPeerConnection.prototype.addStream;\n                      t.RTCPeerConnection.prototype.addStream = function (t) {\n                        var i = this;\n                        i.P = i.P || [], r.apply(i, [t]), t.getTracks().forEach(function (t) {\n                          i.P.push(e(i, t));\n                        });\n                      };\n                      var s = t.RTCPeerConnection.prototype.removeStream;\n                      t.RTCPeerConnection.prototype.removeStream = function (t) {\n                        var e = this;\n                        e.P = e.P || [], s.apply(e, [e.x[t.id] || t]), t.getTracks().forEach(function (t) {\n                          var i = e.P.find(function (e) {\n                            return e.track === t;\n                          });\n                          i && e.P.splice(e.P.indexOf(i), 1);\n                        });\n                      };\n                    } else if (\"object\" == typeof t && t.RTCPeerConnection && \"getSenders\" in t.RTCPeerConnection.prototype && \"createDTMFSender\" in t.RTCPeerConnection.prototype && t.RTCRtpSender && !(\"dtmf\" in t.RTCRtpSender.prototype)) {\n                      var o = t.RTCPeerConnection.prototype.getSenders;\n                      t.RTCPeerConnection.prototype.getSenders = function () {\n                        var t = this,\n                          e = o.apply(t, []);\n                        return e.forEach(function (e) {\n                          e.M = t;\n                        }), e;\n                      }, Object.defineProperty(t.RTCRtpSender.prototype, \"dtmf\", {\n                        get: function () {\n                          return void 0 === this.C && (\"audio\" === this.track.kind ? this.C = this.M.createDTMFSender(this.track) : this.C = null), this.C;\n                        }\n                      });\n                    }\n                  },\n                  shimSourceObject: function (t) {\n                    var e = t && t.URL;\n                    \"object\" == typeof t && (!t.HTMLMediaElement || \"srcObject\" in t.HTMLMediaElement.prototype || Object.defineProperty(t.HTMLMediaElement.prototype, \"srcObject\", {\n                      get: function () {\n                        return this.D;\n                      },\n                      set: function (t) {\n                        var i = this;\n                        return this.D = t, this.src && e.revokeObjectURL(this.src), t ? (this.src = e.createObjectURL(t), t.addEventListener(\"addtrack\", function () {\n                          i.src && e.revokeObjectURL(i.src), i.src = e.createObjectURL(t);\n                        }), void t.addEventListener(\"removetrack\", function () {\n                          i.src && e.revokeObjectURL(i.src), i.src = e.createObjectURL(t);\n                        })) : void (this.src = \"\");\n                      }\n                    }));\n                  },\n                  shimAddTrackRemoveTrack: function (t) {\n                    if (!t.RTCPeerConnection.prototype.addTrack) {\n                      var e = t.RTCPeerConnection.prototype.getLocalStreams;\n                      t.RTCPeerConnection.prototype.getLocalStreams = function () {\n                        var t = this,\n                          i = e.apply(this);\n                        return t.A = t.A || {}, i.map(function (e) {\n                          return t.A[e.id];\n                        });\n                      };\n                      var i = t.RTCPeerConnection.prototype.addStream;\n                      t.RTCPeerConnection.prototype.addStream = function (e) {\n                        var n = this;\n                        if (n.x = n.x || {}, n.A = n.A || {}, e.getTracks().forEach(function (t) {\n                          if (n.getSenders().find(function (e) {\n                            return e.track === t;\n                          })) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n                        }), !n.A[e.id]) {\n                          var r = new t.MediaStream(e.getTracks());\n                          n.x[e.id] = r, n.A[r.id] = e, e = r;\n                        }\n                        i.apply(n, [e]);\n                      };\n                      var n = t.RTCPeerConnection.prototype.removeStream;\n                      t.RTCPeerConnection.prototype.removeStream = function (t) {\n                        var e = this;\n                        e.x = e.x || {}, e.A = e.A || {}, n.apply(e, [e.x[t.id] || t]), delete e.A[e.x[t.id] ? e.x[t.id].id : t.id], delete e.x[t.id];\n                      }, t.RTCPeerConnection.prototype.addTrack = function (e, i) {\n                        var n = this;\n                        if (\"closed\" === n.signalingState) throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\", \"InvalidStateError\");\n                        var r = [].slice.call(arguments, 1);\n                        if (1 !== r.length || !r[0].getTracks().find(function (t) {\n                          return t === e;\n                        })) throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\", \"NotSupportedError\");\n                        if (n.getSenders().find(function (t) {\n                          return t.track === e;\n                        })) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n                        n.x = n.x || {}, n.A = n.A || {};\n                        var s = n.x[i.id];\n                        if (s) s.addTrack(e), n.dispatchEvent(new Event(\"negotiationneeded\"));else {\n                          var o = new t.MediaStream([e]);\n                          n.x[i.id] = o, n.A[o.id] = i, n.addStream(o);\n                        }\n                        return n.getSenders().find(function (t) {\n                          return t.track === e;\n                        });\n                      }, t.RTCPeerConnection.prototype.removeTrack = function (t) {\n                        var e,\n                          i = this;\n                        if (\"closed\" === i.signalingState) throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\", \"InvalidStateError\");\n                        if (!t.M) throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\", \"TypeError\");\n                        if (!(t.M === i)) throw new DOMException(\"Sender was not created by this connection.\", \"InvalidAccessError\");\n                        i.x = i.x || {}, Object.keys(i.x).forEach(function (n) {\n                          i.x[n].getTracks().find(function (e) {\n                            return t.track === e;\n                          }) && (e = i.x[n]);\n                        }), e && (1 === e.getTracks().length ? i.removeStream(e) : e.removeTrack(t.track), i.dispatchEvent(new Event(\"negotiationneeded\")));\n                      };\n                    }\n                  },\n                  shimPeerConnection: function (t) {\n                    var e = n.detectBrowser(t);\n                    if (t.RTCPeerConnection) {\n                      var i = t.RTCPeerConnection;\n                      t.RTCPeerConnection = function (t, e) {\n                        if (t && t.iceServers) {\n                          for (var r = [], s = 0; s < t.iceServers.length; s++) {\n                            var o = t.iceServers[s];\n                            !o.hasOwnProperty(\"urls\") && o.hasOwnProperty(\"url\") ? (n.deprecated(\"RTCIceServer.url\", \"RTCIceServer.urls\"), (o = JSON.parse(JSON.stringify(o))).urls = o.url, r.push(o)) : r.push(t.iceServers[s]);\n                          }\n                          t.iceServers = r;\n                        }\n                        return new i(t, e);\n                      }, t.RTCPeerConnection.prototype = i.prototype, Object.defineProperty(t.RTCPeerConnection, \"generateCertificate\", {\n                        get: function () {\n                          return i.generateCertificate;\n                        }\n                      });\n                    } else t.RTCPeerConnection = function (e, i) {\n                      return r(\"PeerConnection\"), e && e.iceTransportPolicy && (e.iceTransports = e.iceTransportPolicy), new t.webkitRTCPeerConnection(e, i);\n                    }, t.RTCPeerConnection.prototype = t.webkitRTCPeerConnection.prototype, t.webkitRTCPeerConnection.generateCertificate && Object.defineProperty(t.RTCPeerConnection, \"generateCertificate\", {\n                      get: function () {\n                        return t.webkitRTCPeerConnection.generateCertificate;\n                      }\n                    });\n                    var s = t.RTCPeerConnection.prototype.getStats;\n                    t.RTCPeerConnection.prototype.getStats = function (t, e, i) {\n                      var n = this,\n                        r = arguments;\n                      if (arguments.length > 0 && \"function\" == typeof t) return s.apply(this, arguments);\n                      if (0 === s.length && (0 === arguments.length || \"function\" != typeof arguments[0])) return s.apply(this, []);\n                      var o = function (t) {\n                          var e = {};\n                          return t.result().forEach(function (t) {\n                            var i = {\n                              id: t.id,\n                              timestamp: t.timestamp,\n                              type: {\n                                localcandidate: \"local-candidate\",\n                                remotecandidate: \"remote-candidate\"\n                              }[t.type] || t.type\n                            };\n                            t.names().forEach(function (e) {\n                              i[e] = t.stat(e);\n                            }), e[i.id] = i;\n                          }), e;\n                        },\n                        a = function (t) {\n                          return new Map(Object.keys(t).map(function (e) {\n                            return [e, t[e]];\n                          }));\n                        };\n                      return arguments.length >= 2 ? s.apply(this, [function (t) {\n                        r[1](a(o(t)));\n                      }, arguments[0]]) : new Promise(function (t, e) {\n                        s.apply(n, [function (e) {\n                          t(a(o(e)));\n                        }, e]);\n                      }).then(e, i);\n                    }, e.version < 51 && [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"].forEach(function (e) {\n                      var i = t.RTCPeerConnection.prototype[e];\n                      t.RTCPeerConnection.prototype[e] = function () {\n                        var t = arguments,\n                          e = this,\n                          n = new Promise(function (n, r) {\n                            i.apply(e, [t[0], n, r]);\n                          });\n                        return t.length < 2 ? n : n.then(function () {\n                          t[1].apply(null, []);\n                        }, function (e) {\n                          t.length >= 3 && t[2].apply(null, [e]);\n                        });\n                      };\n                    }), e.version < 52 && [\"createOffer\", \"createAnswer\"].forEach(function (e) {\n                      var i = t.RTCPeerConnection.prototype[e];\n                      t.RTCPeerConnection.prototype[e] = function () {\n                        var t = this;\n                        if (arguments.length < 1 || 1 === arguments.length && \"object\" == typeof arguments[0]) {\n                          var e = 1 === arguments.length ? arguments[0] : void 0;\n                          return new Promise(function (n, r) {\n                            i.apply(t, [n, r, e]);\n                          });\n                        }\n                        return i.apply(this, arguments);\n                      };\n                    }), [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"].forEach(function (e) {\n                      var i = t.RTCPeerConnection.prototype[e];\n                      t.RTCPeerConnection.prototype[e] = function () {\n                        return arguments[0] = new (\"addIceCandidate\" === e ? t.RTCIceCandidate : t.RTCSessionDescription)(arguments[0]), i.apply(this, arguments);\n                      };\n                    });\n                    var o = t.RTCPeerConnection.prototype.addIceCandidate;\n                    t.RTCPeerConnection.prototype.addIceCandidate = function () {\n                      return arguments[0] ? o.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve());\n                    };\n                  }\n                };\n              e.exports = {\n                shimMediaStream: s.shimMediaStream,\n                shimOnTrack: s.shimOnTrack,\n                shimAddTrackRemoveTrack: s.shimAddTrackRemoveTrack,\n                shimGetSendersWithDtmf: s.shimGetSendersWithDtmf,\n                shimSourceObject: s.shimSourceObject,\n                shimPeerConnection: s.shimPeerConnection,\n                shimGetUserMedia: t(\"./getusermedia\")\n              };\n            }, {\n              \"../utils.js\": 12,\n              \"./getusermedia\": 5\n            }],\n            5: [function (t, e, i) {\n              \"use strict\";\n\n              var n = t(\"../utils.js\"),\n                r = n.log;\n              e.exports = function (t) {\n                var e = n.detectBrowser(t),\n                  i = t && t.navigator,\n                  s = function (t) {\n                    if (\"object\" != typeof t || t.mandatory || t.optional) return t;\n                    var e = {};\n                    return Object.keys(t).forEach(function (i) {\n                      if (\"require\" !== i && \"advanced\" !== i && \"mediaSource\" !== i) {\n                        var n = \"object\" == typeof t[i] ? t[i] : {\n                          ideal: t[i]\n                        };\n                        void 0 !== n.exact && \"number\" == typeof n.exact && (n.min = n.max = n.exact);\n                        var r = function (t, e) {\n                          return t ? t + e.charAt(0).toUpperCase() + e.slice(1) : \"deviceId\" === e ? \"sourceId\" : e;\n                        };\n                        if (void 0 !== n.ideal) {\n                          e.optional = e.optional || [];\n                          var s = {};\n                          \"number\" == typeof n.ideal ? (s[r(\"min\", i)] = n.ideal, e.optional.push(s), (s = {})[r(\"max\", i)] = n.ideal, e.optional.push(s)) : (s[r(\"\", i)] = n.ideal, e.optional.push(s));\n                        }\n                        void 0 !== n.exact && \"number\" != typeof n.exact ? (e.mandatory = e.mandatory || {}, e.mandatory[r(\"\", i)] = n.exact) : [\"min\", \"max\"].forEach(function (t) {\n                          void 0 !== n[t] && (e.mandatory = e.mandatory || {}, e.mandatory[r(t, i)] = n[t]);\n                        });\n                      }\n                    }), t.advanced && (e.optional = (e.optional || []).concat(t.advanced)), e;\n                  },\n                  o = function (t, n) {\n                    if ((t = JSON.parse(JSON.stringify(t))) && \"object\" == typeof t.audio) {\n                      var o = function (t, e, i) {\n                        e in t && !(i in t) && (t[i] = t[e], delete t[e]);\n                      };\n                      o((t = JSON.parse(JSON.stringify(t))).audio, \"autoGainControl\", \"googAutoGainControl\"), o(t.audio, \"noiseSuppression\", \"googNoiseSuppression\"), t.audio = s(t.audio);\n                    }\n                    if (t && \"object\" == typeof t.video) {\n                      var a = t.video.facingMode;\n                      a = a && (\"object\" == typeof a ? a : {\n                        ideal: a\n                      });\n                      var u,\n                        c = e.version < 61;\n                      if (a && (\"user\" === a.exact || \"environment\" === a.exact || \"user\" === a.ideal || \"environment\" === a.ideal) && (!i.mediaDevices.getSupportedConstraints || !i.mediaDevices.getSupportedConstraints().facingMode || c) && (delete t.video.facingMode, \"environment\" === a.exact || \"environment\" === a.ideal ? u = [\"back\", \"rear\"] : \"user\" !== a.exact && \"user\" !== a.ideal || (u = [\"front\"]), u)) return i.mediaDevices.enumerateDevices().then(function (e) {\n                        var i = (e = e.filter(function (t) {\n                          return \"videoinput\" === t.kind;\n                        })).find(function (t) {\n                          return u.some(function (e) {\n                            return -1 !== t.label.toLowerCase().indexOf(e);\n                          });\n                        });\n                        return !i && e.length && -1 !== u.indexOf(\"back\") && (i = e[e.length - 1]), i && (t.video.deviceId = a.exact ? {\n                          exact: i.deviceId\n                        } : {\n                          ideal: i.deviceId\n                        }), t.video = s(t.video), r(\"chrome: \" + JSON.stringify(t)), n(t);\n                      });\n                      t.video = s(t.video);\n                    }\n                    return r(\"chrome: \" + JSON.stringify(t)), n(t);\n                  },\n                  a = function (t) {\n                    return {\n                      name: {\n                        PermissionDeniedError: \"NotAllowedError\",\n                        InvalidStateError: \"NotReadableError\",\n                        DevicesNotFoundError: \"NotFoundError\",\n                        ConstraintNotSatisfiedError: \"OverconstrainedError\",\n                        TrackStartError: \"NotReadableError\",\n                        MediaDeviceFailedDueToShutdown: \"NotReadableError\",\n                        MediaDeviceKillSwitchOn: \"NotReadableError\"\n                      }[t.name] || t.name,\n                      message: t.message,\n                      constraint: t.constraintName,\n                      toString: function () {\n                        return this.name + (this.message && \": \") + this.message;\n                      }\n                    };\n                  };\n                i.getUserMedia = function (t, e, n) {\n                  o(t, function (t) {\n                    i.webkitGetUserMedia(t, e, function (t) {\n                      n(a(t));\n                    });\n                  });\n                };\n                var u = function (t) {\n                  return new Promise(function (e, n) {\n                    i.getUserMedia(t, e, n);\n                  });\n                };\n                if (i.mediaDevices || (i.mediaDevices = {\n                  getUserMedia: u,\n                  enumerateDevices: function () {\n                    return new Promise(function (e) {\n                      var i = {\n                        audio: \"audioinput\",\n                        video: \"videoinput\"\n                      };\n                      return t.MediaStreamTrack.getSources(function (t) {\n                        e(t.map(function (t) {\n                          return {\n                            label: t.label,\n                            kind: i[t.kind],\n                            deviceId: t.id,\n                            groupId: \"\"\n                          };\n                        }));\n                      });\n                    });\n                  },\n                  getSupportedConstraints: function () {\n                    return {\n                      deviceId: !0,\n                      echoCancellation: !0,\n                      facingMode: !0,\n                      frameRate: !0,\n                      height: !0,\n                      width: !0\n                    };\n                  }\n                }), i.mediaDevices.getUserMedia) {\n                  var c = i.mediaDevices.getUserMedia.bind(i.mediaDevices);\n                  i.mediaDevices.getUserMedia = function (t) {\n                    return o(t, function (t) {\n                      return c(t).then(function (e) {\n                        if (t.audio && !e.getAudioTracks().length || t.video && !e.getVideoTracks().length) throw e.getTracks().forEach(function (t) {\n                          t.stop();\n                        }), new DOMException(\"\", \"NotFoundError\");\n                        return e;\n                      }, function (t) {\n                        return Promise.reject(a(t));\n                      });\n                    });\n                  };\n                } else i.mediaDevices.getUserMedia = function (t) {\n                  return u(t);\n                };\n                void 0 === i.mediaDevices.addEventListener && (i.mediaDevices.addEventListener = function () {\n                  r(\"Dummy mediaDevices.addEventListener called.\");\n                }), void 0 === i.mediaDevices.removeEventListener && (i.mediaDevices.removeEventListener = function () {\n                  r(\"Dummy mediaDevices.removeEventListener called.\");\n                });\n              };\n            }, {\n              \"../utils.js\": 12\n            }],\n            6: [function (t, e, i) {\n              \"use strict\";\n\n              var n = t(\"../utils\"),\n                r = t(\"./rtcpeerconnection_shim\");\n              e.exports = {\n                shimGetUserMedia: t(\"./getusermedia\"),\n                shimPeerConnection: function (t) {\n                  var e = n.detectBrowser(t);\n                  if (t.RTCIceGatherer && (t.RTCIceCandidate || (t.RTCIceCandidate = function (t) {\n                    return t;\n                  }), t.RTCSessionDescription || (t.RTCSessionDescription = function (t) {\n                    return t;\n                  }), e.version < 15025)) {\n                    var i = Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype, \"enabled\");\n                    Object.defineProperty(t.MediaStreamTrack.prototype, \"enabled\", {\n                      set: function (t) {\n                        i.set.call(this, t);\n                        var e = new Event(\"enabled\");\n                        e.enabled = t, this.dispatchEvent(e);\n                      }\n                    });\n                  }\n                  !t.RTCRtpSender || \"dtmf\" in t.RTCRtpSender.prototype || Object.defineProperty(t.RTCRtpSender.prototype, \"dtmf\", {\n                    get: function () {\n                      return void 0 === this.C && (\"audio\" === this.track.kind ? this.C = new t.RTCDtmfSender(this) : \"video\" === this.track.kind && (this.C = null)), this.C;\n                    }\n                  }), t.RTCPeerConnection = r(t, e.version);\n                },\n                shimReplaceTrack: function (t) {\n                  !t.RTCRtpSender || \"replaceTrack\" in t.RTCRtpSender.prototype || (t.RTCRtpSender.prototype.replaceTrack = t.RTCRtpSender.prototype.setTrack);\n                }\n              };\n            }, {\n              \"../utils\": 12,\n              \"./getusermedia\": 7,\n              \"./rtcpeerconnection_shim\": 8\n            }],\n            7: [function (t, e, i) {\n              \"use strict\";\n\n              e.exports = function (t) {\n                var e = t && t.navigator,\n                  i = e.mediaDevices.getUserMedia.bind(e.mediaDevices);\n                e.mediaDevices.getUserMedia = function (t) {\n                  return i(t).catch(function (t) {\n                    return Promise.reject(function (t) {\n                      return {\n                        name: {\n                          PermissionDeniedError: \"NotAllowedError\"\n                        }[t.name] || t.name,\n                        message: t.message,\n                        constraint: t.constraint,\n                        toString: function () {\n                          return this.name;\n                        }\n                      };\n                    }(t));\n                  });\n                };\n              };\n            }, {}],\n            8: [function (t, e, i) {\n              \"use strict\";\n\n              function n(t, e) {\n                var i = {\n                    codecs: [],\n                    headerExtensions: [],\n                    fecMechanisms: []\n                  },\n                  n = function (t, e) {\n                    t = parseInt(t, 10);\n                    for (var i = 0; i < e.length; i++) if (e[i].payloadType === t || e[i].preferredPayloadType === t) return e[i];\n                  },\n                  r = function (t, e, i, r) {\n                    var s = n(t.parameters.apt, i),\n                      o = n(e.parameters.apt, r);\n                    return s && o && s.name.toLowerCase() === o.name.toLowerCase();\n                  };\n                return t.codecs.forEach(function (n) {\n                  for (var s = 0; s < e.codecs.length; s++) {\n                    var o = e.codecs[s];\n                    if (n.name.toLowerCase() === o.name.toLowerCase() && n.clockRate === o.clockRate) {\n                      if (\"rtx\" === n.name.toLowerCase() && n.parameters && o.parameters.apt && !r(n, o, t.codecs, e.codecs)) continue;\n                      (o = JSON.parse(JSON.stringify(o))).numChannels = Math.min(n.numChannels, o.numChannels), i.codecs.push(o), o.rtcpFeedback = o.rtcpFeedback.filter(function (t) {\n                        for (var e = 0; e < n.rtcpFeedback.length; e++) if (n.rtcpFeedback[e].type === t.type && n.rtcpFeedback[e].parameter === t.parameter) return !0;\n                        return !1;\n                      });\n                      break;\n                    }\n                  }\n                }), t.headerExtensions.forEach(function (t) {\n                  for (var n = 0; n < e.headerExtensions.length; n++) {\n                    var r = e.headerExtensions[n];\n                    if (t.uri === r.uri) {\n                      i.headerExtensions.push(r);\n                      break;\n                    }\n                  }\n                }), i;\n              }\n              function r(t, e, i) {\n                return -1 !== {\n                  offer: {\n                    setLocalDescription: [\"stable\", \"have-local-offer\"],\n                    setRemoteDescription: [\"stable\", \"have-remote-offer\"]\n                  },\n                  answer: {\n                    setLocalDescription: [\"have-remote-offer\", \"have-local-pranswer\"],\n                    setRemoteDescription: [\"have-local-offer\", \"have-remote-pranswer\"]\n                  }\n                }[e][t].indexOf(i);\n              }\n              var s = t(\"sdp\");\n              e.exports = function (t, e) {\n                var i = function (i) {\n                  var n = this,\n                    r = document.createDocumentFragment();\n                  if ([\"addEventListener\", \"removeEventListener\", \"dispatchEvent\"].forEach(function (t) {\n                    n[t] = r[t].bind(r);\n                  }), this.needNegotiation = !1, this.onicecandidate = null, this.onaddstream = null, this.ontrack = null, this.onremovestream = null, this.onsignalingstatechange = null, this.oniceconnectionstatechange = null, this.onicegatheringstatechange = null, this.onnegotiationneeded = null, this.ondatachannel = null, this.canTrickleIceCandidates = null, this.localStreams = [], this.remoteStreams = [], this.getLocalStreams = function () {\n                    return n.localStreams;\n                  }, this.getRemoteStreams = function () {\n                    return n.remoteStreams;\n                  }, this.localDescription = new t.RTCSessionDescription({\n                    type: \"\",\n                    sdp: \"\"\n                  }), this.remoteDescription = new t.RTCSessionDescription({\n                    type: \"\",\n                    sdp: \"\"\n                  }), this.signalingState = \"stable\", this.iceConnectionState = \"new\", this.iceGatheringState = \"new\", this.iceOptions = {\n                    gatherPolicy: \"all\",\n                    iceServers: []\n                  }, i && i.iceTransportPolicy) switch (i.iceTransportPolicy) {\n                    case \"all\":\n                    case \"relay\":\n                      this.iceOptions.gatherPolicy = i.iceTransportPolicy;\n                  }\n                  this.usingBundle = i && \"max-bundle\" === i.bundlePolicy, i && i.iceServers && (this.iceOptions.iceServers = function (t, e) {\n                    var i = !1;\n                    return (t = JSON.parse(JSON.stringify(t))).filter(function (t) {\n                      if (t && (t.urls || t.url)) {\n                        var n = t.urls || t.url;\n                        t.url && !t.urls && console.warn(\"RTCIceServer.url is deprecated! Use urls instead.\");\n                        var r = \"string\" == typeof n;\n                        return r && (n = [n]), n = n.filter(function (t) {\n                          return 0 === t.indexOf(\"turn:\") && -1 !== t.indexOf(\"transport=udp\") && -1 === t.indexOf(\"turn:[\") && !i ? (i = !0, !0) : 0 === t.indexOf(\"stun:\") && e >= 14393;\n                        }), delete t.url, t.urls = r ? n[0] : n, !!n.length;\n                      }\n                      return !1;\n                    });\n                  }(i.iceServers, e)), this.O = i || {}, this.transceivers = [], this.q = [], this.U = s.generateSessionId();\n                };\n                return i.prototype.F = function () {\n                  var t = new Event(\"icegatheringstatechange\");\n                  this.dispatchEvent(t), null !== this.onicegatheringstatechange && this.onicegatheringstatechange(t);\n                }, i.prototype.N = function () {\n                  var t = this,\n                    e = s.splitSections(t.localDescription.sdp);\n                  this.q.forEach(function (i) {\n                    if (!i.candidate || 0 === Object.keys(i.candidate).length) for (var n = 1; n < e.length; n++) -1 === e[n].indexOf(\"\\r\\na=end-of-candidates\\r\\n\") && (e[n] += \"a=end-of-candidates\\r\\n\");else e[i.candidate.sdpMLineIndex + 1] += \"a=\" + i.candidate.candidate + \"\\r\\n\";\n                    (t.localDescription.sdp = e.join(\"\"), t.dispatchEvent(i), null !== t.onicecandidate && t.onicecandidate(i), i.candidate || \"complete\" === t.iceGatheringState) || t.transceivers.every(function (t) {\n                      return t.iceGatherer && \"completed\" === t.iceGatherer.state;\n                    }) && \"complete\" !== t.iceGatheringStateChange && (t.iceGatheringState = \"complete\", t.F());\n                  }), this.q = [];\n                }, i.prototype.getConfiguration = function () {\n                  return this.O;\n                }, i.prototype.L = function (t) {\n                  var e = this.transceivers.length > 0,\n                    i = {\n                      track: null,\n                      iceGatherer: null,\n                      iceTransport: null,\n                      dtlsTransport: null,\n                      localCapabilities: null,\n                      remoteCapabilities: null,\n                      rtpSender: null,\n                      rtpReceiver: null,\n                      kind: t,\n                      mid: null,\n                      sendEncodingParameters: null,\n                      recvEncodingParameters: null,\n                      stream: null,\n                      wantReceive: !0\n                    };\n                  if (this.usingBundle && e) i.iceTransport = this.transceivers[0].iceTransport, i.dtlsTransport = this.transceivers[0].dtlsTransport;else {\n                    var n = this.j();\n                    i.iceTransport = n.iceTransport, i.dtlsTransport = n.dtlsTransport;\n                  }\n                  return this.transceivers.push(i), i;\n                }, i.prototype.addTrack = function (e, i) {\n                  for (var n, r = 0; r < this.transceivers.length; r++) this.transceivers[r].track || this.transceivers[r].kind !== e.kind || (n = this.transceivers[r]);\n                  return n || (n = this.L(e.kind)), n.track = e, n.stream = i, n.rtpSender = new t.RTCRtpSender(e, n.dtlsTransport), this.B(), n.rtpSender;\n                }, i.prototype.addStream = function (t) {\n                  var i = this;\n                  if (e >= 15025) this.localStreams.push(t), t.getTracks().forEach(function (e) {\n                    i.addTrack(e, t);\n                  });else {\n                    var n = t.clone();\n                    t.getTracks().forEach(function (t, e) {\n                      var i = n.getTracks()[e];\n                      t.addEventListener(\"enabled\", function (t) {\n                        i.enabled = t.enabled;\n                      });\n                    }), n.getTracks().forEach(function (t) {\n                      i.addTrack(t, n);\n                    }), this.localStreams.push(n);\n                  }\n                  this.B();\n                }, i.prototype.removeStream = function (t) {\n                  var e = this.localStreams.indexOf(t);\n                  e > -1 && (this.localStreams.splice(e, 1), this.B());\n                }, i.prototype.getSenders = function () {\n                  return this.transceivers.filter(function (t) {\n                    return !!t.rtpSender;\n                  }).map(function (t) {\n                    return t.rtpSender;\n                  });\n                }, i.prototype.getReceivers = function () {\n                  return this.transceivers.filter(function (t) {\n                    return !!t.rtpReceiver;\n                  }).map(function (t) {\n                    return t.rtpReceiver;\n                  });\n                }, i.prototype.W = function (e, i) {\n                  var n = this,\n                    r = new t.RTCIceGatherer(n.iceOptions);\n                  return r.onlocalcandidate = function (t) {\n                    var o = new Event(\"icecandidate\");\n                    o.candidate = {\n                      sdpMid: e,\n                      sdpMLineIndex: i\n                    };\n                    var a = t.candidate,\n                      u = !a || 0 === Object.keys(a).length;\n                    u ? void 0 === r.state && (r.state = \"completed\") : (a.component = 1, o.candidate.candidate = s.writeCandidate(a));\n                    var c = s.splitSections(n.localDescription.sdp);\n                    c[o.candidate.sdpMLineIndex + 1] += u ? \"a=end-of-candidates\\r\\n\" : \"a=\" + o.candidate.candidate + \"\\r\\n\", n.localDescription.sdp = c.join(\"\");\n                    var h = (n.z ? n.z : n.transceivers).every(function (t) {\n                      return t.iceGatherer && \"completed\" === t.iceGatherer.state;\n                    });\n                    switch (n.iceGatheringState) {\n                      case \"new\":\n                        u || n.q.push(o), u && h && n.q.push(new Event(\"icecandidate\"));\n                        break;\n                      case \"gathering\":\n                        n.N(), u || (n.dispatchEvent(o), null !== n.onicecandidate && n.onicecandidate(o)), h && (n.dispatchEvent(new Event(\"icecandidate\")), null !== n.onicecandidate && n.onicecandidate(new Event(\"icecandidate\")), n.iceGatheringState = \"complete\", n.F());\n                    }\n                  }, r;\n                }, i.prototype.j = function () {\n                  var e = this,\n                    i = new t.RTCIceTransport(null);\n                  i.onicestatechange = function () {\n                    e.V();\n                  };\n                  var n = new t.RTCDtlsTransport(i);\n                  return n.ondtlsstatechange = function () {\n                    e.V();\n                  }, n.onerror = function () {\n                    Object.defineProperty(n, \"state\", {\n                      value: \"failed\",\n                      writable: !0\n                    }), e.V();\n                  }, {\n                    iceTransport: i,\n                    dtlsTransport: n\n                  };\n                }, i.prototype.H = function (t) {\n                  var e = this.transceivers[t].iceGatherer;\n                  e && (delete e.onlocalcandidate, delete this.transceivers[t].iceGatherer);\n                  var i = this.transceivers[t].iceTransport;\n                  i && (delete i.onicestatechange, delete this.transceivers[t].iceTransport);\n                  var n = this.transceivers[t].dtlsTransport;\n                  n && (delete n.ondtlsstatechange, delete n.onerror, delete this.transceivers[t].dtlsTransport);\n                }, i.prototype.G = function (t, i, r) {\n                  var o = n(t.localCapabilities, t.remoteCapabilities);\n                  i && t.rtpSender && (o.encodings = t.sendEncodingParameters, o.rtcp = {\n                    cname: s.localCName,\n                    compound: t.rtcpParameters.compound\n                  }, t.recvEncodingParameters.length && (o.rtcp.ssrc = t.recvEncodingParameters[0].ssrc), t.rtpSender.send(o)), r && t.rtpReceiver && (\"video\" === t.kind && t.recvEncodingParameters && e < 15019 && t.recvEncodingParameters.forEach(function (t) {\n                    delete t.rtx;\n                  }), o.encodings = t.recvEncodingParameters, o.rtcp = {\n                    cname: t.rtcpParameters.cname,\n                    compound: t.rtcpParameters.compound\n                  }, t.sendEncodingParameters.length && (o.rtcp.ssrc = t.sendEncodingParameters[0].ssrc), t.rtpReceiver.receive(o));\n                }, i.prototype.setLocalDescription = function (e) {\n                  var i,\n                    o,\n                    a = this;\n                  if (!r(\"setLocalDescription\", e.type, this.signalingState)) {\n                    var u = new Error(\"Can not set local \" + e.type + \" in state \" + this.signalingState);\n                    return u.name = \"InvalidStateError\", arguments.length > 2 && \"function\" == typeof arguments[2] && t.setTimeout(arguments[2], 0, u), Promise.reject(u);\n                  }\n                  if (\"offer\" === e.type) this.z && (i = s.splitSections(e.sdp), o = i.shift(), i.forEach(function (t, e) {\n                    var i = s.parseRtpParameters(t);\n                    a.z[e].localCapabilities = i;\n                  }), this.transceivers = this.z, delete this.z);else if (\"answer\" === e.type) {\n                    i = s.splitSections(a.remoteDescription.sdp), o = i.shift();\n                    var c = s.matchPrefix(o, \"a=ice-lite\").length > 0;\n                    i.forEach(function (t, e) {\n                      var i = a.transceivers[e],\n                        r = i.iceGatherer,\n                        u = i.iceTransport,\n                        h = i.dtlsTransport,\n                        f = i.localCapabilities,\n                        d = i.remoteCapabilities;\n                      if (!s.isRejected(t) && !i.isDatachannel) {\n                        var l = s.getIceParameters(t, o),\n                          m = s.getDtlsParameters(t, o);\n                        c && (m.role = \"server\"), a.usingBundle && 0 !== e || (u.start(r, l, c ? \"controlling\" : \"controlled\"), h.start(m));\n                        var p = n(f, d);\n                        a.G(i, p.codecs.length > 0, !1);\n                      }\n                    });\n                  }\n                  switch (this.localDescription = {\n                    type: e.type,\n                    sdp: e.sdp\n                  }, e.type) {\n                    case \"offer\":\n                      this.K(\"have-local-offer\");\n                      break;\n                    case \"answer\":\n                      this.K(\"stable\");\n                      break;\n                    default:\n                      throw new TypeError('unsupported type \"' + e.type + '\"');\n                  }\n                  var h = arguments.length > 1 && \"function\" == typeof arguments[1];\n                  if (h) {\n                    var f = arguments[1];\n                    t.setTimeout(function () {\n                      f(), \"new\" === a.iceGatheringState && (a.iceGatheringState = \"gathering\", a.F()), a.N();\n                    }, 0);\n                  }\n                  var d = Promise.resolve();\n                  return d.then(function () {\n                    h || (\"new\" === a.iceGatheringState && (a.iceGatheringState = \"gathering\", a.F()), t.setTimeout(a.N.bind(a), 500));\n                  }), d;\n                }, i.prototype.setRemoteDescription = function (i) {\n                  var n = this;\n                  if (!r(\"setRemoteDescription\", i.type, this.signalingState)) {\n                    var o = new Error(\"Can not set remote \" + i.type + \" in state \" + this.signalingState);\n                    return o.name = \"InvalidStateError\", arguments.length > 2 && \"function\" == typeof arguments[2] && t.setTimeout(arguments[2], 0, o), Promise.reject(o);\n                  }\n                  var a = {},\n                    u = [],\n                    c = s.splitSections(i.sdp),\n                    h = c.shift(),\n                    f = s.matchPrefix(h, \"a=ice-lite\").length > 0,\n                    d = s.matchPrefix(h, \"a=group:BUNDLE \").length > 0;\n                  this.usingBundle = d;\n                  var l = s.matchPrefix(h, \"a=ice-options:\")[0];\n                  switch (this.canTrickleIceCandidates = !!l && l.substr(14).split(\" \").indexOf(\"trickle\") >= 0, c.forEach(function (r, o) {\n                    var c = s.splitLines(r),\n                      l = s.getKind(r),\n                      m = s.isRejected(r),\n                      p = c[0].substr(2).split(\" \")[2],\n                      v = s.getDirection(r, h),\n                      g = s.parseMsid(r),\n                      y = s.getMid(r) || s.generateIdentifier();\n                    if (\"application\" !== l || \"DTLS/SCTP\" !== p) {\n                      var w,\n                        b,\n                        k,\n                        S,\n                        E,\n                        T,\n                        I,\n                        R,\n                        C,\n                        M,\n                        P,\n                        x = s.parseRtpParameters(r);\n                      m || (M = s.getIceParameters(r, h), (P = s.getDtlsParameters(r, h)).role = \"client\"), I = s.parseRtpEncodingParameters(r);\n                      var D = s.parseRtcpParameters(r),\n                        A = s.matchPrefix(r, \"a=end-of-candidates\", h).length > 0,\n                        O = s.matchPrefix(r, \"a=candidate:\").map(function (t) {\n                          return s.parseCandidate(t);\n                        }).filter(function (t) {\n                          return \"1\" === t.component || 1 === t.component;\n                        });\n                      (\"offer\" === i.type || \"answer\" === i.type) && !m && d && o > 0 && n.transceivers[o] && (n.H(o), n.transceivers[o].iceGatherer = n.transceivers[0].iceGatherer, n.transceivers[o].iceTransport = n.transceivers[0].iceTransport, n.transceivers[o].dtlsTransport = n.transceivers[0].dtlsTransport, n.transceivers[o].rtpSender && n.transceivers[o].rtpSender.setTransport(n.transceivers[0].dtlsTransport), n.transceivers[o].rtpReceiver && n.transceivers[o].rtpReceiver.setTransport(n.transceivers[0].dtlsTransport)), \"offer\" !== i.type || m ? \"answer\" !== i.type || m || (b = (w = n.transceivers[o]).iceGatherer, k = w.iceTransport, S = w.dtlsTransport, E = w.rtpReceiver, T = w.sendEncodingParameters, R = w.localCapabilities, n.transceivers[o].recvEncodingParameters = I, n.transceivers[o].remoteCapabilities = x, n.transceivers[o].rtcpParameters = D, d && 0 !== o || ((f || A) && O.length && k.setRemoteCandidates(O), k.start(b, M, \"controlling\"), S.start(P)), n.G(w, \"sendrecv\" === v || \"recvonly\" === v, \"sendrecv\" === v || \"sendonly\" === v), !E || \"sendrecv\" !== v && \"sendonly\" !== v ? delete w.rtpReceiver : (C = E.track, g ? (a[g.stream] || (a[g.stream] = new t.MediaStream()), a[g.stream].addTrack(C), u.push([C, E, a[g.stream]])) : (a.default || (a.default = new t.MediaStream()), a.default.addTrack(C), u.push([C, E, a.default])))) : ((w = n.transceivers[o] || n.L(l)).mid = y, w.iceGatherer || (w.iceGatherer = d && o > 0 ? n.transceivers[0].iceGatherer : n.W(y, o)), !A || !O.length || d && 0 !== o || w.iceTransport.setRemoteCandidates(O), R = t.RTCRtpReceiver.getCapabilities(l), e < 15019 && (R.codecs = R.codecs.filter(function (t) {\n                        return \"rtx\" !== t.name;\n                      })), T = [{\n                        ssrc: 1001 * (2 * o + 2)\n                      }], \"sendrecv\" !== v && \"sendonly\" !== v || (C = (E = new t.RTCRtpReceiver(w.dtlsTransport, l)).track, g ? (a[g.stream] || (a[g.stream] = new t.MediaStream(), Object.defineProperty(a[g.stream], \"id\", {\n                        get: function () {\n                          return g.stream;\n                        }\n                      })), Object.defineProperty(C, \"id\", {\n                        get: function () {\n                          return g.track;\n                        }\n                      }), a[g.stream].addTrack(C), u.push([C, E, a[g.stream]])) : (a.default || (a.default = new t.MediaStream()), a.default.addTrack(C), u.push([C, E, a.default]))), w.localCapabilities = R, w.remoteCapabilities = x, w.rtpReceiver = E, w.rtcpParameters = D, w.sendEncodingParameters = T, w.recvEncodingParameters = I, n.G(n.transceivers[o], !1, \"sendrecv\" === v || \"sendonly\" === v));\n                    } else n.transceivers[o] = {\n                      mid: y,\n                      isDatachannel: !0\n                    };\n                  }), this.remoteDescription = {\n                    type: i.type,\n                    sdp: i.sdp\n                  }, i.type) {\n                    case \"offer\":\n                      this.K(\"have-remote-offer\");\n                      break;\n                    case \"answer\":\n                      this.K(\"stable\");\n                      break;\n                    default:\n                      throw new TypeError('unsupported type \"' + i.type + '\"');\n                  }\n                  return Object.keys(a).forEach(function (e) {\n                    var i = a[e];\n                    if (i.getTracks().length) {\n                      n.remoteStreams.push(i);\n                      var r = new Event(\"addstream\");\n                      r.stream = i, n.dispatchEvent(r), null !== n.onaddstream && t.setTimeout(function () {\n                        n.onaddstream(r);\n                      }, 0), u.forEach(function (e) {\n                        var r = e[0],\n                          s = e[1];\n                        if (i.id === e[2].id) {\n                          var o = new Event(\"track\");\n                          o.track = r, o.receiver = s, o.streams = [i], n.dispatchEvent(o), null !== n.ontrack && t.setTimeout(function () {\n                            n.ontrack(o);\n                          }, 0);\n                        }\n                      });\n                    }\n                  }), t.setTimeout(function () {\n                    n && n.transceivers && n.transceivers.forEach(function (t) {\n                      t.iceTransport && \"new\" === t.iceTransport.state && t.iceTransport.getRemoteCandidates().length > 0 && (console.warn(\"Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification\"), t.iceTransport.addRemoteCandidate({}));\n                    });\n                  }, 4e3), arguments.length > 1 && \"function\" == typeof arguments[1] && t.setTimeout(arguments[1], 0), Promise.resolve();\n                }, i.prototype.close = function () {\n                  this.transceivers.forEach(function (t) {\n                    t.iceTransport && t.iceTransport.stop(), t.dtlsTransport && t.dtlsTransport.stop(), t.rtpSender && t.rtpSender.stop(), t.rtpReceiver && t.rtpReceiver.stop();\n                  }), this.K(\"closed\");\n                }, i.prototype.K = function (t) {\n                  this.signalingState = t;\n                  var e = new Event(\"signalingstatechange\");\n                  this.dispatchEvent(e), null !== this.onsignalingstatechange && this.onsignalingstatechange(e);\n                }, i.prototype.B = function () {\n                  var e = this;\n                  \"stable\" === this.signalingState && !0 !== this.needNegotiation && (this.needNegotiation = !0, t.setTimeout(function () {\n                    if (!1 !== e.needNegotiation) {\n                      e.needNegotiation = !1;\n                      var t = new Event(\"negotiationneeded\");\n                      e.dispatchEvent(t), null !== e.onnegotiationneeded && e.onnegotiationneeded(t);\n                    }\n                  }, 0));\n                }, i.prototype.V = function () {\n                  var t,\n                    e = {\n                      new: 0,\n                      closed: 0,\n                      connecting: 0,\n                      checking: 0,\n                      connected: 0,\n                      completed: 0,\n                      disconnected: 0,\n                      failed: 0\n                    };\n                  if (this.transceivers.forEach(function (t) {\n                    e[t.iceTransport.state]++, e[t.dtlsTransport.state]++;\n                  }), e.connected += e.completed, t = \"new\", e.failed > 0 ? t = \"failed\" : e.connecting > 0 || e.checking > 0 ? t = \"connecting\" : e.disconnected > 0 ? t = \"disconnected\" : e.new > 0 ? t = \"new\" : (e.connected > 0 || e.completed > 0) && (t = \"connected\"), t !== this.iceConnectionState) {\n                    this.iceConnectionState = t;\n                    var i = new Event(\"iceconnectionstatechange\");\n                    this.dispatchEvent(i), null !== this.oniceconnectionstatechange && this.oniceconnectionstatechange(i);\n                  }\n                }, i.prototype.createOffer = function () {\n                  var i,\n                    n = this;\n                  if (this.z) throw new Error(\"createOffer called while there is a pending offer.\");\n                  1 === arguments.length && \"function\" != typeof arguments[0] ? i = arguments[0] : 3 === arguments.length && (i = arguments[2]);\n                  var r = this.transceivers.filter(function (t) {\n                      return \"audio\" === t.kind;\n                    }).length,\n                    o = this.transceivers.filter(function (t) {\n                      return \"video\" === t.kind;\n                    }).length;\n                  if (i) {\n                    if (i.mandatory || i.optional) throw new TypeError(\"Legacy mandatory/optional constraints not supported.\");\n                    void 0 !== i.offerToReceiveAudio && (r = !0 === i.offerToReceiveAudio ? 1 : !1 === i.offerToReceiveAudio ? 0 : i.offerToReceiveAudio), void 0 !== i.offerToReceiveVideo && (o = !0 === i.offerToReceiveVideo ? 1 : !1 === i.offerToReceiveVideo ? 0 : i.offerToReceiveVideo);\n                  }\n                  for (this.transceivers.forEach(function (t) {\n                    \"audio\" === t.kind ? --r < 0 && (t.wantReceive = !1) : \"video\" === t.kind && --o < 0 && (t.wantReceive = !1);\n                  }); r > 0 || o > 0;) r > 0 && (this.L(\"audio\"), r--), o > 0 && (this.L(\"video\"), o--);\n                  var a = function (t) {\n                      var e = t.filter(function (t) {\n                          return \"audio\" === t.kind;\n                        }),\n                        i = t.filter(function (t) {\n                          return \"video\" === t.kind;\n                        });\n                      for (t = []; e.length || i.length;) e.length && t.push(e.shift()), i.length && t.push(i.shift());\n                      return t;\n                    }(this.transceivers),\n                    u = s.writeSessionBoilerplate(this.U);\n                  a.forEach(function (i, r) {\n                    var o = i.track,\n                      u = i.kind,\n                      c = s.generateIdentifier();\n                    i.mid = c, i.iceGatherer || (i.iceGatherer = n.usingBundle && r > 0 ? a[0].iceGatherer : n.W(c, r));\n                    var h = t.RTCRtpSender.getCapabilities(u);\n                    e < 15019 && (h.codecs = h.codecs.filter(function (t) {\n                      return \"rtx\" !== t.name;\n                    })), h.codecs.forEach(function (t) {\n                      \"H264\" === t.name && void 0 === t.parameters[\"level-asymmetry-allowed\"] && (t.parameters[\"level-asymmetry-allowed\"] = \"1\");\n                    });\n                    var f = [{\n                      ssrc: 1001 * (2 * r + 1)\n                    }];\n                    o && e >= 15019 && \"video\" === u && (f[0].rtx = {\n                      ssrc: 1001 * (2 * r + 1) + 1\n                    }), i.wantReceive && (i.rtpReceiver = new t.RTCRtpReceiver(i.dtlsTransport, u)), i.localCapabilities = h, i.sendEncodingParameters = f;\n                  }), \"max-compat\" !== this.O.bundlePolicy && (u += \"a=group:BUNDLE \" + a.map(function (t) {\n                    return t.mid;\n                  }).join(\" \") + \"\\r\\n\"), u += \"a=ice-options:trickle\\r\\n\", a.forEach(function (t, e) {\n                    u += s.writeMediaSection(t, t.localCapabilities, \"offer\", t.stream), u += \"a=rtcp-rsize\\r\\n\";\n                  }), this.z = a;\n                  var c = new t.RTCSessionDescription({\n                    type: \"offer\",\n                    sdp: u\n                  });\n                  return arguments.length && \"function\" == typeof arguments[0] && t.setTimeout(arguments[0], 0, c), Promise.resolve(c);\n                }, i.prototype.createAnswer = function () {\n                  var i = s.writeSessionBoilerplate(this.U);\n                  this.usingBundle && (i += \"a=group:BUNDLE \" + this.transceivers.map(function (t) {\n                    return t.mid;\n                  }).join(\" \") + \"\\r\\n\"), this.transceivers.forEach(function (t, r) {\n                    if (t.isDatachannel) i += \"m=application 0 DTLS/SCTP 5000\\r\\nc=IN IP4 0.0.0.0\\r\\na=mid:\" + t.mid + \"\\r\\n\";else {\n                      var o;\n                      t.stream && (\"audio\" === t.kind ? o = t.stream.getAudioTracks()[0] : \"video\" === t.kind && (o = t.stream.getVideoTracks()[0]), o && e >= 15019 && \"video\" === t.kind && (t.sendEncodingParameters[0].rtx = {\n                        ssrc: 1001 * (2 * r + 2) + 1\n                      }));\n                      var a = n(t.localCapabilities, t.remoteCapabilities);\n                      !a.codecs.filter(function (t) {\n                        return \"rtx\" === t.name.toLowerCase();\n                      }).length && t.sendEncodingParameters[0].rtx && delete t.sendEncodingParameters[0].rtx, i += s.writeMediaSection(t, a, \"answer\", t.stream), t.rtcpParameters && t.rtcpParameters.reducedSize && (i += \"a=rtcp-rsize\\r\\n\");\n                    }\n                  });\n                  var r = new t.RTCSessionDescription({\n                    type: \"answer\",\n                    sdp: i\n                  });\n                  return arguments.length && \"function\" == typeof arguments[0] && t.setTimeout(arguments[0], 0, r), Promise.resolve(r);\n                }, i.prototype.addIceCandidate = function (e) {\n                  if (e) {\n                    var i = e.sdpMLineIndex;\n                    if (e.sdpMid) for (var n = 0; n < this.transceivers.length; n++) if (this.transceivers[n].mid === e.sdpMid) {\n                      i = n;\n                      break;\n                    }\n                    var r = this.transceivers[i];\n                    if (r) {\n                      var o = Object.keys(e.candidate).length > 0 ? s.parseCandidate(e.candidate) : {};\n                      if (\"tcp\" === o.protocol && (0 === o.port || 9 === o.port)) return Promise.resolve();\n                      if (o.component && \"1\" !== o.component && 1 !== o.component) return Promise.resolve();\n                      r.iceTransport.addRemoteCandidate(o);\n                      var a = s.splitSections(this.remoteDescription.sdp);\n                      a[i + 1] += (o.type ? e.candidate.trim() : \"a=end-of-candidates\") + \"\\r\\n\", this.remoteDescription.sdp = a.join(\"\");\n                    }\n                  } else for (var u = 0; u < this.transceivers.length; u++) if (this.transceivers[u].iceTransport.addRemoteCandidate({}), this.usingBundle) return Promise.resolve();\n                  return arguments.length > 1 && \"function\" == typeof arguments[1] && t.setTimeout(arguments[1], 0), Promise.resolve();\n                }, i.prototype.getStats = function () {\n                  var e = [];\n                  this.transceivers.forEach(function (t) {\n                    [\"rtpSender\", \"rtpReceiver\", \"iceGatherer\", \"iceTransport\", \"dtlsTransport\"].forEach(function (i) {\n                      t[i] && e.push(t[i].getStats());\n                    });\n                  });\n                  var i = arguments.length > 1 && \"function\" == typeof arguments[1] && arguments[1];\n                  return new Promise(function (n) {\n                    var r = new Map();\n                    Promise.all(e).then(function (e) {\n                      e.forEach(function (t) {\n                        Object.keys(t).forEach(function (e) {\n                          t[e].type = function (t) {\n                            return {\n                              inboundrtp: \"inbound-rtp\",\n                              outboundrtp: \"outbound-rtp\",\n                              candidatepair: \"candidate-pair\",\n                              localcandidate: \"local-candidate\",\n                              remotecandidate: \"remote-candidate\"\n                            }[t.type] || t.type;\n                          }(t[e]), r.set(e, t[e]);\n                        });\n                      }), i && t.setTimeout(i, 0, r), n(r);\n                    });\n                  });\n                }, i;\n              };\n            }, {\n              sdp: 1\n            }],\n            9: [function (t, e, i) {\n              \"use strict\";\n\n              var n = t(\"../utils\"),\n                r = {\n                  shimOnTrack: function (t) {\n                    \"object\" != typeof t || !t.RTCPeerConnection || \"ontrack\" in t.RTCPeerConnection.prototype || Object.defineProperty(t.RTCPeerConnection.prototype, \"ontrack\", {\n                      get: function () {\n                        return this.I;\n                      },\n                      set: function (t) {\n                        this.I && (this.removeEventListener(\"track\", this.I), this.removeEventListener(\"addstream\", this.R)), this.addEventListener(\"track\", this.I = t), this.addEventListener(\"addstream\", this.R = function (t) {\n                          t.stream.getTracks().forEach(function (e) {\n                            var i = new Event(\"track\");\n                            i.track = e, i.receiver = {\n                              track: e\n                            }, i.streams = [t.stream], this.dispatchEvent(i);\n                          }.bind(this));\n                        }.bind(this));\n                      }\n                    });\n                  },\n                  shimSourceObject: function (t) {\n                    \"object\" == typeof t && (!t.HTMLMediaElement || \"srcObject\" in t.HTMLMediaElement.prototype || Object.defineProperty(t.HTMLMediaElement.prototype, \"srcObject\", {\n                      get: function () {\n                        return this.mozSrcObject;\n                      },\n                      set: function (t) {\n                        this.mozSrcObject = t;\n                      }\n                    }));\n                  },\n                  shimPeerConnection: function (t) {\n                    var e = n.detectBrowser(t);\n                    if (\"object\" == typeof t && (t.RTCPeerConnection || t.mozRTCPeerConnection)) {\n                      t.RTCPeerConnection || (t.RTCPeerConnection = function (i, n) {\n                        if (e.version < 38 && i && i.iceServers) {\n                          for (var r = [], s = 0; s < i.iceServers.length; s++) {\n                            var o = i.iceServers[s];\n                            if (o.hasOwnProperty(\"urls\")) for (var a = 0; a < o.urls.length; a++) {\n                              var u = {\n                                url: o.urls[a]\n                              };\n                              0 === o.urls[a].indexOf(\"turn\") && (u.username = o.username, u.credential = o.credential), r.push(u);\n                            } else r.push(i.iceServers[s]);\n                          }\n                          i.iceServers = r;\n                        }\n                        return new t.mozRTCPeerConnection(i, n);\n                      }, t.RTCPeerConnection.prototype = t.mozRTCPeerConnection.prototype, t.mozRTCPeerConnection.generateCertificate && Object.defineProperty(t.RTCPeerConnection, \"generateCertificate\", {\n                        get: function () {\n                          return t.mozRTCPeerConnection.generateCertificate;\n                        }\n                      }), t.RTCSessionDescription = t.mozRTCSessionDescription, t.RTCIceCandidate = t.mozRTCIceCandidate), [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"].forEach(function (e) {\n                        var i = t.RTCPeerConnection.prototype[e];\n                        t.RTCPeerConnection.prototype[e] = function () {\n                          return arguments[0] = new (\"addIceCandidate\" === e ? t.RTCIceCandidate : t.RTCSessionDescription)(arguments[0]), i.apply(this, arguments);\n                        };\n                      });\n                      var i = t.RTCPeerConnection.prototype.addIceCandidate;\n                      t.RTCPeerConnection.prototype.addIceCandidate = function () {\n                        return arguments[0] ? i.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve());\n                      };\n                      var r = {\n                          inboundrtp: \"inbound-rtp\",\n                          outboundrtp: \"outbound-rtp\",\n                          candidatepair: \"candidate-pair\",\n                          localcandidate: \"local-candidate\",\n                          remotecandidate: \"remote-candidate\"\n                        },\n                        s = t.RTCPeerConnection.prototype.getStats;\n                      t.RTCPeerConnection.prototype.getStats = function (t, i, n) {\n                        return s.apply(this, [t || null]).then(function (t) {\n                          if (e.version < 48 && (t = function (t) {\n                            var e = new Map();\n                            return Object.keys(t).forEach(function (i) {\n                              e.set(i, t[i]), e[i] = t[i];\n                            }), e;\n                          }(t)), e.version < 53 && !i) try {\n                            t.forEach(function (t) {\n                              t.type = r[t.type] || t.type;\n                            });\n                          } catch (e) {\n                            if (\"TypeError\" !== e.name) throw e;\n                            t.forEach(function (e, i) {\n                              t.set(i, Object.assign({}, e, {\n                                type: r[e.type] || e.type\n                              }));\n                            });\n                          }\n                          return t;\n                        }).then(i, n);\n                      };\n                    }\n                  }\n                };\n              e.exports = {\n                shimOnTrack: r.shimOnTrack,\n                shimSourceObject: r.shimSourceObject,\n                shimPeerConnection: r.shimPeerConnection,\n                shimGetUserMedia: t(\"./getusermedia\")\n              };\n            }, {\n              \"../utils\": 12,\n              \"./getusermedia\": 10\n            }],\n            10: [function (t, e, i) {\n              \"use strict\";\n\n              var n = t(\"../utils\"),\n                r = n.log;\n              e.exports = function (t) {\n                var e = n.detectBrowser(t),\n                  i = t && t.navigator,\n                  s = t && t.MediaStreamTrack,\n                  o = function (t) {\n                    return {\n                      name: {\n                        InternalError: \"NotReadableError\",\n                        NotSupportedError: \"TypeError\",\n                        PermissionDeniedError: \"NotAllowedError\",\n                        SecurityError: \"NotAllowedError\"\n                      }[t.name] || t.name,\n                      message: {\n                        \"The operation is insecure.\": \"The request is not allowed by the user agent or the platform in the current context.\"\n                      }[t.message] || t.message,\n                      constraint: t.constraint,\n                      toString: function () {\n                        return this.name + (this.message && \": \") + this.message;\n                      }\n                    };\n                  },\n                  a = function (t, n, s) {\n                    var a = function (t) {\n                      if (\"object\" != typeof t || t.require) return t;\n                      var e = [];\n                      return Object.keys(t).forEach(function (i) {\n                        if (\"require\" !== i && \"advanced\" !== i && \"mediaSource\" !== i) {\n                          var n = t[i] = \"object\" == typeof t[i] ? t[i] : {\n                            ideal: t[i]\n                          };\n                          if (void 0 === n.min && void 0 === n.max && void 0 === n.exact || e.push(i), void 0 !== n.exact && (\"number\" == typeof n.exact ? n.min = n.max = n.exact : t[i] = n.exact, delete n.exact), void 0 !== n.ideal) {\n                            t.advanced = t.advanced || [];\n                            var r = {};\n                            \"number\" == typeof n.ideal ? r[i] = {\n                              min: n.ideal,\n                              max: n.ideal\n                            } : r[i] = n.ideal, t.advanced.push(r), delete n.ideal, Object.keys(n).length || delete t[i];\n                          }\n                        }\n                      }), e.length && (t.require = e), t;\n                    };\n                    return t = JSON.parse(JSON.stringify(t)), e.version < 38 && (r(\"spec: \" + JSON.stringify(t)), t.audio && (t.audio = a(t.audio)), t.video && (t.video = a(t.video)), r(\"ff37: \" + JSON.stringify(t))), i.mozGetUserMedia(t, n, function (t) {\n                      s(o(t));\n                    });\n                  };\n                if (i.mediaDevices || (i.mediaDevices = {\n                  getUserMedia: function (t) {\n                    return new Promise(function (e, i) {\n                      a(t, e, i);\n                    });\n                  },\n                  addEventListener: function () {},\n                  removeEventListener: function () {}\n                }), i.mediaDevices.enumerateDevices = i.mediaDevices.enumerateDevices || function () {\n                  return new Promise(function (t) {\n                    t([{\n                      kind: \"audioinput\",\n                      deviceId: \"default\",\n                      label: \"\",\n                      groupId: \"\"\n                    }, {\n                      kind: \"videoinput\",\n                      deviceId: \"default\",\n                      label: \"\",\n                      groupId: \"\"\n                    }]);\n                  });\n                }, e.version < 41) {\n                  var u = i.mediaDevices.enumerateDevices.bind(i.mediaDevices);\n                  i.mediaDevices.enumerateDevices = function () {\n                    return u().then(void 0, function (t) {\n                      if (\"NotFoundError\" === t.name) return [];\n                      throw t;\n                    });\n                  };\n                }\n                if (e.version < 49) {\n                  var c = i.mediaDevices.getUserMedia.bind(i.mediaDevices);\n                  i.mediaDevices.getUserMedia = function (t) {\n                    return c(t).then(function (e) {\n                      if (t.audio && !e.getAudioTracks().length || t.video && !e.getVideoTracks().length) throw e.getTracks().forEach(function (t) {\n                        t.stop();\n                      }), new DOMException(\"The object can not be found here.\", \"NotFoundError\");\n                      return e;\n                    }, function (t) {\n                      return Promise.reject(o(t));\n                    });\n                  };\n                }\n                if (!(e.version > 55 && \"autoGainControl\" in i.mediaDevices.getSupportedConstraints())) {\n                  var h = function (t, e, i) {\n                      e in t && !(i in t) && (t[i] = t[e], delete t[e]);\n                    },\n                    f = i.mediaDevices.getUserMedia.bind(i.mediaDevices);\n                  if (i.mediaDevices.getUserMedia = function (t) {\n                    return \"object\" == typeof t && \"object\" == typeof t.audio && (t = JSON.parse(JSON.stringify(t)), h(t.audio, \"autoGainControl\", \"mozAutoGainControl\"), h(t.audio, \"noiseSuppression\", \"mozNoiseSuppression\")), f(t);\n                  }, s && s.prototype.getSettings) {\n                    var d = s.prototype.getSettings;\n                    s.prototype.getSettings = function () {\n                      var t = d.apply(this, arguments);\n                      return h(t, \"mozAutoGainControl\", \"autoGainControl\"), h(t, \"mozNoiseSuppression\", \"noiseSuppression\"), t;\n                    };\n                  }\n                  if (s && s.prototype.applyConstraints) {\n                    var l = s.prototype.applyConstraints;\n                    s.prototype.applyConstraints = function (t) {\n                      return \"audio\" === this.kind && \"object\" == typeof t && (t = JSON.parse(JSON.stringify(t)), h(t, \"autoGainControl\", \"mozAutoGainControl\"), h(t, \"noiseSuppression\", \"mozNoiseSuppression\")), l.apply(this, [t]);\n                    };\n                  }\n                }\n                i.getUserMedia = function (t, r, s) {\n                  return e.version < 44 ? a(t, r, s) : (n.deprecated(\"navigator.getUserMedia\", \"navigator.mediaDevices.getUserMedia\"), void i.mediaDevices.getUserMedia(t).then(r, s));\n                };\n              };\n            }, {\n              \"../utils\": 12\n            }],\n            11: [function (t, e, i) {\n              \"use strict\";\n\n              var n = t(\"../utils\"),\n                r = {\n                  shimLocalStreamsAPI: function (t) {\n                    if (\"object\" == typeof t && t.RTCPeerConnection) {\n                      if (\"getLocalStreams\" in t.RTCPeerConnection.prototype || (t.RTCPeerConnection.prototype.getLocalStreams = function () {\n                        return this.J || (this.J = []), this.J;\n                      }), \"getStreamById\" in t.RTCPeerConnection.prototype || (t.RTCPeerConnection.prototype.getStreamById = function (t) {\n                        var e = null;\n                        return this.J && this.J.forEach(function (i) {\n                          i.id === t && (e = i);\n                        }), this.X && this.X.forEach(function (i) {\n                          i.id === t && (e = i);\n                        }), e;\n                      }), !(\"addStream\" in t.RTCPeerConnection.prototype)) {\n                        var e = t.RTCPeerConnection.prototype.addTrack;\n                        t.RTCPeerConnection.prototype.addStream = function (t) {\n                          this.J || (this.J = []), -1 === this.J.indexOf(t) && this.J.push(t);\n                          var i = this;\n                          t.getTracks().forEach(function (n) {\n                            e.call(i, n, t);\n                          });\n                        }, t.RTCPeerConnection.prototype.addTrack = function (t, i) {\n                          i && (this.J ? -1 === this.J.indexOf(i) && this.J.push(i) : this.J = [i]), e.call(this, t, i);\n                        };\n                      }\n                      \"removeStream\" in t.RTCPeerConnection.prototype || (t.RTCPeerConnection.prototype.removeStream = function (t) {\n                        this.J || (this.J = []);\n                        var e = this.J.indexOf(t);\n                        if (-1 !== e) {\n                          this.J.splice(e, 1);\n                          var i = this,\n                            n = t.getTracks();\n                          this.getSenders().forEach(function (t) {\n                            -1 !== n.indexOf(t.track) && i.removeTrack(t);\n                          });\n                        }\n                      });\n                    }\n                  },\n                  shimRemoteStreamsAPI: function (t) {\n                    \"object\" == typeof t && t.RTCPeerConnection && (\"getRemoteStreams\" in t.RTCPeerConnection.prototype || (t.RTCPeerConnection.prototype.getRemoteStreams = function () {\n                      return this.X ? this.X : [];\n                    }), \"onaddstream\" in t.RTCPeerConnection.prototype || Object.defineProperty(t.RTCPeerConnection.prototype, \"onaddstream\", {\n                      get: function () {\n                        return this.Q;\n                      },\n                      set: function (t) {\n                        this.Q && (this.removeEventListener(\"addstream\", this.Q), this.removeEventListener(\"track\", this.$)), this.addEventListener(\"addstream\", this.Q = t), this.addEventListener(\"track\", this.$ = function (t) {\n                          var e = t.streams[0];\n                          if (this.X || (this.X = []), !(this.X.indexOf(e) >= 0)) {\n                            this.X.push(e);\n                            var i = new Event(\"addstream\");\n                            i.stream = t.streams[0], this.dispatchEvent(i);\n                          }\n                        }.bind(this));\n                      }\n                    }));\n                  },\n                  shimCallbacksAPI: function (t) {\n                    if (\"object\" == typeof t && t.RTCPeerConnection) {\n                      var e = t.RTCPeerConnection.prototype,\n                        i = e.createOffer,\n                        n = e.createAnswer,\n                        r = e.setLocalDescription,\n                        s = e.setRemoteDescription,\n                        o = e.addIceCandidate;\n                      e.createOffer = function (t, e) {\n                        var n = arguments.length >= 2 ? arguments[2] : arguments[0],\n                          r = i.apply(this, [n]);\n                        return e ? (r.then(t, e), Promise.resolve()) : r;\n                      }, e.createAnswer = function (t, e) {\n                        var i = arguments.length >= 2 ? arguments[2] : arguments[0],\n                          r = n.apply(this, [i]);\n                        return e ? (r.then(t, e), Promise.resolve()) : r;\n                      };\n                      var a = function (t, e, i) {\n                        var n = r.apply(this, [t]);\n                        return i ? (n.then(e, i), Promise.resolve()) : n;\n                      };\n                      e.setLocalDescription = a, a = function (t, e, i) {\n                        var n = s.apply(this, [t]);\n                        return i ? (n.then(e, i), Promise.resolve()) : n;\n                      }, e.setRemoteDescription = a, a = function (t, e, i) {\n                        var n = o.apply(this, [t]);\n                        return i ? (n.then(e, i), Promise.resolve()) : n;\n                      }, e.addIceCandidate = a;\n                    }\n                  },\n                  shimGetUserMedia: function (t) {\n                    var e = t && t.navigator;\n                    e.getUserMedia || (e.webkitGetUserMedia ? e.getUserMedia = e.webkitGetUserMedia.bind(e) : e.mediaDevices && e.mediaDevices.getUserMedia && (e.getUserMedia = function (t, i, n) {\n                      e.mediaDevices.getUserMedia(t).then(i, n);\n                    }.bind(e)));\n                  },\n                  shimRTCIceServerUrls: function (t) {\n                    var e = t.RTCPeerConnection;\n                    t.RTCPeerConnection = function (t, i) {\n                      if (t && t.iceServers) {\n                        for (var r = [], s = 0; s < t.iceServers.length; s++) {\n                          var o = t.iceServers[s];\n                          !o.hasOwnProperty(\"urls\") && o.hasOwnProperty(\"url\") ? (n.deprecated(\"RTCIceServer.url\", \"RTCIceServer.urls\"), (o = JSON.parse(JSON.stringify(o))).urls = o.url, delete o.url, r.push(o)) : r.push(t.iceServers[s]);\n                        }\n                        t.iceServers = r;\n                      }\n                      return new e(t, i);\n                    }, t.RTCPeerConnection.prototype = e.prototype, Object.defineProperty(t.RTCPeerConnection, \"generateCertificate\", {\n                      get: function () {\n                        return e.generateCertificate;\n                      }\n                    });\n                  }\n                };\n              e.exports = {\n                shimCallbacksAPI: r.shimCallbacksAPI,\n                shimLocalStreamsAPI: r.shimLocalStreamsAPI,\n                shimRemoteStreamsAPI: r.shimRemoteStreamsAPI,\n                shimGetUserMedia: r.shimGetUserMedia,\n                shimRTCIceServerUrls: r.shimRTCIceServerUrls\n              };\n            }, {\n              \"../utils\": 12\n            }],\n            12: [function (t, e, i) {\n              \"use strict\";\n\n              var n = !0,\n                r = !0,\n                s = {\n                  disableLog: function (t) {\n                    return \"boolean\" != typeof t ? new Error(\"Argument type: \" + typeof t + \". Please use a boolean.\") : (n = t, t ? \"adapter.js logging disabled\" : \"adapter.js logging enabled\");\n                  },\n                  disableWarnings: function (t) {\n                    return \"boolean\" != typeof t ? new Error(\"Argument type: \" + typeof t + \". Please use a boolean.\") : (r = !t, \"adapter.js deprecation warnings \" + (t ? \"disabled\" : \"enabled\"));\n                  },\n                  log: function () {\n                    if (\"object\" == typeof window) {\n                      if (n) return;\n                      \"undefined\" != typeof console && \"function\" == typeof console.log && console.log.apply(console, arguments);\n                    }\n                  },\n                  deprecated: function (t, e) {\n                    r && console.warn(t + \" is deprecated, please use \" + e + \" instead.\");\n                  },\n                  extractVersion: function (t, e, i) {\n                    var n = t.match(e);\n                    return n && n.length >= i && parseInt(n[i], 10);\n                  },\n                  detectBrowser: function (t) {\n                    var e = t && t.navigator,\n                      i = {\n                        browser: null,\n                        version: null\n                      };\n                    if (void 0 === t || !t.navigator) return i.browser = \"Not a browser.\", i;\n                    if (e.mozGetUserMedia) i.browser = \"firefox\", i.version = this.extractVersion(e.userAgent, /Firefox\\/(\\d+)\\./, 1);else if (e.webkitGetUserMedia) {\n                      if (t.webkitRTCPeerConnection) i.browser = \"chrome\", i.version = this.extractVersion(e.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);else {\n                        if (!e.userAgent.match(/Version\\/(\\d+).(\\d+)/)) return i.browser = \"Unsupported webkit-based browser with GUM support but no WebRTC support.\", i;\n                        i.browser = \"safari\", i.version = this.extractVersion(e.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n                      }\n                    } else if (e.mediaDevices && e.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) i.browser = \"edge\", i.version = this.extractVersion(e.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);else {\n                      if (!e.mediaDevices || !e.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) return i.browser = \"Not a supported browser.\", i;\n                      i.browser = \"safari\", i.version = this.extractVersion(e.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n                    }\n                    return i;\n                  },\n                  shimCreateObjectURL: function (t) {\n                    var e = t && t.URL;\n                    if (\"object\" == typeof t && t.HTMLMediaElement && \"srcObject\" in t.HTMLMediaElement.prototype) {\n                      var i = e.createObjectURL.bind(e),\n                        n = e.revokeObjectURL.bind(e),\n                        r = new Map(),\n                        o = 0;\n                      e.createObjectURL = function (t) {\n                        if (\"getTracks\" in t) {\n                          var e = \"polyblob:\" + ++o;\n                          return r.set(e, t), s.deprecated(\"URL.createObjectURL(stream)\", \"elem.srcObject = stream\"), e;\n                        }\n                        return i(t);\n                      }, e.revokeObjectURL = function (t) {\n                        n(t), r.delete(t);\n                      };\n                      var a = Object.getOwnPropertyDescriptor(t.HTMLMediaElement.prototype, \"src\");\n                      Object.defineProperty(t.HTMLMediaElement.prototype, \"src\", {\n                        get: function () {\n                          return a.get.apply(this);\n                        },\n                        set: function (t) {\n                          return this.srcObject = r.get(t) || null, a.set.apply(this, [t]);\n                        }\n                      });\n                      var u = t.HTMLMediaElement.prototype.setAttribute;\n                      t.HTMLMediaElement.prototype.setAttribute = function () {\n                        return 2 === arguments.length && \"src\" === (\"\" + arguments[0]).toLowerCase() && (this.srcObject = r.get(arguments[1]) || null), u.apply(this, arguments);\n                      };\n                    }\n                  }\n                };\n              e.exports = {\n                log: s.log,\n                deprecated: s.deprecated,\n                disableLog: s.disableLog,\n                disableWarnings: s.disableWarnings,\n                extractVersion: s.extractVersion,\n                shimCreateObjectURL: s.shimCreateObjectURL,\n                detectBrowser: s.detectBrowser.bind(s)\n              };\n            }, {}]\n          }, {}, [2])(2);\n        });\n      }).call(e, i(5));\n    }, function (t, e, i) {\n      \"use strict\";\n\n      var n, r;\n      n = [i(9), i(10), i(3)], void 0 === (r = function (t, e, i) {\n        return t.PhenixVideo = i, t.onLoaded = function () {\n          e(t);\n        }, t.onLoaded(), t;\n      }.apply(e, n)) || (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(2), i(7), i(16), i(4), i(0)], void 0 === (r = function (t, e, i, n, r, s) {\n        \"use strict\";\n\n        function o(e, r, s) {\n          this.v = new i.DisposableList(), this.f = new n.NamedEvents(), this.Y = \"video\" === e.tagName, this.Z = s.swfSrc, this.tt = e.id || s.streamId, this.et = e.clientWidth, this.it = e.clientHeight, this.t = e, this.nt = null, this.rt = [], this.st = [\"uid=\" + this.tt, \"autoplay=\" + (!!t.isUndefined(e.autoplay) || e.autoplay), \"allowScriptAccess=always\", \"preload=true\", \"src=\" + JSON.stringify(r)];\n          var o = this;\n          this.v.add(new i.Disposable(function () {\n            d.call(o, \"fire_stop\");\n          }));\n          try {\n            this.nt = y || w ? function () {\n              return document.createElement(\"div\");\n            }.call(this) : function () {\n              var t = document.createElement(\"embed\");\n              return t.setAttribute(\"id\", \"__\" + this.tt), t.setAttribute(\"name\", \"__\" + this.tt), t.setAttribute(\"play\", \"true\"), t.setAttribute(\"loop\", \"false\"), t.setAttribute(\"quality\", \"high\"), t.setAttribute(\"bgcolor\", \"#000000\"), t.setAttribute(\"wmode\", \"transparent\"), t.setAttribute(\"allowScriptAccess\", \"always\"), t.setAttribute(\"allowFullScreen\", \"true\"), t.setAttribute(\"type\", \"application/x-shockwave-flash\"), t.setAttribute(\"pluginspage\", \"//www.macromedia.com/go/getflashplayer\"), t.setAttribute(\"src\", this.Z), t.setAttribute(\"flashvars\", this.st.join(\"&\")), this.Y && (t.setAttribute(\"width\", this.et.toString()), t.setAttribute(\"height\", this.it.toString())), t;\n            }.call(this), c.call(this);\n          } catch (t) {\n            m(\"Error while loading Flash Player\" + t);\n          }\n        }\n        function a(e, i) {\n          return t.findIndex(this.rt, function (t) {\n            return t.name === e && t.listener === i;\n          });\n        }\n        function u(t, e) {\n          var i = document.createElement(\"param\");\n          return i.setAttribute(\"name\", t), i.setAttribute(\"value\", e), i;\n        }\n        function c() {\n          t.assign(this.nt, p, {\n            id: this.tt,\n            width: this.et,\n            height: this.it,\n            videoWidth: this.et,\n            videoHeight: this.it\n          }), function () {\n            var e = this;\n            s[\"__event__\" + this.tt] = function (t, i) {\n              var n = function (t, e) {\n                var i = t.match(/([a-z]+\\.([a-z]+))/i),\n                  n = {\n                    target: e\n                  };\n                if (null !== i && (t = i[1], n.namespace = i[2]), \"IE\" === g.browser && g.version > 8) {\n                  var r = s.document.createEvent(\"CustomEvent\");\n                  return r.initCustomEvent(t, !1, !1, n), r;\n                }\n                return s.CustomEvent ? new s.CustomEvent(t, {\n                  detail: n\n                }) : n;\n              }(t, e.nt);\n              if (i) try {\n                n.data = JSON.parse(i), n.details.data = n.data;\n              } catch (t) {\n                n.message = i;\n              }\n              switch (t) {\n                case \"ended\":\n                  break;\n                case \"error\":\n                  e.nt.error = n.data, e.nt.dispatchEvent && e.nt.dispatchEvent(new Error(i));\n                  break;\n                case \"loadeddata\":\n                case \"loadedmetadata\":\n                case \"loadstart\":\n                  e.nt.dispatchEvent && e.nt.dispatchEvent(n);\n                  break;\n                case \"pause\":\n                  e.nt.paused = !0;\n                  break;\n                case \"play\":\n                case \"playing\":\n                  e.nt.paused = !1;\n                  break;\n                case \"progress\":\n                case \"seeked\":\n                case \"seeking\":\n                case \"stalled\":\n                case \"suspend\":\n                  e.nt.dispatchEvent && e.nt.dispatchEvent(n);\n                  break;\n                case \"timeupdate\":\n                  e.nt.currentTime = f.call(e, \"currentTime\"), e.nt.dispatchEvent && e.nt.dispatchEvent(n);\n              }\n              e.f.fireAsync(t, [n]);\n            };\n            var n = this.nt.requestFullscreen || this.nt.mozRequestFullScreen || this.nt.webkitRequestFullScreen || this.nt.msRequestFullscreen;\n            this.v.add(new i.Disposable(function () {\n              delete s[\"__event__\" + e.tt];\n            })), this.nt.play = function () {\n              d.call(e, \"fire_play\");\n            }, this.nt.load = function () {\n              d.call(e, \"fire_load\");\n            }, this.nt.seek = function () {\n              d.call(e, \"fire_seek\");\n            }, this.nt.pause = function () {\n              d.call(e, \"fire_pause\");\n            }, this.nt.requestFullscreen = function () {\n              if (e.ot = !0, function () {\n                function t() {\n                  document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement || document.fullscreenElement || (document.removeEventListener(\"webkitfullscreenchange\", t), document.removeEventListener(\"mozfullscreenchange\", t), document.removeEventListener(\"fullscreenchange\", t), document.removeEventListener(\"MSFullscreenChange\", t), document.removeEventListener(\"keydown\", e), i.ot = !1, i.nt.style.position = i.at, i.nt.style.height = i.ut, i.nt.style.width = i.ct);\n                }\n                function e(e) {\n                  var i = e || s.event;\n                  (\"key\" in i ? \"Escape\" === i.key || \"Esc\" === i.key : 27 === i.keyCode) && t();\n                }\n                var i = this;\n                document.addEventListener(\"webkitfullscreenchange\", t, !1), document.addEventListener(\"mozfullscreenchange\", t, !1), document.addEventListener(\"fullscreenchange\", t, !1), document.addEventListener(\"MSFullscreenChange\", t, !1), document.addEventListener(\"keydown\", e, !1);\n              }.call(e), e.ut = e.nt.style.height, e.ct = e.nt.style.width, e.at = e.nt.style.position, e.nt.style.position = \"absolute\", e.nt.style.height = \"100%\", e.nt.style.width = \"100%\", void 0 !== s.ActiveXObject) {\n                var t = new s(\"WScript.Shell\");\n                null !== t && t.SendKeys(\"{F11}\");\n              }\n              n.call(e.nt);\n            };\n            var r = function () {\n              d.call(e, \"set_size\", e.ot ? screen.width : e.nt.clientWidth, e.ot ? screen.height : e.nt.clientHeight);\n            };\n            t.addEventListener(s, \"resize\", r), this.v.add(new i.Disposable(function () {\n              t.removeEventListener(s, \"resize\", r);\n            }));\n          }.call(this), function () {\n            var e = this,\n              n = [\"currentTime\", \"paused\", \"error\", \"src\"];\n            if (t.get(s, [\"MutationObserver\"])) {\n              var r = new MutationObserver(function (i) {\n                i.forEach(function (i) {\n                  \"attributes\" !== i.type || i.target !== e.nt || t.includes(n, i.attributeName) || h.call(e, i.attributeName, e.nt[i.attributeName]);\n                });\n              });\n              r.observe(e.nt, {\n                attributes: !0\n              }), e.v.add(new i.Disposable(function () {\n                r.disconnect();\n              }));\n            } else {\n              l(\"Falling back to use of DOM event listeners. This results in degraded performance for further DOM modifications and does not work for IE prior to version 9. See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Mutation_events for details.\");\n              var o = function (i) {\n                t.includes(n, i.target.tagName) || h.call(e, i.target.tagName, e.nt[i.target.tagName]);\n              };\n              e.nt.addEventListener ? (e.nt.addEventListener(\"DOMAttrModified\", o, !1), e.v.add(new i.Disposable(function () {\n                e.nt.removeEventListener(\"DOMAttrModified\", o, !1);\n              }))) : (e.nt.attachEvent(\"onpropertychange\", o), e.v.add(new i.Disposable(function () {\n                e.nt.detachEvent(\"DOMAttrModified\", o);\n              })));\n            }\n          }.call(this), function () {\n            var t = function () {\n                var t = this,\n                  e = t.t.muted,\n                  i = t.nt.muted;\n                return function () {\n                  var n = t.nt.muted,\n                    r = t.nt.muted;\n                  n === e && r === i || (n !== e && (e = n, i = n, r = n), r !== i && (e = n, i = n), t.nt.muted = r, t.t.muted = r, h.call(t, \"muted\", r));\n                };\n              }.call(this),\n              e = function () {\n                var t = this,\n                  e = t.t.volume,\n                  i = t.nt.volume;\n                return function () {\n                  var n = t.nt.volume,\n                    r = t.nt.volume;\n                  n === e && r === i || (n !== e && (e = n, i = n, r = n), r !== i && (e = n, i = n), t.nt.volume = r, t.t.volume = r, h.call(t, \"volume\", r));\n                };\n              }.call(this),\n              n = setInterval(function () {\n                t(), e();\n              }, v);\n            this.v.add(new i.Disposable(function () {\n              clearInterval(n);\n            }));\n          }.call(this);\n        }\n        function h(e, i) {\n          return (this.nt[\"set_\" + e] || t.noop).call(this.nt, i);\n        }\n        function f(e) {\n          return (this.nt[\"get_\" + e] || t.noop).call(this.nt);\n        }\n        function d(t) {\n          var e = this.nt[t];\n          if ([].shift.apply(arguments), e) return e.apply(this.nt, arguments);\n        }\n        var l = function () {\n            console.log.apply(console, arguments);\n          } || function () {},\n          m = function () {\n            console.error.apply(console, arguments);\n          } || l,\n          p = {\n            width: 480,\n            height: 360,\n            videoWidth: 480,\n            videoHeight: 360,\n            muted: !1,\n            volume: 1,\n            currentTime: 0,\n            duration: 1 / 0,\n            readyState: 0,\n            ended: !1,\n            buffered: null,\n            autoplay: !0\n          },\n          v = 300,\n          g = new e(navigator.userAgent).detect(),\n          y = \"IE\" === g.browser && /(trident|microsoft)/i.test(t.get(s.navigator, [\"appName\"], \"\")),\n          w = \"Edge\" === g.browser && t.get(s.navigator, \"msLaunchUri\") && !t.get(s.document, \"documentMode\");\n        return o.prototype.finishInitializationInDom = function () {\n          return function () {\n            if (!y && !w) return this.nt;\n            var e = (w ? \"__\" + this.tt : this.tt) + t.uniqueId(),\n              i = document.createElement(\"object\"),\n              n = document.createElement(\"div\"),\n              r = [u(\"movie\", this.Z + \"?x=\" + t.now()), u(\"flashvars\", this.st.join(\"&\")), u(\"quality\", 2), u(\"bgcolor\", \"#000000\"), u(\"wmode\", \"transparent\"), u(\"allowScriptAccess\", \"always\"), u(\"allowFullScreen\", \"true\"), n];\n            return n.innerHTML = \"You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/\", w ? (i.setAttribute(\"type\", \"application/x-shockwave-flash\"), i.setAttribute(\"data\", this.Z), i.setAttribute(\"id\", e), i.setAttribute(\"width\", \"__\" + this.et.toString()), i.setAttribute(\"height\", \"__\" + this.it.toString())) : (i.setAttribute(\"classid\", \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"), i.setAttribute(\"codebase\", \"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\"), i.setAttribute(\"id\", e), i.setAttribute(\"width\", this.et.toString()), i.setAttribute(\"height\", this.it.toString())), i.object ? (t.forEach(r, function (e) {\n              t.isNullOrUndefined(t.get(i.object, [e.name])) || (i.object[e.name] = e.value);\n            }), i.appendChild(n)) : t.forEach(r, function (e) {\n              var n = t.find(i.children, function (t) {\n                return t.name === e.name;\n              });\n              return n ? i.replaceChild(e, n) : i.appendChild(e);\n            }), this.nt.outerHTML = i.outerHTML, s.document.getElementById && (this.nt = s.document.getElementById(e), c.call(this)), this.nt;\n          }.call(this);\n        }, o.prototype.getElement = function () {\n          return this.nt;\n        }, o.prototype.addEventListener = function (t, e) {\n          if (!(a.call(this, t, e) > -1)) {\n            var i = this.f.listen(t, e);\n            this.v.add(i), this.rt.push({\n              name: t,\n              listener: e,\n              disposable: i\n            });\n          }\n        }, o.prototype.removeEventListener = function (t, e) {\n          var i = a.call(this, t, e);\n          i > -1 && this.rt.splice(i, 1)[0].disposable.dispose();\n        }, o.prototype.destroy = function () {\n          this.v.dispose();\n        }, o;\n      }.apply(e, n)) || (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(6), i(8), i(4), i(3)], void 0 === (r = function (t, e, i, n, r) {\n        \"use strict\";\n\n        function s() {\n          var t = this;\n          this.ht = function () {\n            var t = document.createElement(\"div\");\n            return t.id = \"phenixRTC\", t.style.cssText = \"visibility:hidden !important;width:0px !important;height:0px !important;margin:0px !important;padding:0px !important;border-style:none !important;border-width:0px !important;max-width:0px !important;max-height:0px !important;outline:none !important\", document.body.appendChild(t), t;\n          }(), this.ft = \"?\";\n          try {\n            this.dt = function (t) {\n              var e = document.createElement(\"object\");\n              return e.type = \"application/x-phenix-rtc\", t.appendChild(e), e;\n            }(this.ht), this.dt.onunload = function () {\n              t.y = !1;\n            }, new n().waitForReady(this.dt, function (e) {\n              t.y = !0, t.w = !0 === e, t.ft = t.dt.phenixVersion || \"?.?.?.?\", d(e ? \"Phenix RTC \" + t.ft : \"No Phenix RTC\"), t.b && t.b(t.w);\n            });\n          } catch (t) {\n            l(\"Error while loading Phenix RTC\" + t);\n          }\n        }\n        function o() {\n          this.ht && document.getElementById(\"phenixRTC\") !== this.ht && (document.body.appendChild(this.ht), this.lt && this.lt.call(this));\n        }\n        function a(e) {\n          var i = function () {\n            var i = null;\n            switch (arguments.length) {\n              case 0:\n                i = new e();\n                break;\n              case 1:\n                i = new e(arguments[0]);\n                break;\n              case 2:\n                i = new e(arguments[0], arguments[1]);\n                break;\n              case 3:\n                i = new e(arguments[0], arguments[1], arguments[2]);\n                break;\n              case 4:\n                i = new e(arguments[0], arguments[1], arguments[2], arguments[3]);\n                break;\n              case 5:\n                i = new e(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);\n                break;\n              default:\n                throw new Error(\"Unsupported number of arguments in Phenix Object Constructor\");\n            }\n            return i.phenixAddEventListener = t.bind(u, i), i.phenixRemoveEventListener = t.bind(c, i), i;\n          };\n          return t.forOwn(e, function (t, e) {\n            i[e] = t;\n          }), i;\n        }\n        function u(t, i) {\n          e.mt(t, \"name\"), e.pt(i, \"listener\"), h.call(this, t), function (t, e) {\n            if (!this.events || !this.events[t]) throw new Error(\"No event observable for event: \" + name);\n            this.events[t].listeners.push(e);\n          }.call(this, t, i);\n        }\n        function c(t, e) {\n          f.call(this, t, e);\n        }\n        function h(e) {\n          if (!this.events || !this.events[e]) {\n            this.events || (this.events = {});\n            var n = this.events;\n            n[e] = {\n              observable: new i.Observable().extend({\n                timeout: 0\n              }),\n              subscription: null,\n              listeners: []\n            }, this.phenixSetEventListener(e, t.bind(n[e].observable.setValue, n[e].observable)), n[e].subscription = n[e].observable.subscribe(function (i) {\n              var r = n[e].listeners;\n              t.forEach(r, function (t) {\n                t(i);\n              });\n            });\n          }\n        }\n        function f(e, i) {\n          this.events && this.events.events[e] && (this.events[e].listeners = t.filter(this.events[e].listeners, function (t) {\n            return i !== t;\n          }));\n        }\n        var d = function () {\n            console.log.apply(console, arguments);\n          } || function () {},\n          l = function () {\n            console.error.apply(console, arguments);\n          } || d;\n        return s.prototype.onReady = function (t) {\n          var e = this;\n          this.y ? setTimeout(function () {\n            t(e.w);\n          }, 1) : this.b = t;\n        }, s.prototype.onLoaded = function (t) {\n          this.lt = t;\n        }, s.prototype.isLoaded = function () {\n          return !0 === this.y;\n        }, s.isSupported = function () {\n          if (navigator.plugins) for (var t = navigator.plugins, e = 0; e < t.length; e++) if (t[e].name.indexOf(\"PhenixRTC\") >= 0) return !0;\n          if (navigator.userAgent && (navigator.userAgent.match(/MSIE/) || navigator.userAgent.match(/Trident/))) try {\n            return new window.ActiveXObject(\"PhenixP2P.RTC\"), !0;\n          } catch (t) {\n            return !1;\n          }\n          return !1;\n        }, s.prototype.isEnabled = function () {\n          return o.call(this), this.dt && void 0 !== this.dt.phenixVersion;\n        }, s.prototype.getVersion = function () {\n          return o.call(this), this.ft;\n        }, s.prototype.getRTCPeerConnectionConstructor = function () {\n          return o.call(this), a(this.dt.RTCPeerConnection);\n        }, s.prototype.getRTCSessionDescriptionConstructor = function () {\n          return o.call(this), a(this.dt.RTCSessionDescription);\n        }, s.prototype.getRTCIceCandidateConstructor = function () {\n          return o.call(this), a(this.dt.RTCIceCandidate);\n        }, s.prototype.getSourcesDelegate = function () {\n          var t = this;\n          return function (e) {\n            return o.call(t), t.dt.getSources(e);\n          };\n        }, s.prototype.getUserMediaDelegate = function () {\n          var t = this;\n          return function (e, i, n) {\n            return o.call(t), t.dt.getUserMedia(e, i, n);\n          };\n        }, s.prototype.getStatsDelegate = function () {\n          return function (t, e, i, n) {\n            return t.getStats(e, i, n);\n          };\n        }, s.prototype.attachMediaStream = function (t, e) {\n          return o.call(this), function (t, e) {\n            if (!t) throw new Error(\"Can not attach a stream to a undefined element\");\n            if (t.phenixVersion) return t.src = e, t;\n            var i = new r(t, e, !0);\n            return i.getElement().phenixPresenter = i, i.getElement();\n          }.call(this, t, e);\n        }, s.prototype.reattachMediaStream = function (t, e) {\n          return o.call(this), this.attachMediaStream(t, e.src);\n        }, s;\n      }.apply(e, n)) || (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(2), i(11), i(0), i(3)], void 0 === (r = function (t, e, i, n, r) {\n        \"use strict\";\n\n        function s() {\n          if (w = n.RTCPeerConnection, b = n.RTCSessionDescription, k = n.RTCIceCandidate, navigator.mediaDevices && navigator.mediaDevices.enumerateDevices && (S = t.bind(c, null, \"input\")), navigator.mediaDevices && navigator.mediaDevices.enumerateDevices && (E = t.bind(c, null, \"output\")), (navigator.mediaDevices && navigator.mediaDevices.getUserMedia || n.getUserMedia) && (T = o), !n.RTCPeerConnection) return g(\"[%s] browser version [%s] does not appear to be WebRTC-capable\", y.browser, y.version);\n          switch (y.browser) {\n            case \"Firefox\":\n              g(\"Firefox detected\", y), R = function (t, e) {\n                g(\"Attaching media stream\");\n                var i = t.muted;\n                return y.version > 57 && (t.srcObject = e), t.mozSrcObject = e, t.play(), !0 === i && (t.muted = !0), t;\n              }, M = function (t, e) {\n                g(\"Reattaching media stream\");\n                var i = t.muted;\n                return y.version > 57 && (t.srcObject = e.srcObject), t.mozSrcObject = e.mozSrcObject, t.play(), !0 === i && (t.muted = !0), t;\n              }, I = function (e, i, n, r) {\n                e.getStats(i, t.bind(l, this, e, n), r);\n              }, P = !0;\n              break;\n            case \"Opera\":\n              g(\"Opera detected\", y), R = h, M = d, I = function (e, i, n, r) {\n                e.getStats(t.bind(l, this, e, n), i, r);\n              }, P = !0;\n              break;\n            case \"Chrome\":\n              g(\"Webkit detected\", y), R = h, M = d, I = function (e, i, n, r) {\n                e.getStats(t.bind(l, this, e, n), i, r);\n              }, P = !0;\n              break;\n            case \"Edge\":\n              g(\"Edge detected\", y), R = h, M = d, I = function (e, i, n, r) {\n                e.getStats(i, t.bind(l, this, e, n), r);\n              }, P = !0;\n              break;\n            case \"Safari\":\n              g(\"Safari detected\", y), R = function (e, i, n) {\n                return t.vt(i) && (e.__phenixHasPlayedWebRtc = !0), h(e, i, n);\n              }, C = function (t, e) {\n                return t.__phenixHasPlayedWebRtc ? ((t = new r(t, e, !1).getElement()).play(), t) : f(t, e);\n              }, M = d, I = function (e, i, n, r) {\n                e.getStats(i).then(t.bind(l, this, e, n), r);\n              }, P = !0;\n              break;\n            case \"ReactNative\":\n              g(\"React Native detected\", y), R = function () {\n                g(\"attachMediaStream not supported in React Native environment\");\n              }, C = function () {\n                g(\"attachUriStream not supported in React Native environment\");\n              }, M = function () {\n                g(\"reattachMediaStream not supported in React Native environment\");\n              }, I = function (e, i, n, r) {\n                e.getStats(i).then(t.bind(l, this, e, n), r);\n              }, P = !0;\n              break;\n            default:\n              g(\"Browser does not appear to be WebRTC-capable\", y);\n          }\n        }\n        function o(e, i, r) {\n          var s = t.bind(a, this, e, i, r);\n          return navigator && t.pt(navigator.getUserMedia) ? navigator.getUserMedia(e, s, r) : n && t.pt(n.getUserMedia) ? n.getUserMedia(e, s, r) : void 0;\n        }\n        function a(t, e, i, n) {\n          setTimeout(function () {\n            for (var r = n.getTracks(), s = 0; s < r.length; s++) {\n              var o = r[s];\n              if (o.onended = function (t) {\n                g(t.timeStamp, \"Track\", o.id, o.label, \"ended\");\n              }, g(\"Track\", o.id, o.label, r[s].kind, \"readyState=\", r[s].readyState), \"ended\" === o.readyState) return u(\"User media not available\", i, r);\n            }\n            var a = (t.audio ? 1 : 0) + (t.video ? 1 : 0);\n            return r.length !== a ? u(\"Unable to get all requested user media.\", i, r) : void e(n);\n          }, 100);\n        }\n        function u(t, e, i) {\n          try {\n            var n = new Error(t);\n            n.code = \"unavailable\", e(n);\n          } finally {\n            !function (t) {\n              for (var e = 0; e < t.length; e++) t[e].stop();\n            }(i);\n          }\n        }\n        function c(t, e) {\n          if (\"input\" !== t && \"output\" !== t) throw new Error(\"Unsupported device type \" + t);\n          navigator.mediaDevices && navigator.mediaDevices.enumerateDevices().then(function (i) {\n            var n = [];\n            i.forEach(function (e) {\n              e.kind === \"audio\" + t ? n.push({\n                kind: \"audio\",\n                id: e.deviceId,\n                label: e.label\n              }) : e.kind === \"video\" + t && n.push({\n                kind: \"video\",\n                id: e.deviceId,\n                label: e.label\n              });\n            }), e(n);\n          });\n        }\n        function h(t, e, i) {\n          void 0 !== t.srcObject ? t.srcObject = e : void 0 !== t.mozSrcObject ? t.mozSrcObject = e : void 0 !== t.src ? t.src = URL.createObjectURL(e) : g(\"Error attaching stream to element.\");\n          var n = t.play();\n          return void 0 === n ? (\"function\" == typeof i && i(), t) : (n.then(function () {\n            \"function\" == typeof i && i();\n          }).catch(function (t) {\n            g(\"Play() failed: \" + t), \"function\" == typeof i && i(t);\n          }), t);\n        }\n        function f(t, e) {\n          return t.src = e, t.play(), t;\n        }\n        function d(t, e) {\n          return t.src = e.src, t;\n        }\n        function l(t, e, i) {\n          e(m(t, i));\n        }\n        function m(e, i) {\n          switch (y.browser) {\n            case \"Edge\":\n              i.forEach(function (t) {\n                t.mediaType = p(e, t.codecId), t.bytesSent = v(t.packetsSent, t.mediaType), t.bytesReceived = v(t.packetsReceived, t.mediaType);\n              });\n              break;\n            case \"Safari\":\n              i.forEach(function (e) {\n                t.includes(e.id.toLowerCase(), \"audio\") && t.includes(e.id.toLowerCase(), \"rtp\") && (e.mediaType = \"audio\"), t.includes(e.id.toLowerCase(), \"video\") && t.includes(e.id.toLowerCase(), \"rtp\") && (e.mediaType = \"video\");\n              });\n          }\n          return i;\n        }\n        function p(e, i) {\n          var n;\n          if (i) return function (e, i) {\n            var n = e.localDescription.sdp.split(\"m=\"),\n              r = e.remoteDescription.sdp.split(\"m=\");\n            n.length === r.length && t.findIndex(n, function (t, e) {\n              return i(t);\n            });\n          }(e, function (e) {\n            t.startsWith(e, \"video\") && t.includes(e.toLowerCase(), i.toLowerCase()) && (n = \"video\"), t.startsWith(e, \"audio\") && t.includes(e.toLowerCase(), i.toLowerCase()) && (n = \"audio\");\n          }), n;\n        }\n        function v(t, e) {\n          var i = parseInt(t) || 0;\n          return \"audio\" === e ? 100 * i : \"video\" === e ? 1080 * i : void 0;\n        }\n        var g = function () {\n            console.log.apply(console, arguments);\n          },\n          y = new e(navigator.userAgent).detect(),\n          w = n.RTCPeerConnection,\n          b = n.RTCSessionDescription,\n          k = n.RTCIceCandidate,\n          S = null,\n          E = null,\n          T = null,\n          I = null,\n          R = null,\n          C = null,\n          M = null,\n          P = !1;\n        return function () {\n          s();\n          var t = {\n            RTCPeerConnection: w,\n            RTCSessionDescription: b,\n            RTCIceCandidate: k,\n            getSources: S,\n            getDestinations: E,\n            getUserMedia: T,\n            getStats: I,\n            attachMediaStream: R,\n            attachUriStream: C || f,\n            reattachMediaStream: M,\n            webrtcSupported: P,\n            exportGlobal: function () {\n              n.RTCPeerConnection = t.RTCPeerConnection, n.RTCSessionDescription = t.RTCSessionDescription, n.RTCIceCandidate = t.RTCIceCandidate;\n            }\n          };\n          return t;\n        };\n      }.apply(e, n)) || (t.exports = r);\n    }, function (t, e) {\n      t.exports = u;\n    }]));\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(45), i(100), i(99)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      return {\n        Observable: t,\n        ObservableArray: e,\n        ObservableMonitor: i\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(46), i(101)], void 0 === (r = function (t, e) {\n      return {\n        Event: t,\n        NamedEvents: e\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(81)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      return t;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        networkStates: {\n          networkEmpty: {\n            id: 0,\n            name: \"NETWORK_EMPTY\"\n          },\n          networkIdle: {\n            id: 1,\n            name: \"NETWORK_IDLE\"\n          },\n          networkLoading: {\n            id: 2,\n            name: \"NETWORK_LOADING\"\n          },\n          networkNoSource: {\n            id: 3,\n            name: \"NETWORK_NO_SOURCE\"\n          }\n        },\n        types: {\n          realTime: {\n            id: 0,\n            name: \"real-time\"\n          },\n          dash: {\n            id: 1,\n            name: \"dash\"\n          },\n          hls: {\n            id: 2,\n            name: \"hls\"\n          },\n          rtmp: {\n            id: 0,\n            name: \"rtmp\"\n          }\n        },\n        streamEvents: {\n          playerEnded: {\n            id: 0,\n            name: \"playerended\"\n          },\n          playerError: {\n            id: 1,\n            name: \"playererror\"\n          },\n          stopped: {\n            id: 2,\n            name: \"stopped\"\n          }\n        },\n        rendererEvents: {\n          ended: {\n            id: 0,\n            name: \"ended\"\n          },\n          error: {\n            id: 1,\n            name: \"error\"\n          },\n          userActionRequired: {\n            id: 2,\n            name: \"userActionRequired\"\n          },\n          autoMuted: {\n            id: 3,\n            name: \"autoMuted\"\n          }\n        }\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(106)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      return t();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(109), i(104), i(24)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      return {\n        createLogger: function () {\n          return new t();\n        },\n        Logger: t,\n        ConsoleAppender: e,\n        level: i.level\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(79)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      return new t();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      var n = 500,\n        r = 15;\n      function s(t, s) {\n        e.vt(t, \"logger\"), this.gt = t, this.yt = new i.Event(), this.wt = null, this.bt = !1, this.kt = null, this.St = {\n          pollFrequency: n,\n          previousWidth: 0,\n          previousHeight: 0\n        }, s && s.pollFrequency && (this.St.pollFrequency = s.pollFrequency >= r ? s.pollFrequency : r), this.Et = null;\n      }\n      function o() {\n        if (this.bt && !this.wt && 0 !== this.yt.size()) {\n          var t = this;\n          this.St.previousWidth = this.kt.videoWidth, this.St.previousHeight = this.kt.videoHeight, this.wt = setInterval(function () {\n            t.kt.videoWidth === t.St.previousWidth && t.kt.videoHeight === t.St.previousHeight || (t.St.previousWidth = t.kt.videoWidth, t.St.previousHeight = t.kt.videoHeight, t.yt.fireAsync([t.Et, {\n              width: t.kt.videoWidth,\n              height: t.kt.videoHeight\n            }]));\n          }, t.St.pollFrequency);\n        }\n      }\n      return s.prototype.start = function (e, i) {\n        (function (e, i) {\n          i && !t.isUndefined(i.videoWidth) || this.gt.warn(\"Attempting to start dimensions changed monitor without providing proper 'video' element.\"), this.Et = e, this.kt = i, this.bt = !0, o.call(this);\n        }).call(this, e, i);\n      }, s.prototype.stop = function () {\n        (function () {\n          this.bt = !1, this.wt && (clearInterval(this.wt), this.wt = null), this.yt.dispose();\n        }).call(this);\n      }, s.prototype.addVideoDisplayDimensionsChangedCallback = function (t) {\n        return e.pt(t, \"addVideoDisplayDimensionsChangedCallback\"), o.call(this), this.yt.listen(t);\n      }, s.prototype.toString = function () {\n        return \"DimensionsChangedMonitor[pollFrequency=\" + this.St.pollFrequency + \", previousHeight=\" + this.St.previousHeight + \", previousWidth=\" + this.St.previousHeight + \", state=\" + (this.wt ? \"running\" : \"stopped\") + \"]\";\n      }, s;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        types: {\n          directChat: {\n            id: 0,\n            name: \"DirectChat\"\n          },\n          multiPartyChat: {\n            id: 1,\n            name: \"MultiPartyChat\"\n          },\n          moderatedChat: {\n            id: 2,\n            name: \"ModeratedChat\"\n          },\n          townHall: {\n            id: 3,\n            name: \"TownHall\"\n          },\n          channel: {\n            id: 4,\n            name: \"Channel\"\n          }\n        },\n        events: {\n          memberJoined: {\n            id: 0,\n            name: \"MemberJoined\"\n          },\n          memberLeft: {\n            id: 1,\n            name: \"MemberLeft\"\n          },\n          memberUpdated: {\n            id: 2,\n            name: \"MemberUpdated\"\n          },\n          roomUpdated: {\n            id: 3,\n            name: \"RoomUpdated\"\n          },\n          roomEnded: {\n            id: 4,\n            name: \"RoomEnded\"\n          }\n        }\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        roles: {\n          participant: {\n            id: 0,\n            name: \"Participant\"\n          },\n          moderator: {\n            id: 1,\n            name: \"Moderator\"\n          },\n          presenter: {\n            id: 2,\n            name: \"Presenter\"\n          },\n          audience: {\n            id: 3,\n            name: \"Audience\"\n          }\n        },\n        states: {\n          active: {\n            id: 0,\n            name: \"Active\"\n          },\n          passive: {\n            id: 1,\n            name: \"Passive\"\n          },\n          handRaised: {\n            id: 2,\n            name: \"HandRaised\"\n          },\n          inactive: {\n            id: 3,\n            name: \"Inactive\"\n          },\n          offline: {\n            id: 4,\n            name: \"Offline\"\n          }\n        }\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(3), i(8), i(37), i(7)], void 0 === (r = function (t, e, i, n, r, s) {\n      \"use strict\";\n\n      var o = [s.types.realTime.name, s.types.dash.name, s.types.hls.name];\n      function a(i) {\n        i = i || o, e.isArray(i, \"features\"), t.forEach(i, function (t, i) {\n          e.Tt(t, s.types, \"FeatureType[\" + i + \"]\");\n        }), this.It = t.map(i, t.bind(t.getEnumName, t, s.types));\n      }\n      function u() {\n        var e = t.get(n, [\"navigator\", \"userAgent\"], \"\");\n        return /iPad|iPhone|iPod/.test(e) && !n.MSStream;\n      }\n      function c() {\n        var e = t.get(n, [\"navigator\", \"userAgent\"], \"\");\n        return /SamsungBrowser/.test(e);\n      }\n      function h(e, i) {\n        return t.includes(e, i) || e.push(i), e;\n      }\n      return a.isFeatureSupported = function (n) {\n        switch (n && e.Rt(n, \"feature\"), t.getEnumName(s.types, n)) {\n          case s.types.realTime.name:\n            return i.webrtcSupported;\n          case s.types.dash.name:\n          case s.types.hls.name:\n          case s.types.rtmp.name:\n            return r.canPlaybackType(n);\n          default:\n            return !1;\n        }\n      }, a.mapFeatureToPCastCapability = function (i) {\n        switch (i && e.Rt(i, \"feature\"), t.getEnumName(s.types, i)) {\n          case s.types.realTime.name:\n            return \"real-time\";\n          case s.types.dash.name:\n          case s.types.hls.name:\n            return \"streaming\";\n          case s.types.rtmp.name:\n            return \"rtmp\";\n          default:\n            return \"\";\n        }\n      }, a.mapPCastCapabilitiesToFeatures = function (i) {\n        return e.isArray(i, \"capabilities\"), t.reduce(i, function (t, e) {\n          return t.concat(a.mapPCastCapabilityToFeatures(e));\n        }, []);\n      }, a.mapPCastCapabilityToFeatures = function (t) {\n        return t && e.Rt(t, \"capability\"), \"real-time\" === t ? [s.types.realTime.name] : \"streaming\" === t ? [s.types.dash.name, s.types.dash.name] : \"rtmp\" === t ? [s.types.rtmp.name] : [];\n      }, a.prototype.getFeatures = function () {\n        return this.It;\n      }, a.prototype.getFeaturePCastCapabilities = function () {\n        var e = t.map(this.It, a.mapFeatureToPCastCapability);\n        return t.reduce(e, h, []);\n      }, a.prototype.getPreferredFeatureFromPublisherCapabilities = function (i, n) {\n        e.isArray(i, \"capabilities\");\n        var r = t.reduce(this.It, function (e, r) {\n          var s = a.mapFeatureToPCastCapability(r),\n            o = a.isFeatureSupported(r) && (t.includes(i, s) || \"real-time\" === r && !n);\n          return e || (o ? r : null);\n        }, null);\n        return r === s.types.dash.name && a.shouldUseNativeHls && t.includes(i, a.mapFeatureToPCastCapability(s.types.hls.name)) && t.includes(this.It, s.types.hls.name) ? r = s.types.hls.name : r === s.types.hls.name && !a.shouldUseNativeHls && t.includes(i, a.mapFeatureToPCastCapability(s.types.dash.name)) && t.includes(this.It, s.types.dash.name) && (r = s.types.dash.name), r;\n      }, a.shouldUseNativeHls = u() || \"Safari\" === i.browser || c(), a.isIOS = u, a.isSamsungBrowser = c, a.isAndroid = function () {\n        var e = t.get(n, [\"navigator\", \"userAgent\"], \"\");\n        return /(android)/i.test(e);\n      }, a.isMobile = function () {\n        var e = t.get(n, [\"navigator\", \"userAgent\"], \"\");\n        return u() || /Android|webOS|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e);\n      }, a.getIOSVersion = function () {\n        var e = t.get(n, [\"navigator\", \"userAgent\"], \"\");\n        if (/iP(hone|od|ad)/.test(e)) {\n          var i = e.match(/.*OS (\\d+)_(\\d+)_?(\\d+)? like Mac OS X/);\n          return {\n            major: parseInt(t.get(i, [1], 0), 10),\n            minor: parseInt(t.get(i, [2], 0), 10),\n            patch: parseInt(t.get(i, [3], 0), 10)\n          };\n        }\n      }, a;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r, s, o, a, u, c, h, f;\n    t.exports = (n = i(1), r = i(0), s = i(9), o = i(5), a = i(2), u = i(3), c = i(6), h = i(21), f = i(10), function (t) {\n      function e(n) {\n        if (i[n]) return i[n].exports;\n        var r = i[n] = {\n          i: n,\n          l: !1,\n          exports: {}\n        };\n        return t[n].call(r.exports, r, r.exports, e), r.l = !0, r.exports;\n      }\n      var i = {};\n      return e.m = t, e.c = i, e.d = function (t, i, n) {\n        e.o(t, i) || Object.defineProperty(t, i, {\n          configurable: !1,\n          enumerable: !0,\n          get: n\n        });\n      }, e.n = function (t) {\n        var i = t && t.__esModule ? function () {\n          return t.default;\n        } : function () {\n          return t;\n        };\n        return e.d(i, \"a\", i), i;\n      }, e.o = function (t, e) {\n        return Object.prototype.hasOwnProperty.call(t, e);\n      }, e.p = \"\", e(e.s = 22);\n    }([function (t, e) {\n      t.exports = n;\n    }, function (t, e) {\n      t.exports = r;\n    }, function (t, e) {\n      t.exports = s;\n    }, function (t, e) {\n      t.exports = o;\n    }, function (t, e) {\n      t.exports = a;\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(2), i(3), i(4), i(10), i(7), i(23), i(24), i(13), i(15), i(26), i(6)], void 0 !== (r = function (t, e, i, n, r, s, o, a, u, c, h, f, d) {\n        \"use strict\";\n\n        function l(t, s) {\n          s && e.Rt(s, \"playlistUrl\"), this.parsedPlaylist = null, this.gt = t || new i.Logger(), this.playlistUrl = s, this.baseUrl = s ? s.substring(0, s.lastIndexOf(\"/\") + 1) : \"\", this.Ct = s ? s.substring(s.lastIndexOf(\"/\"), s.length) : \"\", this.Mt = new n.Event(), this.Pt = {}, this.xt = [], this.Dt = v(this.playlistUrl), this.At = null, this.Ot = 0, this.v = new r.DisposableList(), this.v.add(this.Mt);\n        }\n        function m(e, i) {\n          return 0 === t.keys(i).length ? e : t.filter(e, function (e) {\n            return function (e, i) {\n              var n = e.getHeight() || 0,\n                r = e.getBandwidth() || 0;\n              return t.reduce(i, function (t, e, i) {\n                switch (i) {\n                  case \"maxHeight\":\n                    return n <= e;\n                  case \"minHeight\":\n                    return n >= e;\n                  case \"maxBandwidth\":\n                    return r <= e;\n                  case \"minBandwidth\":\n                    return r >= e;\n                  default:\n                    throw new Error(\"Unknown restriction \" + i);\n                }\n              }, !1);\n            }(e, i);\n          });\n        }\n        function p(i, n) {\n          e.qt(i, o, \"track\"), n = n || t.noop, e.pt(n, \"eventCallback\");\n          var s = i.getMimeType();\n          this.Pt[s] || (this.Pt[s] = []), t.includes(this.Pt[s], i) || this.Pt[s].push(i), t.includes(this.xt, s) || this.xt.push(s), this.v.add(new r.Disposable(function () {\n            i.dispose();\n          })), this.Mt.fireAsync([i], this, n);\n        }\n        function v(t) {\n          return /[.]mpd\\??[^\\s]*/i.test(t) ? \"Dash\" : /[.]m3u8\\??[^\\s]*/i.test(t) ? \"Hls\" : null;\n        }\n        function g(e, i, n, r) {\n          if (n && n.attempts === w) {\n            var s = \"Failed to get playlist [\" + e + \"] with max retries of [\" + w + \" after [\" + t.get(n, [\"stats\", \"totalResponseTimeForAllAttempts\"], 0) + \"] ms\";\n            return this.gt.warn(s), r(y(d.name.playlistNotFound.name, d.severity.CRITICAL, s));\n          }\n          if (0 === i.code) {\n            var o = \"Failed to get playlist [\" + e + \"] with timeout after [\" + t.get(n, [\"stats\", \"totalResponseTimeForAllAttempts\"], 0) + \"]\";\n            return this.gt.warn(o), r(y(d.name.timeout.name, d.severity.RECOVERABLE, o));\n          }\n          return this.gt.warn(\"Failed to load playlist [%s]. Status code: [%s] (status text: [%s])\", e, i.code, i.message), r(y(d.name.error.name, d.severity.CRITICAL, i));\n        }\n        function y(t, e, i) {\n          return {\n            category: d.category.PLAYLIST,\n            name: t,\n            severity: e,\n            error: \"Error\" === i.constructor.name ? i : new Error(i)\n          };\n        }\n        var w = 5;\n        return l.prototype.toString = function () {\n          return \"Playlist [playlistUrl=\" + this.playlistUrl + \", baseUrl=\" + this.baseUrl + \", mimeTypes=\" + this.xt + \", trackAddedEvent(size)=\" + this.Mt.size() + \", playlistTracks=\" + this.getAllPlaylistTracks() + \"]\";\n        }, l.prototype.dispose = function () {\n          this.Pt = {}, this.v.dispose();\n        }, l.prototype.getPlaylistTracksByMimeType = function (t) {\n          return this.Pt[t];\n        }, l.prototype.fetch = function (e) {\n          (function (e) {\n            var i = this;\n            s.getWithRetry(i.playlistUrl, {\n              retryOptions: {\n                backoff: 1,\n                delay: 1e3,\n                maxAttempts: w,\n                additionalRetryErrorCodes: [0]\n              }\n            }, function (n, r) {\n              if (n) return g.call(i, i.playlistUrl, n, r, e);\n              (function (e, i, n) {\n                var r = null,\n                  o = [],\n                  d = this;\n                switch (this.Dt) {\n                  case \"Dash\":\n                    r = new c(d.gt, e);\n                    var l = new f(d.gt, r.timeSources, i);\n                    d.v.add(l), d.parsedPlaylist = r, d.Ut = d.parsedPlaylist.availabilityStartTime ? d.parsedPlaylist.availabilityStartTime.getTime() : null, d.Ft = d.parsedPlaylist.publishTime ? d.parsedPlaylist.publishTime.getTime() : null, d.Nt = t.get(d.parsedPlaylist, [\"suggestedPresentationDelay\", \"totalMillis\"], null), d.Lt = t.get(d.parsedPlaylist, [\"mediaPresentationDuration\", \"totalMillis\"], 1 / 0), d.jt = t.get(d.parsedPlaylist, [\"minBufferTime\", \"totalMillis\"], null), d.At = d.parsedPlaylist.type, o = function (e) {\n                      var i = this;\n                      return t.map(e.representations, function (t) {\n                        return {\n                          chunkDuration: t.duration,\n                          dataChunkUrlTemplate: t.media,\n                          codec: t.mseCodec,\n                          bandwidth: t.bandwidth,\n                          height: t.height,\n                          trackId: t.id,\n                          initUrl: t.initialization,\n                          mimeType: t.mimeType,\n                          totalNumberOfChunks: Math.ceil(i.Lt / t.duration)\n                        };\n                      });\n                    }.call(d, d.parsedPlaylist), t.forEach(o, function (t) {\n                      p.call(d, new a(d.gt, t));\n                    }), l.calculateOffset(function (t, e) {\n                      d.Ot = e, n();\n                    }), l.setInterval(function t(e, i) {\n                      if (e) return d.Bt(\"Unable to get server local time offset\", e), l.setInterval(t);\n                      d.Ot = i;\n                    });\n                    break;\n                  case \"Hls\":\n                    r = new h(d.gt, d.Ct, e), d.parsedPlaylist = r, d.Ut = null, d.jt = 0, d.Nt = 0, d.Lt = 1 / 0;\n                    var m = 0;\n                    t.forEach(r.streamVariants, function (t) {\n                      var e = d.baseUrl + t.name,\n                        i = new u(d.gt, {\n                          mediaSegmentPlaylistUrl: e,\n                          codecs: t.codecs.join(\",\"),\n                          bandwidth: t.bandwidth,\n                          trackId: t.name,\n                          mimeType: \"application/octet-stream\",\n                          height: null\n                        });\n                      s.getWithRetry(e, {\n                        retryOptions: {\n                          maxAttempts: w,\n                          backoff: 1\n                        }\n                      }, function (t, s) {\n                        if (t) return g.call(d, e, t, s, n);\n                        i.updateMediaSegments(s.data), p.call(d, i), ++m === r.streamVariants.length && (d.At = i.isComplete() ? \"static\" : \"dynamic\", \"static\" === d.At && (d.Lt = 1e3 * i.getPlayableDuration()), n());\n                      });\n                    });\n                    break;\n                  default:\n                    throw d.gt.error(\"[%s] Unsupported Delivery Type [%s]\", d.playlistUrl, v(d.playlistUrl)), new Error(\"Unsupported Delivery Type \" + v(d.playlistUrl));\n                }\n              }).call(i, r.data, r.stats.successResponseTime, function () {\n                e(n, {\n                  raw: r,\n                  parsed: i.parsedPlaylist\n                });\n              });\n            });\n          }).call(this, e);\n        }, l.prototype.getType = function () {\n          return this.At;\n        }, l.prototype.getDeliveryType = function () {\n          return this.Dt;\n        }, l.prototype.getPlaylistTracksByBandwidthPerMimeType = function (i, n) {\n          e.vt(n, \"restrictions\");\n          var r = this,\n            s = t.map(this.xt, function (e) {\n              var s = m(r.getPlaylistTracksByMimeType(e), n),\n                o = t.reduce(s, function (t, e) {\n                  return e.getBandwidth() > i ? t : t && t.getBandwidth() > e.getBandwidth() ? t : e;\n                }, null) || r.getPlaylistTrackByMimeTypeAndNextHighestBandwidth(0, e, n);\n              if (o) return o;\n              var a = t.get(t.filter(s, function (t) {\n                return !t.getBandwidth();\n              }), \"0\");\n              if (a) return r.gt.debug(\"Unable to get track with bandwidth [%s] and restrictions [%s]. Falling back to track [%s].\", i, JSON.stringify(n), a.getTrackId()), a;\n              r.gt.warn(\"Unable to get track with bandwidth [%s] and restrictions [%s]. No other tracks to fallback on.\", i, JSON.stringify(n));\n            });\n          return t.filter(s, function (e) {\n            return !t.isNullOrUndefined(e);\n          });\n        }, l.prototype.getPlaylistTrackByBandwidthAndMimeType = function (e, i) {\n          return t.find(this.getPlaylistTracksByBandwidthPerMimeType(e, {}), function (t) {\n            return t.getMimeType() === i;\n          });\n        }, l.prototype.getPlaylistTrackByMimeTypeAndNextHighestBandwidth = function (e, i, n) {\n          var r = m(this.getPlaylistTracksByMimeType(i), n);\n          return t.reduce(r, function (t, i) {\n            return i.getBandwidth() <= e ? t : t ? t.getBandwidth() > i.getBandwidth() ? i : t : i;\n          }, null);\n        }, l.prototype.getAllPlaylistTracks = function () {\n          return [].concat.apply([], t.values(this.Pt));\n        }, l.prototype.getMimeTypes = function () {\n          return this.xt;\n        }, l.prototype.getPlaybackDurationSinceAvailable = function () {\n          return this.currentServerTime() - this.Ut;\n        }, l.prototype.getPlaybackDurationSincePublish = function () {\n          return this.currentServerTime() - this.Ft;\n        }, l.prototype.getSuggestedPresentationDelayTotalMillis = function () {\n          return this.Nt;\n        }, l.prototype.getTotalMediaTimeInMillis = function () {\n          return this.Lt;\n        }, l.prototype.getMinBufferTimeTotalMillis = function () {\n          return this.jt;\n        }, l.prototype.getLocalToServerTimeOffset = function () {\n          return this.Ot;\n        }, l.prototype.currentServerTime = function () {\n          return t.now() - this.Ot;\n        }, l.prototype.getMaxChunkDuration = function () {\n          return t.reduce(this.getAllPlaylistTracks(), function (t, e) {\n            return Math.max(e.getChunkDuration(), t);\n          }, 0);\n        }, l.prototype.addEventListener = function (t, i) {\n          switch (e.Wt(t, \"eventName\"), e.pt(i, \"listener\"), t) {\n            case \"trackadded\":\n              return this.Mt.listen(i);\n            default:\n              throw new Error('Event \"' + t + '\" is unknown.');\n          }\n        }, l;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n;\n      void 0 !== (n = function () {\n        \"use strict\";\n\n        return {\n          name: {\n            chunkNotFound: {\n              id: 0,\n              name: \"chunk-not-found\"\n            },\n            timeout: {\n              id: 1,\n              name: \"timeout\"\n            },\n            error: {\n              id: 2,\n              name: \"error\"\n            },\n            playlistNotFound: {\n              id: 3,\n              name: \"playlist-not-found\"\n            },\n            progressTimeOut: {\n              id: 4,\n              name: \"progress-timeout\"\n            },\n            hlsNativeError: {\n              id: 5,\n              name: \"hls-native-error\"\n            }\n          },\n          category: {\n            PLAYLIST: 4,\n            STREAMING: 5,\n            DRM: 6\n          },\n          severity: {\n            RECOVERABLE: 1,\n            CRITICAL: 2\n          }\n        };\n      }.apply(e, [])) && (t.exports = n);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(0)], void 0 !== (r = function (t) {\n        \"use strict\";\n\n        function e(e, i, n) {\n          t.vt(e, \"logger\");\n        }\n        return e.prototype.toString = function () {\n          return \"IPlaylistTrack[]\";\n        }, e.prototype.dispose = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getMseCodec = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getTrackId = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getChunkDuration = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getBandwidth = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getHeight = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getMimeType = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getTotalNumberOfChunks = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getCurrentChunkId = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.setCurrentChunkId = function (t) {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.incrementCurrentChunkId = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.addDataChunk = function (t, e, i) {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.getChunks = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.addEventListener = function (t, e) {\n          throw new Error(\"Must be implemented\");\n        }, e;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e) {\n      t.exports = u;\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(2)], void 0 !== (r = function (t, e) {\n        \"use strict\";\n\n        function i(t, i) {\n          this.h = i || {}, this.gt = t || new e.Logger(), this._t = {}, this.zt = i.ewmaPeriods || null, this.Vt = this.zt ? 2 / (this.zt + 1) : null;\n        }\n        function n(t, e, i, n, r) {\n          var s = (i * (t.length - 1) + r(e)) / t.length;\n          if (n > 0) for (; e.added - t[0].added > n;) {\n            var o = t.shift();\n            s = (s * (t.length + 1) - r(o)) / t.length;\n          }\n          return s;\n        }\n        return i.prototype.toString = function () {\n          var e = this;\n          return \"StatsProvider [rateDataPoints(keys)=\" + t.keys(this._t) + \", rateDataPoints=\" + t.toString(t.map(this._t, function (t, i) {\n            return e.getRateAverages(i);\n          })) + \", options=\" + this.h + \"]\";\n        }, i.prototype.dispose = function () {\n          delete this._t;\n        }, i.prototype.addRateDataPoint = function (e, i, r, s) {\n          if (!t.isNullOrUndefined(this._t)) {\n            this._t[e] || (this._t[e] = {\n              tenSecDataPoints: [],\n              thirtySecDataPoints: [],\n              oneMinDataPoints: [],\n              twoMinDataPoints: [],\n              ewmaDataPoints: [],\n              tenSecAverageRate: 0,\n              thirtySecAverageRate: 0,\n              oneMinAverageRate: 0,\n              twoMinAverageRate: 0,\n              ewmaRate: 0,\n              smaRate: 0,\n              tenSecAverageDuration: 0,\n              thirtySecAverageDuration: 0,\n              oneMinAverageDuration: 0,\n              twoMinAverageDuration: 0,\n              ewmaDuration: 0,\n              smaDuration: 0\n            });\n            var o = {\n              duration: i,\n              amount: r,\n              durationToSecondsFactor: s,\n              rate: r / (i * s),\n              added: t.now()\n            };\n            (function (t, e) {\n              var i = function (t) {\n                  return t.rate;\n                },\n                r = function (t) {\n                  return t.duration;\n                };\n              t.tenSecDataPoints.push(e), t.thirtySecDataPoints.push(e), t.oneMinDataPoints.push(e), t.twoMinDataPoints.push(e), t.tenSecAverageRate = n.call(this, t.tenSecDataPoints, e, t.tenSecAverageRate, 1e4, i), t.thirtySecAverageRate = n.call(this, t.thirtySecDataPoints, e, t.thirtySecAverageRate, 3e4, i), t.oneMinAverageRate = n.call(this, t.oneMinDataPoints, e, t.oneMinAverageRate, 6e4, i), t.twoMinAverageRate = n.call(this, t.twoMinDataPoints, e, t.twoMinAverageRate, 12e4, i), t.tenSecAverageDuration = n.call(this, t.tenSecDataPoints, e, t.tenSecAverageDuration, 1e4, r), t.thirtySecAverageDuration = n.call(this, t.thirtySecDataPoints, e, t.thirtySecAverageDuration, 3e4, r), t.oneMinAverageDuration = n.call(this, t.oneMinDataPoints, e, t.oneMinAverageDuration, 6e4, r), t.twoMinAverageDuration = n.call(this, t.twoMinDataPoints, e, t.twoMinAverageDuration, 12e4, r), this.Vt && (t.ewmaDataPoints.push(e), t.smaRate = n.call(this, t.ewmaDataPoints, e, t.smaRate, -1, i), t.smaDuration = n.call(this, t.ewmaDataPoints, e, t.smaDuration, -1, r), t.ewmaDataPoints.length >= this.zt && (t.ewmaDataPoints.shift(), t.ewmaDataPoints.length === this.zt ? (t.ewmaRate = t.smaRate, t.ewmaDuration = t.smaDuration) : (t.ewmaRate = this.Vt * (t.smaRate - t.ewmaRate) + t.ewmaRate, t.ewmaDuration = this.Vt * (t.smaDuration - t.ewmaDuration) + t.ewmaDuration)));\n            }).call(this, this._t[e], o);\n          }\n        }, i.prototype.getRateAverages = function (e) {\n          if (!t.get(this._t, [e])) return {\n            tenSecAverageRate: 0,\n            thirtySecAverageRate: 0,\n            oneMinAverageRate: 0,\n            twoMinAverageRate: 0,\n            ewmaRate: 0,\n            tenSecAverageDuration: 0,\n            thirtySecAverageDuration: 0,\n            oneMinAverageDuration: 0,\n            twoMinAverageDuration: 0,\n            ewmaDuration: 0\n          };\n          var i = this._t[e];\n          return {\n            tenSecAverageRate: i.tenSecAverageRate,\n            thirtySecAverageRate: i.thirtySecAverageRate,\n            oneMinAverageRate: i.oneMinAverageRate,\n            twoMinAverageRate: i.twoMinAverageRate,\n            ewmaRate: i.ewmaRate,\n            tenSecAverageDuration: i.tenSecAverageDuration,\n            thirtySecAverageDuration: i.thirtySecAverageDuration,\n            oneMinAverageDuration: i.oneMinAverageDuration,\n            twoMinAverageDuration: i.twoMinAverageDuration,\n            ewmaDuration: i.ewmaDuration\n          };\n        }, i;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e) {\n      t.exports = c;\n    }, function (t, e) {\n      t.exports = h;\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(0)], void 0 !== (r = function (t) {\n        \"use strict\";\n\n        function e(e, i, n, r) {\n          t.vt(e, \"logger\");\n        }\n        return e.prototype.toString = function () {\n          return \"IPlaylistChunkFeeder[]\";\n        }, e.prototype.dispose = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.initialize = function (t, e, i, n) {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.setActiveTracks = function (t) {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.initializePlaylistTracks = function (t, e, i, n) {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.startRequestingDataForActiveTracks = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.isFetchingData = function () {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.seekToChunk = function (t) {\n          throw new Error(\"Must be implemented\");\n        }, e.prototype.stopRequestingAllData = function () {\n          throw new Error(\"Must be implemented\");\n        }, e;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(14)], void 0 !== (r = function (t, e, i) {\n        \"use strict\";\n\n        function n(n, s) {\n          e.Rt(s, \"mpdXml\"), e.vt(n, \"logger\"), this.Ht = s, this.gt = n, this.minBufferTime = 0, this.type = null, this.publishTime = null, this.availabilityStartTime = null, this.timeShiftBufferDepth = 0, this.suggestedPresentationDelay = 0, this.minimumUpdatePeriod = 0, this.maxSegmentDuration = 0, this.profiles = null, this.moreInfoUrl = null, this.programInfoTitle = null, this.representations = [], function () {\n            e.Rt(this.Ht, \"mpdXml\");\n            var n,\n              s = i.parseXml(this.Ht),\n              c = s.getElementsByTagName(\"parsererror\");\n            if (c && c.length > 0) throw n = \"Failed to parse MPD Playlist XML: \" + c.item(0).innerText + \" (source xml: \" + this.Ht + \")\", this.gt.error(n), new Error(n);\n            if (\"MPD\" !== s.documentElement.nodeName) throw n = 'Invalid MPD Playlist XML. Does not start with \"MPD\": ' + this.Ht, this.gt.error(n), new Error(n);\n            this.minBufferTime = r(a(s.documentElement, \"minBufferTime\")), this.type = a(s.documentElement, \"type\"), this.publishTime = o(a(s.documentElement, \"publishTime\")), this.availabilityStartTime = o(a(s.documentElement, \"availabilityStartTime\")), this.timeShiftBufferDepth = r(a(s.documentElement, \"timeShiftBufferDepth\")), this.suggestedPresentationDelay = r(a(s.documentElement, \"suggestedPresentationDelay\")), this.minimumUpdatePeriod = r(a(s.documentElement, \"minimumUpdatePeriod\")), this.maxSegmentDuration = r(a(s.documentElement, \"maxSegmentDuration\")), this.mediaPresentationDuration = r(a(s.documentElement, \"mediaPresentationDuration\")), this.profiles = a(s.documentElement, \"profiles\");\n            var h = s.getElementsByTagName(\"ProgramInformation\"),\n              f = s.getElementsByTagName(\"UTCTiming\");\n            if (h && h.length >= 1) {\n              var d = h.item(0);\n              this.programInfoTitle = u(d, \"Title\").childNodes[0].nodeValue, this.moreInfoUrl = a(d, \"moreInformationURL\");\n            }\n            var l = s.getElementsByTagName(\"ContentProtection\");\n            if (this.contentProtectionTags = [], l.length > 0) for (var m = 0; m < l.length; m++) {\n              var p = l.item(m),\n                v = t.reduce(p.attributes, function (t, e) {\n                  return t[e.name] = e.value, t;\n                }, {});\n              this.contentProtectionTags.push(v);\n            }\n            for (var g = s.getElementsByTagName(\"Representation\"), y = 0; y < g.length; y++) {\n              var w = function (t) {\n                var e = {};\n                if (e.id = a(t, \"id\"), e.mimeType = a(t, \"mimeType\"), e.codecs = a(t, \"codecs\"), e.mseCodec = i.getMSECodec(e.mimeType, e.codecs), e.isAudio = e.mimeType.indexOf(\"audio\") >= 0, e.isVideo = e.mimeType.indexOf(\"video\") >= 0, !i.isCodecSupported(e.mseCodec)) return this.gt.debug(\"MPD representation has unsupported codec. Skipping stream id [%s] (mimeType=[%s], codecs=[%s])\", e.id, e.mimeType, e.codecs), null;\n                var n = a(t, \"bandwidth\");\n                e.bandwidth = n ? parseInt(n, 10) : null;\n                var r = a(t, \"height\");\n                e.height = r ? parseInt(r, 10) : null;\n                var s = u(t, \"SegmentTemplate\");\n                return s && (e.timescale = parseInt(a(s, \"timescale\")), e.media = a(s, \"media\"), e.startNumber = parseInt(a(s, \"startNumber\")), e.duration = parseInt(a(s, \"duration\")), e.initialization = a(s, \"initialization\")), e;\n              }.call(this, g.item(y));\n              w && this.representations.push(w);\n            }\n            this.timeSources = [];\n            for (var b = 0; b < f.length; b++) {\n              var k = f.item(b),\n                S = a(k, \"schemeIdUri\"),\n                E = a(k, \"value\"),\n                T = o(E);\n              this.timeSources.push({\n                name: S,\n                value: isNaN(T.getTime()) ? E : T.getTime()\n              });\n            }\n          }.call(this);\n        }\n        function r(t) {\n          if (!t) return null;\n          var e = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/.exec(t);\n          if (e) {\n            var i = \"-\" === e[1] ? -1 : 1,\n              n = {\n                year: s(e[2], i),\n                month: s(e[3], i),\n                week: s(e[4], i),\n                day: s(e[5], i),\n                hour: s(e[6], i),\n                minute: s(e[7], i),\n                second: s(e[8], i)\n              };\n            return n.totalMillis = 1e3 * (n.second + 60 * (n.minute + 60 * (n.hour + 24 * n.day))), n;\n          }\n          return null;\n        }\n        function s(t, e) {\n          var i = t && parseFloat(t.replace(\",\", \".\"));\n          return (isNaN(i) ? 0 : i) * e;\n        }\n        function o(t) {\n          if (!t) return null;\n          var e = new Date();\n          return e.setTime(Date.parse(t)), e;\n        }\n        function a(t, e) {\n          var i = t.attributes.getNamedItem(e);\n          return i ? i.value : null;\n        }\n        function u(t, e) {\n          for (var i = 0; i < t.childNodes.length; i++) {\n            var n = t.childNodes.item(i);\n            if (n.nodeName === e) return n;\n          }\n          return null;\n        }\n        return n.prototype.toString = function () {\n          return \"Mpd [minBufferTime=\" + this.minBufferTime + \", type=\" + this.type + \", publishTime=\" + this.publishTime + \", availabilityStartTime=\" + this.availabilityStartTime + \", timeShiftBufferDepth=\" + this.timeShiftBufferDepth + \", suggestedPresentationDelay=\" + this.suggestedPresentationDelay + \", minimumUpdatePeriod=\" + this.minimumUpdatePeriod + \", maxSegmentDuration=\" + this.maxSegmentDuration + \", profiles=\" + this.profiles + \", moreInfoUrl=\" + this.moreInfoUrl + \", programInfoTitle=\" + this.programInfoTitle + \", representations=\" + JSON.stringify(this.representations) + \"]\";\n        }, n;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(8)], void 0 !== (r = function (t, e, i) {\n        \"use strict\";\n\n        function n() {}\n        return n.prototype.isCodecSupported = function (t) {\n          return e.Rt(t, \"codec\"), i.global.MediaSource && \"function\" == typeof i.global.MediaSource.isTypeSupported && i.global.MediaSource.isTypeSupported(t);\n        }, n.prototype.parseXml = function (t) {\n          if (e.Rt(t, \"xmlString\"), void 0 !== i.global.DOMParser) return new i.global.DOMParser().parseFromString(t, \"text/xml\");\n          if (void 0 !== i.global.ActiveXObject && new i.global.ActiveXObject(\"Microsoft.XMLDOM\")) {\n            var n = new i.global.ActiveXObject(\"Microsoft.XMLDOM\");\n            return n.async = \"false\", n.loadXML(t), n;\n          }\n          throw new Error(\"No XML parser found\");\n        }, n.prototype.getMSECodec = function (t, i) {\n          return e.Rt(t, \"mpdMimeType\"), e.Rt(i, \"mpdCodecs\"), t + '; codecs=\"' + i + '\"';\n        }, n.prototype.getChunkIndexFromSegmentTemplate = function (e, i) {\n          var n = e.match(/\\$Number.*\\$/),\n            r = e.match(/\\$Number%(\\d\\d)d\\$/),\n            s = t.get(r, [1], \"0\"),\n            o = parseInt(s, 10),\n            a = t.pad(i, o);\n          if (!n) throw new Error(\"Unable to match template Url [\" + e + \"]\");\n          return e.replace(n[0], a);\n        }, new n();\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0)], void 0 !== (r = function (t, e) {\n        \"use strict\";\n\n        function i(i, r, s) {\n          e.Rt(s, \"M3u8VariantPlaylistString\"), e.Rt(r, \"name\"), e.vt(i, \"logger\"), this.Gt = s, this.Ct = r, this.gt = i, function (e) {\n            var i = e.match(/[^\\r\\n]+/g),\n              r = this;\n            return t.forEach(i, function (e, s) {\n              var o = e.match(/(?!#)EXT.+?(?=[:\\n\\r])/),\n                a = t.get(o, [\"0\"], null),\n                u = e.trim().substring(a ? a.length + 2 : 0, e.length);\n              switch (a) {\n                case \"EXT-X-STREAM-INF\":\n                  r.streamVariants = r.streamVariants || [];\n                  var c = [u, i[s + 1]];\n                  r.streamVariants.push(function (e) {\n                    var i = (function (e) {\n                        var i = t.get(e.match(/(?:CODECS=).*?\",/), [\"0\"], \"\"),\n                          n = t.get(i.split(\"=\"), [\"1\"], \"\");\n                        return n.substring(1, n.length - 2);\n                      }(e[0]) || \"\").split(\",\"),\n                      r = (n(e[0], \"FRAME-RATE\") || \"\").trim();\n                    return {\n                      programId: n(e[0], \"PROGRAM-ID\"),\n                      codecs: i,\n                      bandwidth: parseInt(n(e[0], \"BANDWIDTH\")),\n                      averageBandwidth: parseInt(n(e[0], \"AVERAGE-BANDWIDTH\")),\n                      frameRate: parseInt(parseInt(r) || 0),\n                      name: t.get(e, [\"1\"], \"\").trim()\n                    };\n                  }(c));\n                  break;\n                case \"EXT-X-ALLOW-CACHE\":\n                  r.allowCache = \"YES\" === u;\n                  break;\n                case \"#EXT-X-COMBINED\":\n                  r.combined = \"YES\" === u;\n                  break;\n                case \"EXTM3U\":\n                case null:\n                  break;\n                default:\n                  return r.gt.debug(\"[%s] [Variant] Playlist unsupported key type [%s]\", r.Ct, a);\n              }\n            }), r;\n          }.call(this, this.Gt);\n        }\n        function n(e, i) {\n          var n = new RegExp(\"(?:\" + i + \"=).*?(?=[,\\n\\r])\"),\n            r = new RegExp(\"(?:\" + i + \"=).*?$\"),\n            s = t.get(e.match(n) || e.match(r), [\"0\"], \"\");\n          return t.get(s.split(\"=\"), [\"1\"]);\n        }\n        return i.prototype.toString = function () {\n          return \"M3u8VariantPlaylist[name=\" + this.Ct + \",numberOfStreamVariants=\" + this.streamVariants.length + \"]\";\n        }, i;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(2), i(3), i(17), i(12), i(5), i(7), i(9), i(13), i(14), i(6)], void 0 !== (r = function (t, e, i, n, r, s, o, a, u, c, h, f) {\n        \"use strict\";\n\n        function d(s, a, h, f) {\n          e.qt(a, o, \"playlist\"), e.qt(a.parsedPlaylist, c, \"playlist.parsedPlaylist\"), e.qt(h, u, \"statsProvider\"), e.Rt(a.playlistUrl, \"playlist.playlistUrl\"), e.Rt(a.baseUrl, \"playlist.baseUrl\"), e.Kt(f.targetLatency, \"options.targetLatency\"), f && f.defaultPresentationDelay && e.Kt(f.defaultPresentationDelay, \"options.defaultPresentationDelay\"), this.Jt = a, this.Xt = this.Jt.baseUrl, this.Qt = h, this.gt = s || new i.Logger(), this.$t = new r(this.gt), this.Yt = new n.Event(), this.Zt = [], this.te = 0, this.ee = !1, this.ie = t.get(f, \"defaultPresentationDelay\", S), this.ne = 1e3 * f.targetLatency, this.re = {\n            average: 0,\n            values: [],\n            maxSize: 10\n          };\n        }\n        function l(t) {\n          var e = Math.max(this.ne ? this.ne : 0, 0),\n            i = this.Jt.getPlaybackDurationSinceAvailable(),\n            n = Math.max(Math.ceil((i - e) / t), 0);\n          return \"static\" === this.Jt.getType() && (n = 0), this.gt.trace(\"Getting chunk index to start: [%s], playbackTimePassed=[%s], duration=[%s]\", n, i, t), n;\n        }\n        function m() {\n          var e = this;\n          t.forEach(e.Zt, function (t) {\n            t.setCurrentChunkId(p.call(e, t.getChunkDuration()));\n          });\n        }\n        function p(t) {\n          var e = t / 1e3;\n          return Math.floor(this.te / e);\n        }\n        function v(t) {\n          var e = 1e3 * this.te + 2 * t.getChunkDuration() - this.Jt.getPlaybackDurationSinceAvailable(),\n            i = Math.max(e, 0);\n          return Math.min(t.getChunkDuration(), i) + this.re.average;\n        }\n        function g(t, e, i, n) {\n          var r = this;\n          (function (t, e, i) {\n            var n = this,\n              r = h.getChunkIndexFromSegmentTemplate(n.Xt + t.getDataChunkUrlTemplate(), t.getCurrentChunkId()),\n              s = t.getCurrentChunkId();\n            n.gt.trace(\"Fetching data chunk for [%s]: [%s], nextChunkId=[%s]\", t.getMseCodec(), r, t.getCurrentChunkId());\n            var o = t.getMseCodec();\n            y.call(n, r, e, k, function (a, u) {\n              if (n.gt.trace(\"DONE Fetching data chunk for [%s] : [%s], nextChunkId=[%s]\", o, r, t.getCurrentChunkId() + (a ? \": FAILED: \" + a.code : \": data=\" + u.data.byteLength)), !a) {\n                n.Qt.addRateDataPoint(o, u.stats.successResponseTime, u.data.byteLength, .001);\n                var c = u.stats.totalResponseTimeForAllAttempts - u.stats.successResponseTime - Math.max(e, 0);\n                if (n.re.values.push(c), n.re.average = (n.re.average * (n.re.values.length - 1) + c) / n.re.values.length, n.re.values.length > n.re.maxSize) {\n                  var h = n.re.values.shift();\n                  n.re.average = (n.re.average * (n.re.values.length + 1) - h) / n.re.values.length;\n                }\n              }\n              if (!a && s === t.getCurrentChunkId()) return t.incrementCurrentChunkId(), n.te = t.getChunkDuration() * t.getCurrentChunkId() / 1e3, t.addDataChunk(u.data, s, function () {\n                i(a);\n              });\n              a ? (a.feederReason = 404 === a.code ? \"not yet available\" : \"other\", i(a)) : i(null, u.data);\n            });\n          }).call(r, t, i, function (s) {\n            return s && r.gt.trace('Failed to fetch data chunk of stream for config [%s]\". Error: [%s]', t, s), !s && e > 1 && g.call(r, t, e - 1, i, n), n(s);\n          });\n        }\n        function y(e, i, n, r) {\n          var s = this,\n            o = {\n              responseType: \"arraybuffer\",\n              retryOptions: {\n                delay: n,\n                maxAttempts: b\n              },\n              timeout: E\n            };\n          if (t.Kt(i) && 0 !== i) o.delay = i;else if (!t.isNullOrUndefined(i) && 0 !== i) throw new Error('\"delay\" must be a positive number greater than or equal to 0 or null or undefined');\n          return this.$t.getWithRetry(e, o, function (i, n) {\n            if (i) {\n              if (n && n.attempts === b) {\n                var o = \"Failed to get chunk [\" + e + \"] with max retries of [\" + b + \" after [\" + t.get(n, [\"stats\", \"totalResponseTimeForAllAttempts\"], 0) + \"] ms\";\n                return s.gt.warn(o), s.Yt.fire([w(f.name.chunkNotFound.name, f.severity.CRITICAL, o)]);\n              }\n              if (0 === i.code) {\n                var a = \"Failed to get chunk [\" + e + \"]  with timeout after [\" + t.get(n, [\"stats\", \"totalResponseTimeForAllAttempts\"], 0) + \"] ms with chunk timeout of [\" + E + \"]\";\n                return s.gt.warn(a), s.Yt.fire([w(f.name.timeout.name, f.severity.RECOVERABLE, a)]);\n              }\n              return s.gt.warn(\"Failed to load data chunk [%s]. Status code: [%s] (status text: [%s])\", e, i.code, i.message), s.Yt.fire([w(f.name.error.name, f.severity.CRITICAL, i)]);\n            }\n            r(i, n);\n          });\n        }\n        function w(t, e, i) {\n          return {\n            category: f.category.STREAMING,\n            name: t,\n            severity: e,\n            error: \"Error\" === i.constructor.name ? i : new Error(i)\n          };\n        }\n        var b = 15,\n          k = 150,\n          S = 0,\n          E = 5e3;\n        return d.prototype = Object.create(s.prototype), d.prototype.constructor = d, d.prototype.toString = function () {\n          return \"MpdPlaylistChunkFeeder [mpdPlaylistUrl=\" + this.Jt.playlistUrl + \", baseUrl=\" + this.Xt + \", defaultPresentationDelay=\" + this.ie + \"]\";\n        }, d.prototype.addEventListener = function (t, i) {\n          switch (e.Wt(t, \"eventName\"), e.pt(i, \"listener\"), t) {\n            case \"error\":\n              return this.Yt.listen(i);\n            default:\n              throw new Error('Event \"' + t + '\" is unknown.');\n          }\n        }, d.prototype.dispose = function () {\n          this.stopRequestingAllData(t.noop), this.$t.dispose(), this.Jt.dispose(), this.Qt.dispose(), this.Yt.dispose(), this.Zt = null, this.te = 0;\n        }, d.prototype.initializeActiveTracks = function (i) {\n          var n = this;\n          e.pt(i, \"callback\");\n          var r = t.filter(this.Zt, function (t) {\n            return !t.getInitChunkData();\n          });\n          if (0 === r.length) return i();\n          (function (i, n) {\n            e.isArray(i, \"tracks\"), e.pt(n, \"callback\");\n            var r = 0,\n              s = this;\n            t.forEach(i, function (t) {\n              e.qt(t, a, \"track\"), t.setCurrentChunkId(l.call(s, t.getChunkDuration())), function (t, e) {\n                var i = this;\n                (function (t, e) {\n                  var i = this;\n                  i.gt.trace(\"Fetching init chunk for [%s]: [%s], nextChunkId=[%s]\", t.getMseCodec(), i.Xt + t.getInitUrl(), t.getCurrentChunkId()), y.call(i, i.Xt + t.getInitUrl(), null, 500, function (n, r) {\n                    i.gt.trace(\"DONE Fetching init chunk for [%s]: [%s], nextChunkId=[%s]\", t.getMseCodec(), i.Xt + t.getInitUrl(), t.getCurrentChunkId() + (n ? \": FAILED: \" + n.code : \": data=\" + r.data.byteLength)), e(n, r.data);\n                  });\n                }).call(i, t, function (n, r) {\n                  if (n) {\n                    var s = new Error(\"Failed to fetch init chunk of stream for config [%s]\", t);\n                    return s.cause = n, i.gt.error(\"[%s] (Cause: [%s])\", s.message, n), e(s);\n                  }\n                  t.setInitChunkData(r), i.gt.debug(\"Got init chunk for track [%s]\", t.getTrackId()), e();\n                });\n              }.call(s, t, function (t) {\n                if (t) return n(t);\n                ++r === i.length && n();\n              });\n            });\n          }).call(n, r, i, function (t) {\n            return n.gt.error(\"Unable to initialize active tracks\", t), i(t);\n          });\n        }, d.prototype.fetchNChunks = function (i, n) {\n          if (e.Kt(i, \"chunksToFetch\"), e.pt(n, \"done\"), this.isFetchingData()) return this.gt.debug(\"Unable to fetch requesting data. Feeder is already fetching data.\");\n          var r = this,\n            s = 0;\n          r.gt.debug(\"Fetching [%s] chunks for [%s] active tracks\", i, this.Zt.length), t.forEach(this.Zt, function (t) {\n            return e.qt(t, a, \"track\"), t.setCurrentChunkId(l.call(r, t.getChunkDuration())), g.call(r, t, i, null, function (e) {\n              return e ? (r.gt.warn(\"Failed to get [%s] chunks for track [%s]\", i, t.getTrackId(), e), n(e)) : ++s === r.Zt.length ? (r.gt.info(\"Got [%s] chunks for [%s] active tracks\", i, r.Zt.length), n()) : void 0;\n            });\n          });\n        }, d.prototype.setActiveTracks = function (t) {\n          this.Zt = t;\n        }, d.prototype.getActiveTracks = function () {\n          return this.Zt;\n        }, d.prototype.startRequestingDataForActiveTracks = function () {\n          if (this.isFetchingData()) return this.gt.debug(\"Unable to start requesting data. Feeder is already fetching data.\");\n          this.ee = !0, this.gt.debug(\"Starting requesting data at timestamp [%s]\", this.te), m.call(this), function e(i) {\n            var n = this,\n              r = n.Zt.length;\n            t.forEach(n.Zt, function (s, o) {\n              !function (s, o) {\n                if (t.find(n.Zt, function (t) {\n                  return t.getMimeType() === s.getMimeType();\n                }) === s) {\n                  var a = p.call(n, s.getChunkDuration()),\n                    u = a >= s.getTotalNumberOfChunks();\n                  if (\"static\" === n.Jt.getType() && u) return o === r - 1 && (n.ee = !1), n.gt.info(\"Finished getting chunks for [static] track [%s] [%s]\", s.getTrackId(), s.getMimeType());\n                  t.isNullOrUndefined(i) && \"dynamic\" === n.Jt.getType() && (i = v.call(n, s)), g.call(n, s, 1, i, function (t) {\n                    if (t && t.causes && t.causes.length > 0 && \"not yet available\" === t.causes[0].feederReason ? n.gt.info(\"Failed to get next chunk (packet not yet available) for [%s]|[%s]. Trying to fetch again in [%s] ms.\", s.getMseCodec(), s.getBandwidth(), k) : (t && n.gt.warn(\"Failed to get next chunk (# of errors=[%s], errors=[%s]). Moving on.\", t.causes ? t.causes.length : \"n/a\", t), r--), r <= 0 && n.ee) {\n                      if (\"dynamic\" === n.Jt.getType()) {\n                        var i = v.call(n, s);\n                        return n.gt.debug(\"Done fetching chunk with index [%s] for each active track. Waiting for [%s] ms before moving on to next chunk.\", a, i), e.call(n, i);\n                      }\n                      n.gt.debug(\"Done fetching chunk with index [%s] for each active track. Moving on to next chunk\", a), e.call(n, null);\n                    }\n                  });\n                }\n              }(s, o);\n            });\n          }.call(this, null);\n        }, d.prototype.isFetchingData = function () {\n          return this.ee;\n        }, d.prototype.seekToChunk = function (t) {\n          this.te = Math.floor(t), this.gt.debug(\"Seeking to timestamp [%s]\", this.te), m.call(this);\n        }, d.prototype.seekToCurrent = function () {\n          var e = t.reduce(this.Zt, function (t, e) {\n              return e.getChunkDuration() > t ? e.getChunkDuration() : t;\n            }, 0),\n            i = (Math.max(this.Jt.getPlaybackDurationSinceAvailable(), 0) - Math.max(this.ne ? this.ne : 0, e)) / 1e3;\n          return this.gt.info(\"Seeking to most recent chunk\"), this.seekToChunk(i), i;\n        }, d.prototype.stopRequestingAllData = function () {\n          this.ee && (this.ee = !1, this.gt.debug(\"Pausing requesting of data at timestamp [%s]\", this.te), this.$t.disposePendingRequests());\n        }, d;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(10), i(4)], void 0 !== (r = function (t, e, i, n) {\n        \"use strict\";\n\n        function r(t) {\n          e.vt(t, \"logger\"), this.gt = t, this.se = new n.DisposableList();\n        }\n        return r.prototype.toString = function () {\n          return \"HttpRequestManager\";\n        }, r.prototype.disposePendingRequests = function () {\n          this.se.dispose(), this.se = new n.DisposableList();\n        }, r.prototype.dispose = function () {\n          this.disposePendingRequests();\n        }, r.prototype.getWithRetry = function (n, r, s) {\n          e.Rt(n, \"url\"), e.vt(r, \"options\"), e.pt(s, \"callback\");\n          var o = this;\n          r.retryOptions = t.assign({\n            delay: 0,\n            backoff: 1,\n            maxAttempts: 1,\n            additionalRetryErrorCodes: [404, 0]\n          }, r.retryOptions), this.se.add(i.getWithRetry(n, r, function (t, e) {\n            return t && 4e3 === t.code ? o.gt.debug(\"Request handler disposed of before response received for get [%s]\", n) : (t && o.gt.debug(\"Status code: [%s] (status text: [%s]) for get [%s]\", t.code, t.message, n), s(t, e));\n          }));\n        }, r;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(2), i(3), i(17), i(12), i(5), i(7), i(9), i(15), i(6)], void 0 !== (r = function (t, e, i, n, r, s, o, a, u, c, h) {\n        \"use strict\";\n\n        function f(s, a, u, h) {\n          e.qt(a, o, \"playlist\"), e.qt(a.parsedPlaylist, c, \"playlist.parsedPlaylist\"), e.Rt(a.playlistUrl, \"playlist.playlistUrl\"), e.Rt(a.baseUrl, \"playlist.baseUrl\"), h && h.targetLatencyInMilliseconds && e.Kt(h.targetLatencyInMilliseconds, \"options.targetLatencyInMilliseconds\"), this.Jt = a, this.Xt = this.Jt.baseUrl, this.Qt = u, this.gt = s || new i.Logger(), this.$t = new r(this.gt), this.h = h, this.Yt = new n.Event(), this.Zt = [], this.te = 0, this.ee = !1, this.ne = t.get(h, \"targetLatencyInMS\", 0), this.oe = Math.max(this.Jt.getSuggestedPresentationDelayTotalMillis(), this.Jt.getMinBufferTimeTotalMillis(), this.ie), this.ae = Math.max(this.Jt.getPlaybackDurationSinceAvailable() - this.oe, 0);\n        }\n        function d() {\n          var e = this;\n          t.Kt(e.ue) || (e.ue = setTimeout(function () {\n            (function (e) {\n              var i = this,\n                n = 0;\n              t.forEach(this.Zt, function (r) {\n                var s = r.getMediaSegmentPlaylistUrlInfo(),\n                  o = t.assign({\n                    version: t.now()\n                  }, s.queryParameters),\n                  a = {\n                    retryOptions: {\n                      delay: w,\n                      maxAttempts: b\n                    },\n                    queryParameters: o\n                  };\n                i.$t.getWithRetry(s.url, a, function (t, o) {\n                  if (t) return i.gt.debug(\"Unable to get media segment playlist [%s]\", s.url);\n                  o && r.updateMediaSegments(o.data), ++n === i.Zt.length && e();\n                });\n              }, y);\n            }).call(e, function () {\n              t.isNullOrUndefined(e.ue) || (e.ue = null, d.call(e));\n            });\n          }, y));\n        }\n        function l(e) {\n          var i = this,\n            n = i.Zt.length;\n          i.ce = !1, t.forEach(i.Zt, function (r, s) {\n            !function (r) {\n              t.find(i.Zt, function (t) {\n                return t.getMimeType() === r.getMimeType();\n              }) !== r ? i.gt.debug(\"Wrong track type [%s]. Pausing fetching for track [%s]\", r.getMimeType(), r.getTrackId()) : r.isLastMediaSegment(i.te) ? (\"dynamic\" === i.Jt.getType() && (i.ce = !0), i.gt.debug(\"No more chunks. Pausing fetching for track [%s]\", r.getMimeType(), r.getTrackId())) : m.call(i, r, 1, e, function (t) {\n                if (t && t.causes && t.causes.length > 0 && \"not yet available\" === t.causes[0].feederReason ? i.gt.info(\"Failed to get next chunk (packet not yet available) for [%s]|[%s]. Trying to fetch again in [%s] ms.\", r.getMseCodec(), r.getBandwidth(), g) : (t && i.gt.warn(\"Failed to get next chunk (# of errors=[%s], errors=[%s]). Moving on.\", t.causes ? t.causes.length : \"n/a\", JSON.stringify(t)), n--), n <= 0) {\n                  i.gt.debug(\"Done fetching chunk for timestamp [%s] for each active track. Moving on to next chunk. (keep fetching=[%s])\", i.te, i.ee);\n                  var e = r.isLastMediaSegment(i.te);\n                  if (\"static\" === i.Jt.getType() && e) return i.ee = !1, i.gt.info(\"Finished getting chunks for [static] track [%s] [%s]\", r.getTrackId(), r.getMimeType());\n                  if (e) return i.ce = !0, i.gt.debug(\"Waiting for new segment on the Segment Playlist for [dynaimic] track [%s] [%s]\", r.getTrackId(), r.getMimeType());\n                  i.ee && l.call(i, null);\n                }\n              });\n            }(r);\n          });\n        }\n        function m(e, i, n, r) {\n          var s = this;\n          (function (e, i, n) {\n            var r = this,\n              s = e.getSegmentByTimestamp(r.te),\n              o = r.Xt + s.name;\n            r.gt.trace(\"Fetching data chunk for [%s]: [%s], next segment=[%s]\", e.getMseCodec(), o, s.name);\n            var a = e.getMseCodec();\n            (function (e, i, n) {\n              var r = this,\n                s = {\n                  responseType: \"arraybuffer\",\n                  retryOptions: {\n                    delay: g,\n                    maxAttempts: v\n                  },\n                  timeout: k\n                };\n              if (t.Kt(i)) s.delay = i;else if (!t.isNullOrUndefined(i)) throw new Error('\"delay\" must be a number or null or undefined');\n              return this.$t.getWithRetry(e, s, function (i, s) {\n                if (i) {\n                  if (s && s.attempts === v) {\n                    var o = \"Failed to get chunk [\" + e + \"] with max retries of [\" + v + \" after [\" + t.get(s, [\"stats\", \"totalResponseTimeForAllAttempts\"], 0) + \"] ms\";\n                    return r.gt.warn(o), r.Yt.fire([p(h.name.chunkNotFound.name, h.severity.CRITICAL, o)]);\n                  }\n                  if (0 === i.code) {\n                    var a = \"Failed to get chunk [\" + e + \"] with timeout after [\" + t.get(s, [\"stats\", \"totalResponseTimeForAllAttempts\"], 0) + \"] ms with chunk timeout of [\" + k + \"]\";\n                    return r.gt.warn(a), r.Yt.fire([p(h.name.timeout.name, h.severity.RECOVERABLE, a)]);\n                  }\n                  return r.gt.warn(\"Failed to load [%s]. Status code: [%s] (status text: [%s])\", e, i.code, i.message), r.Yt.fire([p(h.name.error.name, h.severity.CRITICAL, i)]);\n                }\n                n(i, s);\n              });\n            }).call(r, o, i, function (t, i) {\n              if (r.gt.trace(\"DONE Fetching data chunk for [%s] : [%s], next segment=[%s]\", a, o, s.name + (t ? \": FAILED: \" + t.code : \": data=\" + i.data.byteLength)), t || r.Qt.addRateDataPoint(a, i.stats.successResponseTime, i.data.byteLength, .001), !t) return r.gt.debug(\"Finished fetching [%s]. Updating timestamp to fetch to [%s]\", s.name, s.timestamp + s.duration), r.te = s.timestamp + s.duration, e.addDataChunk(i.data, s.name, function () {\n                n(t);\n              });\n              t ? (t.feederReason = 404 === t.code ? \"not yet available\" : \"other\", n(t)) : n(null, i.data);\n            });\n          }).call(s, e, n, function (t) {\n            return t && s.gt.trace('Failed to fetch data chunk of stream for config [%s]\". Error: [%s]', JSON.stringify(e), t), !t && i > 1 && m.call(s, e, i, n, r), r(t);\n          });\n        }\n        function p(t, e, i) {\n          return {\n            category: h.category.STREAMING,\n            name: t,\n            severity: e,\n            error: \"Error\" === i.constructor.name ? i : new Error(i)\n          };\n        }\n        var v = 15,\n          g = 700,\n          y = 500,\n          w = 10,\n          b = 2,\n          k = 5e3;\n        return f.prototype = Object.create(s.prototype), f.prototype.constructor = f, f.prototype.toString = function () {\n          return \"M3u8PlaylistChunkFeeder [mpdPlaylistUrl=\" + this.Jt.playlistUrl + \", baseUrl=\" + this.Xt + \", defaultPresentationDelay=\" + this.ie + \"]\";\n        }, f.prototype.addEventListener = function (t, i) {\n          switch (e.Wt(t, \"eventName\"), e.pt(i, \"listener\"), t) {\n            case \"error\":\n              return this.Yt.listen(i);\n            default:\n              throw new Error('Event \"' + t + '\" is unknown.');\n          }\n        }, f.prototype.dispose = function () {\n          this.stopRequestingAllData(t.noop), this.$t.dispose(), this.Jt.dispose(), this.Qt.dispose(), this.Zt = null, this.te = 0, this.he && (this.he.dispose(), this.he = null);\n        }, f.prototype.initializeActiveTracks = function (i, n) {\n          e.pt(n, \"callback\"), \"dynamic\" === this.Jt.getType() && d.call(this), this.ce = !1;\n          var r = this;\n          if (1 !== this.Zt.length) throw new Error(\"Unable to support multiple active tracks\");\n          t.forEach(this.Zt, function (t) {\n            r.he = t.addEventListener(\"segmentsready\", function () {\n              r.ce && (r.gt.debug(\"Continuing fetching of track [%s] segments after wait\", t.getTrackId()), l.call(r, null));\n            });\n          }), n();\n        }, f.prototype.fetchNChunks = function (i, n) {\n          if (e.Kt(i, \"chunksToFetch\"), e.pt(n, \"callback\"), this.isFetchingData()) return this.gt.debug(\"Unable to fetch requesting data. Feeder is already fetching data.\");\n          var r = this,\n            s = 0;\n          r.gt.debug(\"Fetching [%s] chunks for [%s] active tracks\", i, this.Zt.length), t.forEach(this.Zt, function (e) {\n            m.call(r, e, 1, null, function (e) {\n              if (e) return n(e);\n              ++s === r.Zt.length && (r.fe = t.now(), n());\n            });\n          });\n        }, f.prototype.setActiveTracks = function (e) {\n          this.Zt = e;\n          var i = t.map(e, function (t) {\n            return t.getTrackId();\n          });\n          this.gt.debug(\"Setting active tracks [%s]\", i);\n        }, f.prototype.getActiveTracks = function () {\n          return this.Zt;\n        }, f.prototype.startRequestingDataForActiveTracks = function () {\n          if (this.isFetchingData()) return this.gt.debug(\"Unable to start requesting data. Feeder is already fetching data.\");\n          this.ee = !0, this.gt.debug(\"Starting requesting data at timestamp [%s]\", this.te), \"dynamic\" === this.Jt.getType() && d.call(this), l.call(this, null);\n        }, f.prototype.isFetchingData = function () {\n          return this.ee;\n        }, f.prototype.seekToChunk = function (e) {\n          var i = t.get(this.Zt, [\"0\"]),\n            n = i.getClosestSegmentNotGreaterThanTimestamp(e),\n            r = t.get(n, [\"timestamp\"]);\n          t.isUndefined(r) ? i || (this.te = e) : this.te = Math.floor(n.timestamp), this.gt.debug(\"Seeking to timestamp [%s]\", this.te);\n        }, f.prototype.seekToCurrent = function () {\n          var e = t.reduce(this.Zt, function (e, i) {\n              var n = t.get(i.getLastSegment(), [\"duration\"], 0);\n              return n > e ? n : e;\n            }, 0),\n            i = (t.reduce(this.Zt, function (t, e) {\n              var i = e.getLastSegment().timestamp;\n              return i < t ? i : t;\n            }, 0) - Math.max(this.ne ? this.ne - e : 0, e)) / 1e3;\n          return this.gt.info(\"Seeking to most recent chunk\"), this.seekToChunk(i), i;\n        }, f.prototype.stopRequestingAllData = function () {\n          this.ee && (this.ee = !1, this.ce = !1, this.gt.debug(\"Pausing requesting of data at timestamp [%s]\", this.te), this.$t.disposePendingRequests(), clearTimeout(this.ue), this.ue = null);\n        }, f;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(2), i(3), i(10), i(4), i(11), i(8), i(6)], void 0 !== (r = function (t, e, i, n, r, s, o, a, u) {\n        \"use strict\";\n\n        function c(r, o, c, d) {\n          e.vt(o, \"videoElement\");\n          var C = this;\n          this.kt = o, this.gt = r || new i.Logger(), this.de = null, this.le = null, this.me = null, this.v = new s.DisposableList();\n          var M = t.bind(R, this);\n          \"Safari\" === v.browser && (M = t.bind(function (e, i) {\n            var n = this;\n            if (i = i || 1, !this.pe) {\n              if (i <= E) return n.gt.debug(\"Attempt [%s] for checking if the certificate have been set\", i), void (n.me = setTimeout(function () {\n                R.call(n, e, i + 1);\n              }, S));\n              var r = \"Unable to find fairplay certificate after \" + (i - 1) + \" attempts\";\n              return n.gt.warn(r), n.ve.fire([p(\"NoCertificate\", u.severity.RECOVERABLE, r)]);\n            }\n            this.gt.info(\"Key requested by Webkit browser\"), n.ge = \"https://\" + function (t) {\n              return String.fromCharCode.apply(null, new a.global.Uint16Array(t.buffer));\n            }(e.initData).split(\"skd://\")[1];\n            var o = \"phenix-fairplay-\" + t.now(),\n              c = function (t, e, i) {\n                var n = function (t) {\n                    for (var e = new a.global.ArrayBuffer(2 * t.length), i = new a.global.Uint16Array(e), n = 0, r = t.length; n < r; n++) i[n] = t.charCodeAt(n);\n                    return i;\n                  }(e),\n                  r = 0,\n                  s = new a.global.ArrayBuffer(t.byteLength + 4 + n.byteLength + 4 + i.byteLength),\n                  o = new a.global.DataView(s);\n                new Uint8Array(s, r, t.byteLength).set(t), r += t.byteLength, o.setUint32(r, n.byteLength, !0), r += 4;\n                var u = new a.global.Uint16Array(s, r, n.length);\n                return u.set(n), r += u.byteLength, o.setUint32(r, i.byteLength, !0), r += 4, new Uint8Array(s, r, i.byteLength).set(i), new Uint8Array(s, 0, s.byteLength);\n              }(e.initData, o, n.pe);\n            if (n.kt.webkitKeys || n.kt.webkitSetMediaKeys(new a.global.WebKitMediaKeys(b)), !n.kt.webkitKeys) return n.ve.fire([p(\"webkitKeys\", u.severity.RECOVERABLE, new Error(\"Could not create MediaKeys\"))]);\n            var h = n.kt.webkitKeys.createSession(\"video/mp4\", c);\n            if (!h) return n.ve.fire([p(\"webkitKeySession\", u.severity.RECOVERABLE, new Error(\"Could not create key session\"))]);\n            var d = t.bind(f, n);\n            h.addEventListener(\"webkitkeymessage\", d, !1), n.v.add(new s.Disposable(function () {\n              h.removeEventListener(\"webkitkeymessage\", d, !1);\n            }));\n            var l = function () {\n              n.gt.info(\"Decryption key was added\");\n            };\n            h.addEventListener(\"webkitkeyadded\", l, !1), n.v.add(new s.Disposable(function () {\n              h.removeEventListener(\"webkitkeyadded\", l, !1);\n            }));\n            var m = function (t) {\n              n.ve.fire([p(\"webkitkeyerror\", u.severity.RECOVERABLE, t)]);\n            };\n            h.addEventListener(\"webkitkeyerror\", m, !1), n.v.add(new s.Disposable(function () {\n              h.removeEventListener(\"webkitkeyerror\", m, !1);\n            }));\n          }, this)), this.kt.addEventListener(I, M, !1), this.v.add(new s.Disposable(function () {\n            C.kt.removeEventListener(I, M, !1);\n          })), this.v.add(new s.Disposable(function () {\n            null !== C.le && a.global.clearTimeout(C.le);\n          })), this.v.add(new s.Disposable(function () {\n            null !== C.me && a.global.clearTimeout(C.me);\n          })), this.ye = {\n            initDataTypes: [\"cenc\"],\n            videoCapabilities: [{\n              contentType: 'video/mp4; codecs=\"avc1.42c01f\"'\n            }],\n            audioCapabilities: [{\n              contentType: 'audio/mp4; codecs=\"mp4a.40.2\"'\n            }],\n            persistentState: \"optional\",\n            distinctiveIdentifier: \"optional\"\n          }, this.O = {}, \"Edge\" === v.browser || \"IE\" === v.browser ? this.we = y : \"Safari\" === v.browser ? this.we = b : this.we = g, function (e, i) {\n            var n = this,\n              r = function (e) {\n                return t.keys(t.reduce(e, function (t, e) {\n                  return t[e] = 1, t;\n                }, {}));\n              }(t.keys(e).concat(t.keys(i)));\n            t.forEach(r, function (r) {\n              t.set(n.O, [r], t.assign({}, t.get(e, [r], {}), t.get(i, [r], {}))), t.set(n.O, [r, \"mediaKeySystemConfiguration\"], t.assign({}, n.ye, t.get(e, [r, \"mediaKeySystemConfiguration\"], {}), t.get(i, [r, \"mediaKeySystemConfiguration\"], {})));\n            });\n          }.call(this, function (e) {\n            return t.reduce(e, function (e, i) {\n              var n = \"com.phenixp2p.widevine\" === i.schemeIdUri || \"com.phenixrts.widevine\" === i.schemeIdUri ? g : i.schemeIdUri === w ? y : i.schemeIdUri,\n                r = \"\",\n                s = \"\";\n              return \"com.phenixp2p.widevine\" !== i.schemeIdUri && \"com.phenixrts.widevine\" !== i.schemeIdUri || (r = i.widevineLicenseServerUrl || i.licenseServerUrl, s = i.serverCertificateUrl), e[n] = {\n                licenseServerUrl: r ? h(r) : \"\",\n                serverCertificateUrl: s ? h(s) : \"\"\n              }, t.forOwn(i, function (i, r) {\n                t.startsWith(r, \"mediaKeySystemConfiguration.\") && t.set(e[n], r, i);\n              }), e;\n            }, {});\n          }(c), d || {}), function () {\n            e.vt(this.O, \"this._config\");\n            var i = this;\n            t.forOwn(this.O, function (t, n) {\n              e.Tt(n, k, n), n === i.we && (n !== g && n !== b || e.Rt(t.serverCertificateUrl, n + \"[serverCertificateUrl]\"), e.vt(t.mediaKeySystemConfiguration, n + \"[mediaKeySystemConfiguration]\"), e.be(t.mediaKeySystemConfiguration.initDataTypes, n + \"[mediaKeySystemConfiguration][initDataTypes]\"), e.isArray(t.mediaKeySystemConfiguration.videoCapabilities, n + \"[mediaKeySystemConfiguration][videoCapabilities]\"), e.isArray(t.mediaKeySystemConfiguration.audioCapabilities, n + \"[mediaKeySystemConfiguration][audioCapabilities]\"), e.Rt(t.mediaKeySystemConfiguration.persistentState, n + \"[mediaKeySystemConfiguration][persistentState]\"), e.Rt(t.mediaKeySystemConfiguration.distinctiveIdentifier, n + \"[mediaKeySystemConfiguration][distinctiveIdentifier]\"));\n            });\n          }.call(this), this.ve = new n.Event(), this.ke = new n.Event(), this.v.add(this.ve), this.v.add(this.ke), T && function () {\n            var e = this;\n            if (!this.kt.mediaKeys) {\n              var i = t.get(this.O, [this.we, \"mediaKeySystemConfiguration\"]);\n              a.global.navigator.requestMediaKeySystemAccess(this.we, [i]).then(function (i) {\n                i.createMediaKeys().catch(function (t) {\n                  e.ve.fire([p(\"CreateMediaKeys\", u.severity.CRITICAL, t)]), e.gt.error(\"Unable to create MediaKeys\", t);\n                }).then(function (t) {\n                  return e.de = t, e.kt.setMediaKeys(t);\n                }).catch(function (t) {\n                  e.ve.fire([p(\"SetMediaKeys\", u.severity.CRITICAL, t)]), e.gt.error(\"Unable to set MediaKeys\", t);\n                }).then(function () {\n                  return new a.global.Promise(function (i) {\n                    var n = t.get(e.O, [e.we, \"serverCertificateUrl\"]);\n                    if (!n) return e.gt.info(\"Not fetching server certificate because [%s] -> [serverCertificateUrl] is not set\", e.we), i();\n                    l(n, function (t, n) {\n                      if (t) return e.gt.warn(\"Failed to get service certificate\", t), i();\n                      var r = m(n.data);\n                      return e.de.setServerCertificate(r).then(i).catch(function (t) {\n                        e.gt.warn(\"Failed to set service certificate\", t);\n                      });\n                    });\n                  });\n                });\n              }).catch(function (t) {\n                e.ve.fire([p(\"RequestMediaKeySystemAccess\", u.severity.CRITICAL, t)]), e.gt.error(\"[%s] Unable to request MediaKeySystemAccess with error [%s]\", e.we, t);\n              });\n            }\n          }.call(this), \"Safari\" === v.browser && (a.global.WebKitMediaKeys.isTypeSupported(\"com.apple.fps.1_0\", \"video/mp4\") || C.ve.fire([p(\"isTypeSupported\", u.severity.CRITICAL, new Error(\"com.apple.fps.1_0 Key System not supported\"))]), l(t.get(C.O, [C.we, \"serverCertificateUrl\"]), function (t, e) {\n            t && (C.ve.fire([p(\"getServerCertificateFairplay\", u.severity.CRITICAL, t)]), C.gt.error(\"[Fairplay] Failed to get service certificate\", t)), C.pe = m(e.data);\n          }));\n        }\n        function h(i) {\n          e.Rt(i, \"xmlSafeUrl\");\n          var n = i.split(\"?\"),\n            r = t.get(n, [0]),\n            s = t.get(n, [1], \"\");\n          return r + (s ? \"?\" + decodeURIComponent(s) : \"\");\n        }\n        function f(e) {\n          var i = this,\n            n = e.target;\n          d.call(this, e.message, function (e, r) {\n            if (e) return i.ve.fire([p(\"LicenseRetrieval\", u.severity.RECOVERABLE, e)]);\n            try {\n              var s = n.update(r);\n            } catch (t) {\n              return i.ve.fire([p(\"KeySessionUpdate\", u.severity.CRITICAL, t)]);\n            }\n            t.pt(t.get(s, [\"catch\"])) && s.catch(function (t) {\n              i.ve.fire([p(\"KeySessionUpdate\", u.severity.CRITICAL, t)]), i.gt.error(\"Update of keySession with license failed [%s]\", t);\n            });\n          });\n        }\n        function d(i, n) {\n          var s,\n            o = this,\n            u = t.get(this.O, [this.we, \"licenseServerUrl\"], this.ge),\n            c = {};\n          if (e.Rt(u, \"licenseServerUrl\"), this.we === y) {\n            var h = new DOMParser().parseFromString(String.fromCharCode.apply(null, new a.global.Uint16Array(i)), \"application/xml\");\n            if (!h.getElementsByTagName(\"Challenge\")[0]) return n(new Error(\"[Playready] Cannot find `challenge` in key message\"));\n            s = atob(h.getElementsByTagName(\"Challenge\")[0].childNodes[0].nodeValue);\n            var f = h.getElementsByTagName(\"name\"),\n              d = h.getElementsByTagName(\"value\");\n            if (f.length !== d.length) return n(new Error(\"[Playready] Mismatched header name/value pair in key message\"));\n            c.headers = {};\n            for (var l = 0; l < f.length; l++) {\n              var m = t.get(f, [l, \"childNodes\", 0, \"nodeValue\"]),\n                p = t.get(d, [l, \"childNodes\", 0, \"nodeValue\"]);\n              m && p && (c.headers[m] = p);\n            }\n            c.responseType = \"arraybuffer\";\n          } else c.contentType = \"application/octet-stream\", s = i;\n          r.post(u, s, c, function (t, e) {\n            if (t) return o.gt.error(\"Failed to get license with [%s] [%s]\", t, e), n(t);\n            if (o.we === y) return n(null, e.data);\n            var i = e.data,\n              r = null,\n              s = null;\n            try {\n              o.gt.debug(\"Attempting to unwrap license response\"), r = (i = JSON.parse(i)).license || i.ckc, i.trackRestrictions && o.ke.fire([i.trackRestrictions]);\n            } catch (t) {\n              if (!(t instanceof SyntaxError)) return o.gt.error(\"Unexpected error [%s]\", t), n(t);\n              o.gt.debug(\"Unwrapping of license failed. Assuming that license response is already unwrapped\"), r = i;\n            }\n            \"<ckc>\" === r.substr(0, 5) && \"</ckc>\" === r.substr(-6) && (r = r.slice(5, -6));\n            try {\n              s = function (t) {\n                for (var e = a.global.atob(t), i = new Uint8Array(e.length), n = 0; n < e.length; ++n) i[n] = e.charCodeAt(n);\n                return i;\n              }(r);\n            } catch (t) {\n              o.gt.error(\"Failed to convert base64 license string [%s] to binary\", r), n(t);\n            }\n            n(null, s);\n          });\n        }\n        function l(t, e) {\n          r.get(t, {\n            mimeType: \"text/plain; charset=x-user-defined\"\n          }, e);\n        }\n        function m(t) {\n          for (var e = t.length, i = new a.global.Uint8Array(e), n = 0; n < e; n++) i[n] = t.charCodeAt(n);\n          return i;\n        }\n        function p(t, e, i) {\n          return {\n            category: u.category.DRM,\n            name: t,\n            severity: e,\n            error: \"Error\" === i.constructor.name ? i : new Error(i)\n          };\n        }\n        var v = new o(a.global.navigator.userAgent).detect(),\n          g = \"com.widevine.alpha\",\n          y = \"com.microsoft.playready\",\n          w = \"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\",\n          b = \"com.apple.fps.1_0\",\n          k = t.freeze([{\n            id: 1,\n            name: \"org.w3.clearkey\"\n          }, {\n            id: 2,\n            name: g\n          }, {\n            id: 3,\n            name: y\n          }, {\n            id: 4,\n            name: w\n          }, {\n            id: 5,\n            name: b\n          }]),\n          S = 200,\n          E = 20,\n          T = !!a.global.navigator.requestMediaKeySystemAccess,\n          I = \"encrypted\";\n        T || \"Edge\" !== v.browser && \"IE\" !== v.browser || (I = \"msneedkey\"), \"Safari\" === v.browser && (I = \"webkitneedkey\"), c.isSupported = function () {\n          return !((\"IE\" !== v.browser || 11 !== v.version) && (\"Safari\" === v.browser ? t.isNullOrUndefined(a.global.WebKitMediaKeys) || t.isNullOrUndefined(a.global.Uint16Array) || t.isNullOrUndefined(a.global.Uint8Array) || t.isNullOrUndefined(a.global.ArrayBuffer) || t.isNullOrUndefined(a.global.DataView) : t.isNullOrUndefined(a.global.navigator.requestMediaKeySystemAccess) || t.isNullOrUndefined(a.global.Promise) || t.isNullOrUndefined(a.global.Uint8Array) || t.isNullOrUndefined(a.global.atob)));\n        }, c.prototype.addEventListener = function (t, i) {\n          switch (e.Wt(t, \"eventName\"), e.pt(i, \"listener\"), t) {\n            case \"trackRestrictionsAvailable\":\n              return this.ke.listen(i);\n            case \"error\":\n              return this.ve.listen(i);\n            default:\n              throw new Error('Event \"' + t + '\" is unknown.');\n          }\n        }, c.prototype.toString = function () {\n          return \"EncryptedMediaHandler [config=\" + JSON.stringify(this.O) + \"]\";\n        }, c.prototype.dispose = function () {\n          this.v.dispose(), delete this.de;\n        };\n        var R = function (e, i) {\n          var n = this;\n          if (i = i || 1, !T) try {\n            this.kt.msSetMediaKeys(new a.global.MSMediaKeys(this.we));\n          } catch (r) {\n            return n.ve.fire([p(\"RequestMediaKeySystemAccess\", u.severity.CRITICAL, new Error('Unable to create MediaKeys (\"' + this.we + '\"). Error: ' + r.message))]);\n          }\n          if (!this.de && !n.kt.msKeys) {\n            if (i <= 20) return n.gt.debug(\"Attempt [%s] for checking if the media keys have been set\", i), void (n.le = setTimeout(function () {\n              R.call(n, e, i + 1);\n            }, S));\n            var r = \"Unable to find media keys after \" + (i - 1) + \" attempts\";\n            return n.gt.warn(r), n.ve.fire([p(\"NoMediaKeys\", u.severity.RECOVERABLE, r)]);\n          }\n          if (n.kt.msKeys) {\n            var o = n.kt.msKeys.createSession(\"video/mp4\", e.initData);\n            o || n.ve.fire([p(\"NoKeySession\", u.severity.CRITICAL, new Error(\"Could not create key session\"))]);\n            var c = function (t) {\n              d.call(n, t.message.buffer, function (t, e) {\n                if (t) return n.ve.fire([p(\"getLicense\", u.severity.RECOVERABLE, t)]);\n                o.update(new Uint8Array(e));\n              });\n            };\n            o.addEventListener(\"mskeymessage\", c, !1), n.v.add(new s.Disposable(function () {\n              o.removeEventListener(\"mskeymessage\", c, !1);\n            }));\n            var h = function () {\n              n.ve.fire([p(\"MicrosoftKeyError\", u.severity.CRITICAL, new Error(\"Unexpected `keyerror` event from key session. Code: \" + o.error.code + \", systemCode: \" + o.error.systemCode))]);\n            };\n            return o.addEventListener(\"mskeyerror\", h, !1), void n.v.add(new s.Disposable(function () {\n              o.removeEventListener(\"mskeyerror\", h, !1);\n            }));\n          }\n          var l = n.de.createSession(),\n            m = t.bind(f, n);\n          return l.addEventListener(\"message\", m, !1), n.v.add(new s.Disposable(function () {\n            l.removeEventListener(\"message\", m, !1);\n          })), l.generateRequest(e.initDataType, e.initData).then(function () {\n            n.gt.info(\"passing the media data to CDM\");\n          }).catch(function (t) {\n            n.ve.fire([p(\"InitKeySessionFailure\", u.severity.CRITICAL, t)]), n.gt.error(\"Unable to create or initialize key session [%s]\", t);\n          });\n        };\n        return c;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e) {\n      t.exports = f;\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(2), i(4), i(20), i(5), i(9)], void 0 !== (r = function (t, e, i, n, r, s, o) {\n        \"use strict\";\n\n        function a(a, d, v, g) {\n          e.qt(d, s, \"playlist\"), e.Se(v, \"webPlayer\"), e.qt(g, o, \"statsProvider\"), this.Jt = d, this.Ee = v, this.Qt = g, this.gt = a || new i.Logger(), this.Te = {\n            nextSwitchCheckTime: t.now() + 5e3,\n            oldBandwidth: -1\n          }, this.v = new n.DisposableList(), this.Ee.addEventListener(\"started\", t.bind(function () {\n            var e = this;\n            this.Ie = t.reduce(this.Jt.getMimeTypes(), function (i, n) {\n              var r = e.Jt.getPlaylistTracksByMimeType(n) || [],\n                s = t.filter(r, function (e) {\n                  return t.Kt(e.getBandwidth());\n                }),\n                o = t.map(s, function (t) {\n                  return t.getBandwidth();\n                });\n              return r.length > s.length && e.gt.info(\"Excluding [%s] tracks without Bandwidth from ABR switching.\", r.length - s.length), i[n] = {\n                max: Math.max.apply(null, o),\n                min: Math.min.apply(null, o)\n              }, i;\n            }, {}), this.gt.debug(\"Listening for bandwidth changes with max and min bandwidths of [%s]\", this.Ie), this.Ee.addEventListener(\"playbacktimeleft\", t.bind(function (e, i) {\n              if (!this.Te.isInProgress && r.isForeground()) {\n                var n = this.Ie[i.getMimeType()],\n                  s = this;\n                if (this.Te.nextSwitchCheckTime > 0) {\n                  if (this.Te.nextSwitchCheckTime > t.now()) return;\n                  this.Te.nextSwitchCheckTime = 0, this.Te.oldBandwidth = -1;\n                }\n                var o = t.bind(function () {\n                  this.Te.isInProgress = !1;\n                }, this);\n                if (u.call(s, i, e) && i.getBandwidth() < n.max) {\n                  this.Te.isInProgress = !0;\n                  var a = this.Jt.getPlaylistTrackByMimeTypeAndNextHighestBandwidth(i.getBandwidth(), i.getMimeType(), {});\n                  this.Re = setTimeout(function () {\n                    u.call(s, i, s.Ee.getTimeLeft()) ? (s.gt.info(\"Switching to higher quality track with [%s] time left in buffer and ewma of [%s].\", s.Ee.getTimeLeft(), h.call(s, i)), s.Te.nextSwitchCheckTime = t.now() + 1e3 * e + l, s.Te.oldBandwidth = i.getBandwidth(), s.Ee.changeBandwidthLimit(a.getBandwidth(), o)) : s.Te.isInProgress = !1;\n                  }, p);\n                } else if (c.call(s, i, e) && i.getBandwidth() > n.min) {\n                  this.Te.isInProgress = !0;\n                  var f = this.Jt.getPlaylistTrackByBandwidthAndMimeType(i.getBandwidth() - 1, i.getMimeType());\n                  this.Re = setTimeout(function () {\n                    c.call(s, i, s.Ee.getTimeLeft()) ? (s.gt.info(\"Switching to lower quality track with [%s] time left in buffer and ewma of [%s].\", s.Ee.getTimeLeft(), h.call(s, i)), s.Te.nextSwitchCheckTime = t.now() + 1e3 * e + m, s.Te.oldBandwidth = i.getBandwidth(), s.Ee.changeBandwidthLimit(f.getBandwidth(), o)) : s.Te.isInProgress = !1;\n                  }, p);\n                }\n              }\n            }, this));\n          }, this)), this.v.add(r.onBackground(t.bind(f, this, !1))), this.v.add(r.onForeground(t.bind(f, this, !0))), this.Ce = null, this.Me = null;\n        }\n        function u(t, e) {\n          var i = this.Qt.getRateAverages(t.getMseCodec()).ewmaDuration,\n            n = t.getChunkDuration();\n          return e > 3.5 || i > 0 && i <= 3 * n / 4 && e / (n / 1e3) > 2;\n        }\n        function c(t, e) {\n          var i = this.Qt.getRateAverages(t.getMseCodec()).ewmaDuration,\n            n = t.getChunkDuration();\n          return e < .7 || i > 0 && i >= 7 * n / 8 && e / (n / 1e3) <= 1.5;\n        }\n        function h(t) {\n          return this.Qt.getRateAverages(t.getMseCodec()).ewmaDuration;\n        }\n        function f(e) {\n          null !== this.Re && (clearTimeout(this.Re), this.Re = null);\n          var i = this.Ee.getVideoElement();\n          if (e) {\n            if (clearTimeout(this.Ce), this.Ce = null, null === this.Me) return;\n            var n = this.Me;\n            return this.Me = null, n !== this.Ee.getBandwidthLimit() && (this.Te.nextSwitchCheckTime = t.now() + l, this.gt.info(\"Detected change to [foreground] for tab. Reverting to [%s] previous bandwidth limit from [%s]\", n, this.Ee.getBandwidthLimit()), this.Ee.changeBandwidthLimit(n)), void (d(i) || \"dynamic\" !== this.Jt.getType() || (this.gt.info(\"Detecting application [foreground] with muted video. Resuming playback at most recent available chunk.\"), this.Ee.play()));\n          }\n          var s = this;\n          this.Ce = setTimeout(function () {\n            r.isForeground() || (s.Me = s.Ee.getBandwidthLimit(), d(i) || \"dynamic\" !== s.Jt.getType() || (s.gt.info(\"Detecting application [background] with muted video. Pausing playback until application focused again.\"), s.Ee.pause()));\n          }, v);\n        }\n        function d(e) {\n          return !e.muted && 0 !== e.volume && (t.get(e, [\"webkitAudioDecodedByteCount\"], 0) > 0 || t.get(e, [\"audioTracks\", \"length\"], 0) > 0 || e.mozHasAudio || e.hasAudio || e.webkitHasAudio);\n        }\n        var l = 15e3,\n          m = 5e3,\n          p = 500,\n          v = 3e3;\n        return a.prototype.dispose = function () {\n          null !== this.Re && clearTimeout(this.Re), null !== this.Ce && clearTimeout(this.Ce), this.v.dispose(), this.Ce = null, this.Re = null;\n        }, a;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      \"use strict\";\n\n      var n, r;\n      n = [i(5), i(16), i(18), i(27), i(9), i(21), i(6)], void 0 !== (r = function (t, e, i, n, r, s, o) {\n        return {\n          Playlist: t,\n          MpdPlaylistChunkFeeder: e,\n          M3u8PlaylistChunkFeeder: i,\n          WebPlayer: n,\n          StatsProvider: r,\n          AdaptiveStreamingManager: s,\n          isSupported: n.isSupported,\n          errors: o\n        };\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(0), i(3), i(2), i(7)], void 0 !== (r = function (t, e, i, n) {\n        \"use strict\";\n\n        function r(n, r, a) {\n          if (t.vt(n, \"logger\"), t.vt(r, \"playlistTrackConfig\"), t.Rt(r.codec, \"playlistTrackConfig.codec\"), t.Rt(r.mimeType, \"playlistTrackConfig.mimeType\"), t.Kt(r.bandwidth, \"playlistTrackConfig.bandwidth\"), t.Kt(r.chunkDuration, \"playlistTrackConfig.chunkDuration\"), t.Rt(r.trackId, \"playlistTrackConfig.trackId\"), t.Rt(r.initUrl, \"playlistTrackConfig.initUrl\"), t.Rt(r.dataChunkUrlTemplate, \"playlistTrackConfig.dataChunkUrlTemplate\"), t.Kt(r.chunkDuration, \"playlistTrackConfig.chunkDuration\"), a = a || {}, this.gt = n || new i.Logger(), this.Pe = r.codec, this.xe = r.chunkDuration, this.De = r.bandwidth, this.it = r.height, this.Ae = r.trackId, this.Oe = r.mimeType, this.qe = r.initUrl, this.Ue = r.dataChunkUrlTemplate, this.Fe = r.totalNumberOfChunks, this.Ne = null, this.Le = a.maxChunksToCache || s, this.je = a.lowWaterMaxChunks || o, t.Kt(this.Le, \"options.maxChunksToCache\"), t.Kt(this.je, \"options.lowWaterMaxChunks\"), this.je >= this.Le) throw new Error('The \"maxChunksToCache\" cannot be less than or equal to the \"lowWaterMaxChunks\"');\n          this.Be = null, this.We = [], this._e = new e.Event();\n        }\n        var s = 20,\n          o = 15;\n        return r.prototype = Object.create(n.prototype), r.prototype.constructor = r, r.prototype.toString = function () {\n          return \"MpdPlaylistTrack [mseCodec=\" + this.Pe + \", maxChunksToCache=\" + this.Le + \", lowWaterMaxChunks=\" + this.je + \", initChunk=\" + this.Be + \", dataChunks(size)=\" + this.We.length + \", chunkAddedEvent(size)=\" + this._e.size() + \", trackId=\" + (this.Ae ? this.Ae : \"n/a\") + \", bandwidth=\" + (this.bandwidth ? this.bandwidth : \"n/a\") + \"]\";\n        }, r.prototype.dispose = function () {\n          this.We = [], this._e.dispose();\n        }, r.prototype.getMseCodec = function () {\n          return this.Pe;\n        }, r.prototype.getTrackId = function () {\n          return this.Ae;\n        }, r.prototype.getChunkDuration = function () {\n          return this.xe;\n        }, r.prototype.getBandwidth = function () {\n          return this.De;\n        }, r.prototype.getHeight = function () {\n          return this.it;\n        }, r.prototype.getMimeType = function () {\n          return this.Oe;\n        }, r.prototype.getTotalNumberOfChunks = function () {\n          return this.Fe;\n        }, r.prototype.getInitChunkData = function () {\n          return this.Be;\n        }, r.prototype.setInitChunkData = function (t) {\n          this.Be = t;\n        }, r.prototype.getCurrentChunkId = function () {\n          return this.Ne;\n        }, r.prototype.setCurrentChunkId = function (t) {\n          this.Ne = t;\n        }, r.prototype.incrementCurrentChunkId = function () {\n          null === this.Ne && this.gt.error(\"[%s] Attempting to increment `CurrentChunkId` that is not initialized\", this.Ae), this.Ne++;\n        }, r.prototype.getInitUrl = function () {\n          return this.qe;\n        }, r.prototype.getDataChunkUrlTemplate = function () {\n          return this.Ue;\n        }, r.prototype.addDataChunk = function (e, i, n) {\n          t.Se(e, \"dataChunk\"), n = n || function () {}, t.pt(n, \"eventCallback\");\n          var r = {\n            data: e,\n            chunkId: i,\n            timestamp: i * this.xe / 1e3\n          };\n          if (this.We.push(r), this.We.length > this.Le) for (; this.We.length > this.je;) this.We.shift();\n          this._e.fireAsync([r], this, n);\n        }, r.prototype.getChunks = function () {\n          return this.We;\n        }, r.prototype.addEventListener = function (e, i) {\n          if (t.Wt(e, \"eventName\"), t.pt(i, \"listener\"), \"chunkadded\" !== e) throw new Error('Event \"' + e + '\" is unknown.');\n          return this._e.listen(i);\n        }, r;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(3), i(2), i(7), i(25)], void 0 !== (r = function (t, e, i, n, r, s) {\n        \"use strict\";\n\n        function o(r, s, o) {\n          if (e.vt(r, \"logger\"), e.vt(s, \"playlistTrackConfig\"), e.Rt(s.codecs, \"playlistTrackConfig.codecs\"), e.Kt(s.bandwidth, \"playlistTrackConfig.bandwidth\"), e.Rt(s.trackId, \"playlistTrackConfig.trackId\"), o = o || {}, this.gt = r || new n.Logger(), this.Pe = function (t) {\n            return t.split(\",\").length > 1 ? \"video/mp4; codecs=\" + t : \"audio/mp4; codecs=\" + t;\n          }(s.codecs), this.De = s.bandwidth, this.it = s.height, this.Ae = s.trackId, this.Oe = s.mimeType, this.Fe = s.totalNumberOfChunks, this.ze = [], this.Ve = !1, this.He = 0, this.xe = 0, this.Ge = function (e) {\n            var i = e.split(\"?\")[0],\n              n = t.get(e.split(\"?\"), [1], \"\");\n            return {\n              url: i,\n              queryParameters: t.reduce(n.split(\"&\"), function (t, e) {\n                var i = e.split(\"=\")[0];\n                return i && (t[i] = e.split(\"=\")[1]), t;\n              }, {})\n            };\n          }(s.mediaSegmentPlaylistUrl), this.Ne = null, this.Le = o.maxChunksToCache || a, this.je = o.lowWaterMaxChunks || u, e.Kt(this.Le, \"options.maxChunksToCache\"), e.Kt(this.je, \"options.lowWaterMaxChunks\"), this.je >= this.Le) throw new Error('The \"maxChunksToCache\" cannot be less than or equal to the \"lowWaterMaxChunks\"');\n          this.Be = null, this.We = [], this._e = new i.Event(), this.Ke = new i.Event();\n        }\n        var a = 20,\n          u = 15;\n        return o.prototype = Object.create(r.prototype), o.prototype.constructor = o, o.prototype.toString = function () {\n          return \"M3u8PlaylistTrack\";\n        }, o.prototype.dispose = function () {\n          this.We = [], this._e.dispose();\n        }, o.prototype.getMseCodec = function () {\n          return this.Pe;\n        }, o.prototype.getTrackId = function () {\n          return this.Ae;\n        }, o.prototype.getChunkDuration = function () {\n          return this.xe;\n        }, o.prototype.getBandwidth = function () {\n          return this.De;\n        }, o.prototype.getHeight = function () {\n          return this.it;\n        }, o.prototype.getMimeType = function () {\n          return this.Oe;\n        }, o.prototype.getTotalNumberOfChunks = function () {\n          return this.Fe;\n        }, o.prototype.getPlayableDuration = function () {\n          return this.He;\n        }, o.prototype.isComplete = function () {\n          return this.Ve;\n        }, o.prototype.hasSegments = function () {\n          return this.ze.length > 0;\n        }, o.prototype.getSegmentByTimestamp = function (e) {\n          return t.find(this.ze, function (t) {\n            return t.timestamp <= e && e < t.timestamp + t.duration;\n          });\n        }, o.prototype.getLastSegment = function () {\n          return t.get(this.ze, [this.ze.length - 1], null);\n        }, o.prototype.getMediaSegmentPlaylistUrlInfo = function () {\n          return this.Ge;\n        }, o.prototype.getClosestSegmentNotGreaterThanTimestamp = function (t) {\n          return t > this.He ? this.ze[this.ze.length - 1] : this.getSegmentByTimestamp(t);\n        }, o.prototype.isLastMediaSegment = function (e) {\n          var i = this.getSegmentByTimestamp(e),\n            n = !this.Ve && t.get(i, [\"timestamp\"], 0) + t.get(i, [\"duration\"], 0) === this.He,\n            r = !this.Ve && e > this.He;\n          return this.He === e || n || r;\n        }, o.prototype.updateMediaSegments = function (e) {\n          var i = new s(this.gt, this.Ae, e),\n            n = this.Fe || 0,\n            r = t.map(this.ze, function (t) {\n              return t.name;\n            }),\n            o = this,\n            a = t.get(this.ze, [this.ze.length - 1]),\n            u = t.get(a, [\"timestamp\"]) + t.get(a, [\"duration\"]) || void 0;\n          t.forEach(i.mediaSegments, function (e) {\n            t.includes(r, e.name) || (e.timestamp = t.isUndefined(u) ? 0 : u, o.ze.push(e), o.He += e.duration, u = e.timestamp + e.duration, e.duration > o.xe && (o.xe = e.duration), o.gt.trace(\"[%s]:[%s]:[%s] Got new segment from playlist [%s]\", new Date().getHours(), new Date().getMinutes(), new Date().getSeconds(), e.name));\n          }), n !== this.ze.length && (this.Ve = i.isComplete, this.Fe = this.ze.length, this.Ke.fireAsync([this.ze], null, t.noop));\n        }, o.prototype.addDataChunk = function (t, i, n) {\n          e.Se(t, \"dataChunk\"), n = n || function () {}, e.pt(n, \"eventCallback\");\n          var r = {\n            data: t,\n            chunkId: i,\n            timestamp: i * this.xe / 1e3\n          };\n          if (this.We.push(r), this.We.length > this.Le) for (; this.We.length > this.je;) this.We.shift();\n          this._e.fireAsync([r], this, n);\n        }, o.prototype.getChunks = function () {\n          return this.We;\n        }, o.prototype.addEventListener = function (t, i) {\n          switch (e.Wt(t, \"eventName\"), e.pt(i, \"listener\"), t) {\n            case \"chunkadded\":\n              return this._e.listen(i);\n            case \"segmentsready\":\n              return this.Ke.listen(i);\n            default:\n              throw new Error('Event \"' + t + '\" is unknown.');\n          }\n        }, o;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0)], void 0 !== (r = function (t, e) {\n        \"use strict\";\n\n        function i(i, r, s) {\n          e.Rt(s, \"m3u8String\"), e.vt(i, \"logger\"), this.Je = s, this.gt = i, this.Ct = r, this.mediaSegments = [], function (e) {\n            var i = e.match(/[^\\r\\n]+/g),\n              r = this;\n            return t.forEach(i, function (e, s) {\n              var o = e.match(/(?!#)EXT.+?(?=[:\\n\\r])/),\n                a = t.get(o, [\"0\"], null),\n                u = e.trim().substring(a ? a.length + 2 : 0, e.length);\n              switch (\"#EXT-X-ENDLIST\" === e && (a = \"EXT-X-ENDLIST\"), a) {\n                case \"EXT-X-VERSION\":\n                  r.version = parseFloat(u);\n                  break;\n                case \"EXT-X-PROGRAM-DATE-TIME\":\n                  r.programDateTime = u ? new Date(u.trim()) : null;\n                  break;\n                case \"EXT-X-TARGETDURATION\":\n                  r.targetDuration = 1e3 * parseFloat(u) || 0;\n                  break;\n                case \"EXT-X-MEDIA-SEQUENCE\":\n                  r.mediaSequence = parseInt(u);\n                  break;\n                case \"EXTINF\":\n                  var c = [u, i[s + 1]];\n                  r.mediaSegments.push(n(c, r.mediaSegments + 1));\n                  break;\n                case \"EXT-X-ENDLIST\":\n                  r.isComplete = !0;\n                  break;\n                case \"EXTM3U\":\n                case null:\n                  break;\n                default:\n                  return r.gt.debug(\"[%s] [Segment] Playlist unsupported key type [%s]\", r.Ct, a);\n              }\n            }), r;\n          }.call(this, this.Je);\n          var o = 0;\n          t.forEach(this.mediaSegments, function (t) {\n            t.timestamp = o, o += t.duration;\n          }), this.playableDuration = o, this.isComplete = !!this.isComplete;\n        }\n        i.prototype.toString = function () {\n          return \"vod\";\n        };\n        var n = function (e) {\n          var i = t.get(e, [\"0\"], \"\").split(\",\"),\n            n = t.get(i, [\"0\"], 0),\n            r = t.get(i, [\"1\"], \"\").trim(),\n            s = t.get(e, [\"1\"], \"\").trim();\n          return {\n            duration: parseFloat(n),\n            title: r,\n            name: s\n          };\n        };\n        return i;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(4), i(10)], void 0 !== (r = function (t, e, i, n) {\n        \"use strict\";\n\n        function r(t, n, r) {\n          e.vt(t, \"logger\"), this.gt = t, this.Xe = n.sort(function (t, e) {\n            return a[t.name] - a[e.name];\n          }), this.Qe = r, this.v = new i.DisposableList();\n        }\n        function s(t) {\n          return (Math.random() - .5) * (t / 20) + t;\n        }\n        function o(e, i) {\n          i = i || 0;\n          var r = this,\n            s = t.get(this.Xe, [i], {});\n          (function (e, i) {\n            var r = this;\n            switch (e.name) {\n              case \"urn:mpeg:dash:utc:http-head:2014\":\n                var s = n.getWithRetry(e.value, t.assign({\n                  contentType: \"text/plain\"\n                }, u), function (n, s) {\n                  var o = t.get(s, [\"headers\", \"date\"], \"\"),\n                    a = new Date(o).getTime();\n                  if (n || isNaN(a)) return r.gt.warn(\"Unable to resolve dash timing via [%s]\", e.value, n), i(n || new Error(\"invalid-server-time\"));\n                  var u = t.now() - a - s.stats.successResponseTime / 2;\n                  return r.gt.info(\"Resolved [%s] local to server timestamp offset [%s]\", e.name, u), i(null, u);\n                });\n                return this.v.add(s), s;\n              case \"urn:mpeg:dash:utc:direct:2014\":\n                var o = t.now() - e.value - this.Qe / 2;\n                return r.gt.info(\"Resolved [%s] local to server timestamp offset [%s]\", e.name, o), i(null, o);\n              default:\n                return r.gt.info(\"Unable to resolve mpd Timing Sources. Defaulting to local time\"), i(null, 0);\n            }\n          }).call(this, s, function (n, s) {\n            if (!t.Kt(s)) return o.call(r, e, i + 1);\n            e(n, s);\n          });\n        }\n        var a = {\n            \"urn:mpeg:dash:utc:http-head:2014\": 0,\n            \"urn:mpeg:dash:utc:direct:2014\": 1\n          },\n          u = {\n            retryOptions: {\n              backoff: 2,\n              delay: 2e3,\n              maxAttempts: 3,\n              additionalRetryErrorCodes: [0]\n            }\n          };\n        return r.prototype.calculateOffset = function (t) {\n          o.call(this, t);\n        }, r.prototype.setInterval = function (n, r) {\n          e.pt(n, \"callback\"), t.isUndefined(r) || e.Kt(r, \"interval\");\n          var a = this,\n            u = s(r || 3e5),\n            c = setTimeout(function t() {\n              a.gt.debug(\"Syncing local to server time\"), o.call(a, function (e, i) {\n                if (e) return n(e);\n                u = s(r || 3e5), n(e, i), a.gt.debug(\"Waiting [%s] ms before next time sync\", u), c = setTimeout(t, u);\n              });\n            }, u),\n            h = new i.Disposable(function () {\n              clearTimeout(c);\n            });\n          return this.gt.debug(\"Waiting [%s] ms before next time sync\", u), this.v.add(h), h;\n        }, r.prototype.dispose = function () {\n          return this.gt.debug(\"Disposing of mdp time sync\"), this.v.dispose();\n        }, r.prototype.toString = function () {\n          return \"MpdTimeSync [Time Source Number: \" + this.Xe.length + \", Direct Source Offset: \" + this.Qe + \"]\";\n        }, r;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(2), i(3), i(4), i(11), i(8), i(28), i(29), i(5), i(9), i(21), i(16), i(18)], void 0 !== (r = function (t, e, i, n, r, s, o, a, u, c, h, f, d, l) {\n        \"use strict\";\n\n        function m(a, u, c) {\n          e.Se(u, \"videoElement\"), e.Se(u.videoWidth, \"videoElement.videoWidth\"), this.gt = a || new i.Logger(), this.h = t.assign({\n            targetLatency: v\n          }, c), this.kt = u, this.v = new r.DisposableList(), this.$e = new s(o.global.navigator.userAgent).detect(), this.Ye = this.h.preferNative || !1, this.Ze = null, this.ti = !1, this.ei = !1, this.ti = !1, this.ii = new n.Event(), this.ni = new n.Event(), this.ri = new n.Event(), this.v.add(this.ii), this.v.add(this.ni), this.v.add(this.ri);\n        }\n        function p() {\n          var t = this;\n          \"Edge\" === t.$e.browser || \"IE\" === t.$e.browser ? (t.kt.play(), t.ti = !0, t.ni.fireAsync([], t), t.gt.debug(\"Playback Started\")) : t.kt.play().then(function () {\n            t.ti = !0, t.ni.fireAsync([], t), t.gt.debug(\"Playback Started\");\n          }).catch(function (e) {\n            t.gt.error(\"Playback Failed [%s]\", e);\n          });\n        }\n        var v = 8;\n        return m.prototype.toString = function () {\n          return t.toString(this);\n        }, m.prototype.start = function (t) {\n          if (e.Rt(t, \"uri\"), this.Ze) return this.gt.warn(\"Already started Phenix Web Player\");\n          var i = this;\n          if (u.isSupported) {\n            if (this.Ye || !a.isSupported) return this.gt.info(\"HLS native player selected\"), this.Ze = new u(this.gt, this.kt, this.h), this.Ze.addEventListener(\"error\", function (t) {\n              i.ri.fire([t]);\n            }), this.v.add(this.Ze), this.Ze.start(t, function () {\n              p.call(i);\n            });\n          } else this.Ye && this.gt.warn(\"HLS native player is not supported\");\n          this.gt.info(\"MSE player selected\");\n          var n = new c(this.gt, t);\n          i.v.add(n), n.fetch(function (t) {\n            if (t) return i.ri.fire([t]);\n            var e,\n              r = new h(i.gt, {\n                ewmaPeriods: 30\n              });\n            \"Dash\" === n.getDeliveryType() ? e = new d(i.gt, n, r, i.h) : \"Hls\" === n.getDeliveryType() && (e = new l(i.gt, n, r, i.h));\n            var s = new a(i.gt, n, i.kt, e, i.h),\n              o = new f(i.gt, n, i, r);\n            s.start(), p.call(i), i.Ze = s, i.Ze.addEventListener(\"playbacktimeleft\", function (t, e) {\n              i.ii.fire([t, e]);\n            }), i.Ze.addEventListener(\"error\", function (t) {\n              i.ri.fire([t]);\n            }), i.v.add(i.Ze), i.v.add(r), i.v.add(o);\n          });\n        }, m.prototype.play = function () {\n          p.call(this), this.Ze && this.Ze.play();\n        }, m.prototype.pause = function () {\n          this.gt.info(\"Pausing web player\"), this.Ze && this.Ze.pause();\n        }, m.prototype.getVideoElement = function () {\n          return this.kt;\n        }, m.prototype.dispose = function () {\n          this.v.dispose(), this.kt && (this.kt.load(), this.kt.src = \"\", this.kt.mediaKeys && this.kt.setMediaKeys(null)), this.Ze = null, this.kt = null;\n        }, m.prototype.getBandwidthLimit = function () {\n          this.Ze.getBandwidthLimit();\n        }, m.prototype.getTimeLeft = function () {\n          return this.kt ? function (e) {\n            var i = this.kt.currentTime,\n              n = this.kt.duration,\n              r = function (t, e) {\n                for (var i = 0; i < t.buffered.length; i++) {\n                  var n = t.buffered.start(i),\n                    r = t.buffered.end(i);\n                  if (n <= e && e <= r) return i;\n                }\n              }(e, i),\n              s = t.Kt(r) ? e.buffered.end(r) : 0,\n              o = 0 === s ? 0 : s - i;\n            return {\n              bufferedLength: e.buffered.length,\n              current: i,\n              bufferEnd: s,\n              timeBufferedButNotPlayed: o,\n              duration: n,\n              timestampOffset: e.timestampOffset\n            };\n          }.call(this, this.kt).timeBufferedButNotPlayed : 0;\n        }, m.prototype.changeBandwidthLimit = function (t, e) {\n          this.Ze.changeBandwidthLimit(t, e);\n        }, m.prototype.addEventListener = function (i, n) {\n          switch (e.Wt(i, \"eventName\"), e.pt(n, \"listener\"), i) {\n            case \"playbacktimeleft\":\n              return this.ii.listen(n);\n            case \"started\":\n              var r = this.ni.listen(n);\n              return this.ti && setTimeout(t.bind(n, this), 0), r;\n            case \"error\":\n              return this.ri.listen(n);\n            default:\n              throw new Error('Event \"' + i + '\" is unknown.');\n          }\n        }, m.prototype.getStats = function () {\n          return this.Ze ? this.Ze.getStats() : {};\n        }, m.isSupported = u.isSupported || a.isSupported, m.deviceSupportsHlsPlayback = u.isSupported || a.isSupported, m.deviceSupportsDashPlayback = a.isSupported, m;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(2), i(3), i(4), i(11), i(8), i(5), i(12), i(19), i(6)], void 0 !== (r = function (t, e, i, n, r, s, o, a, u, c, h) {\n        \"use strict\";\n\n        function f(f, l, m, p, v) {\n          e.qt(l, a, \"playlist\"), e.Se(m, \"videoElement\"), e.Se(m.videoWidth, \"videoElement.videoWidth\"), e.Se(p, \"playlistChunkFeeder\"), e.qt(p, u, \"playlistChunkFeeder\"), e.Kt(v.targetLatency, \"options.targetLatency\"), t.isUndefined(t.get(v, \"bandwidthToStartAt\")) || e.Kt(v.bandwidthToStartAt, \"options.bandwidthToStartAt\"), t.isUndefined(t.get(v, \"trackRestrictions\")) || e.vt(v.trackRestrictions, \"options.trackRestrictions\"), t.isUndefined(t.get(v, \"bufferSizeToPauseFetch\")) || e.Kt(v.bufferSizeToPauseFetch, \"options.bufferSizeToPauseFetch\"), t.isUndefined(t.get(v, \"bufferSizeToResumeFetch\")) || e.Kt(v.bufferSizeToResumeFetch, \"options.bufferSizeToResumeFetch\"), t.isUndefined(t.get(v, \"maximumFrequencyForAlteringPlaybackRate\")) || e.Kt(v.maximumFrequencyForAlteringPlaybackRate, \"options.maximumFrequencyForAlteringPlaybackRate\"), t.isUndefined(t.get(v, \"playbackRateToRecover\")) || e.Kt(v.playbackRateToRecover, \"options.playbackRateToRecover\");\n          var g = this;\n          this.h = v, this.kt = m, this.si = p, this.Jt = l, this.v = new r.DisposableList(), this.gt = f || new i.Logger(), this.oi = t.get(v, \"bandwidthToStartAt\", S), this.ai = t.get(v, \"trackRestrictions\", {}), this.ui = t.get(v, \"playbackMode\", x.strict.name), this.ci = t.get(v, \"bufferSizeToPauseFetch\", E), this.hi = t.get(v, \"bufferSizeToResumeFetch\", T), this.ne = 1e3 * v.targetLatency, this.ti = !1, this.ei = !1, this.fi = [], this.$e = new s(o.global.navigator.userAgent).detect();\n          var y = (this.ne - (this.Jt.getMaxChunkDuration() || 1e3) - 500) / this.ne;\n          this.di = t.get(v, \"playbackRateToDecreaseBuffer\", R), this.li = t.get(v, \"playbackRateToIncreaseBuffer\", C), this.mi = t.get(v, \"minimumIntervalBetweenPlaybackRateChange\", M), this.pi = this.ne / 1e3 * y, this.vi = this.ne / 1e3 / 4, this.gi = this.ne / 1e3 / 2, this.gt.info(\"Target latency set to [%s] MS ([%s]/[%s] rates at most every [%s] with target buffers [%s] - [%s] - [%s])\", this.ne, this.li, this.di, this.mi, this.vi, this.gi, this.pi), function () {\n            var e = this,\n              i = t.get(this.Jt, [\"parsedPlaylist\", \"contentProtectionTags\"], []);\n            return 0 === i.length ? this.gt.info(\"No Content Protection Tags found in the playlist so skipping initialization of EncryptedMediaHandler\") : c.isSupported() ? (this.yi = new c(this.gt, this.kt, i, t.get(this.h, \"drm\")), this.yi.addEventListener(\"error\", function (t) {\n              e.ri.fire([t]);\n            }), this.yi.addEventListener(\"trackRestrictionsAvailable\", function (i) {\n              if (t.keys(i).length > 0) {\n                if (e.ai = i, 0 === d.call(e).length) return e.ri.fire([(n = \"DRM Track restrictions not met\", {\n                  category: h.category.DRM,\n                  name: \"UnmetDRMRestrictions\",\n                  severity: h.severity.CRITICAL,\n                  error: \"Error\" === n.constructor.name ? n : new Error(n)\n                })]);\n                e.kt.play();\n              }\n              var n;\n            }), void this.v.add(this.yi)) : this.gt.error(\"DRM not supported by the browser\");\n          }.call(this), this.ti = !1, this.wi = {}, this.bi = {}, this.ii = new n.Event(), this.ri = new n.Event(), this.si.addEventListener(\"error\", function (t) {\n            g.ri.fire([t]);\n          }), this.v.add(this.si), this.v.add(this.ii), this.v.add(this.ri), this.v.add(new r.Disposable(function () {\n            null !== g.ki && o.global.clearTimeout(g.ki);\n          }));\n        }\n        function d() {\n          var t = this.Jt.getPlaylistTracksByBandwidthPerMimeType(this.oi, this.ai);\n          return this.si.setActiveTracks(t), t;\n        }\n        function l(t, e, i) {\n          this.gt.debug(\"VIDEO EVENT: [%s]\", t, i), e && e.call(this, i);\n        }\n        function m(e, i) {\n          var n = t.bind(l, this, \"durationchange\", function () {\n            var r = this;\n            if (\"dynamic\" !== r.Jt.getType()) return r.kt.removeEventListener(\"durationchange\", n, !1), r.Si = null;\n            0 !== t.get(r.kt, [\"buffered\", \"length\"], 0) && function (e, i) {\n              var n = this;\n              e = t.Kt(e) ? e : (n.Jt.getPlaybackDurationSinceAvailable() - n.ne) / 1e3, this.ui === x.strict.name && (e = (n.Jt.getPlaybackDurationSinceAvailable() - n.ne) / 1e3), \"Firefox\" === this.$e.browser && (e -= 1), setTimeout(function () {\n                var r = n.kt.buffered.start(n.kt.buffered.length - 1),\n                  s = n.kt.buffered.end(n.kt.buffered.length - 1),\n                  o = n.kt.currentTime < e || n.kt.currentTime > e + 1,\n                  a = r <= e && e <= s,\n                  u = n.Ei >= P;\n                if (n.Si || !a && !u && n.Ti) n.Ei++;else {\n                  if (o && !n.Ii && (a || u || !n.Ti)) {\n                    var c = u ? (s - r) / 2 + r : r;\n                    n.Ti || a || (c = r), n.gt.debug(\"Setting video current time to [%s], attempt [%s]\", c, n.Ei), n.kt.currentTime = c, n.Ii = !0, n.Ti || (n.Ti = !0);\n                  }\n                  r <= n.kt.currentTime && n.kt.currentTime <= s && (a || u) && (n.Si = t.now(), n.Ii = !1, n.gt.debug(\"Successfully updated video current time [%s] after [%s] attempts\", n.kt.currentTime, n.Ei), i());\n                }\n              }, 10);\n            }.call(r, e, function () {\n              r.kt.removeEventListener(\"durationchange\", n, !1), i && i();\n            });\n          });\n          return this.Ei = 0, n;\n        }\n        function p(e) {\n          var i = this,\n            n = this.si.getActiveTracks(),\n            s = d.call(this);\n          (function (e) {\n            if (\"static\" === this.Jt.getType() && this.Ri.duration !== this.Jt.getTotalMediaTimeInMillis() / 1e3) this.Ri.duration = this.Jt.getTotalMediaTimeInMillis() / 1e3;else if (\"Hls\" === this.Jt.getDeliveryType() && this.Ri.duration !== 1 / 0) {\n              this.Ri.duration = 1 / 0;\n              var i = t.reduce(e, function (e, i) {\n                var n = t.get(i.getLastSegment(), [\"timestamp\"], 0);\n                return t.isNullOrUndefined(e) ? n : n < e ? n : e;\n              }) || 0;\n              this.si.seekToChunk(i);\n            }\n          }).call(this, s), this.si.initializeActiveTracks(function (o) {\n            if (o) return i.gt.error(\"Unable to initialize playlist tracks\", o), i.ri.fire([o]), e(o);\n            var a = t.filter(s, function (t) {\n              return !i.bi[k(t)];\n            });\n            if (a.length > 0) {\n              var u = t.map(a, function (t) {\n                return t.getTrackId();\n              });\n              i.gt.info(\"Initializing source buffers for [%s] tracks [%s]\", a.length, u), function (e) {\n                this.gt.debug(\"Creating MSE buffers for all tracks.\"), t.forEach(e, t.bind(function (e) {\n                  (function (e) {\n                    var i = this,\n                      n = {\n                        track: e,\n                        chunks: [],\n                        chunkAddRequested: !1\n                      },\n                      s = b(e),\n                      o = !t.includes(t.keys(i.wi), s),\n                      a = o ? i.Ri.addSourceBuffer(e.getMseCodec()) : i.wi[s].buffer,\n                      u = k(e);\n                    i.bi[u] = n, o && (a.mode = \"segments\", \"static\" === i.Jt.getType() && (a.appendWindowEnd = i.Jt.getTotalMediaTimeInMillis() / 1e3), i.gt.debug(\"Creating MSE Buffer for [%s] with mode [%s]\", i.Jt.getType(), a.mode), i.wi[s] = {\n                      buffer: a,\n                      updateEnd: function (t) {\n                        a.updating || w.call(this, t, !0);\n                      }\n                    }, i.v.add(new r.Disposable(function () {\n                      i.gt.debug(\"Cleaning up sourceBuffer [%s]\", s), i.Ri.removeSourceBuffer(a);\n                    })));\n                    var c = e.addEventListener(\"chunkadded\", t.bind(function (e, r) {\n                      n.addInitChunkFirst && \"Dash\" === i.Jt.getDeliveryType() && (n.addInitChunkFirst = !1, this.gt.debug(\"Pushing track [%s] chunk [%s] into buffer\", e.getTrackId(), \"Init\"), n.chunks.push(e.getInitChunkData())), this.gt.debug(\"Pushing track [%s] chunk [%s] into buffer\", e.getTrackId(), r.chunkId), n.chunks.push(r.data), n.chunkAddRequested && (n.chunkAddRequested = !1, a.updating || w.call(this, e, !1));\n                      var s = t.now() - this.Ci >= I,\n                        o = t.now() - this.Mi >= 500;\n                      this.ei && s && o && !this.kt.paused && !this.Pi && (this.gt.trace(\"Starting after wait [%s]\", t.now() - this.Ci), this.Mi = t.now(), this.kt.play());\n                    }, i, e));\n                    i.v.add(c);\n                  }).call(this, e);\n                }, this));\n              }.call(i, a);\n            }\n            var c = t.filter(s, function (e) {\n              return !t.find(n, function (t) {\n                return t.getTrackId() === e.getTrackId();\n              });\n            });\n            t.forEach(c, function (e) {\n              (function (e) {\n                var i = this.wi[b(e)],\n                  n = t.bind(function (t) {\n                    this.gt.warn(\"Buffer Error [%s]\", t);\n                  }, this),\n                  r = !!i.track;\n                if (i.track !== e) {\n                  var s = this.bi[k(e)];\n                  if (i.track && i.track !== e && r && (i.buffer.removeEventListener(\"updateend\", i.updateEndListener), i.buffer.removeEventListener(\"error\", n), s && (s.addInitChunkFirst = !0, s.chunkAddRequested = !0, s.chunks = [])), i.track = e, i.updateEndListener = t.bind(i.updateEnd, this, e), i.buffer.addEventListener(\"updateend\", i.updateEndListener), i.buffer.addEventListener(\"error\", n), i.buffer.onerror = n, !r) {\n                    var o = \"Dash\" === this.Jt.getDeliveryType() ? [e.getInitChunkData()] : [];\n                    s.chunks = [].concat(o, t.map(e.getChunks(), function (t) {\n                      return t.data;\n                    })), \"static\" === this.Jt.getType() && \"Edge\" !== this.$e.browser && \"IE\" !== this.$e.browser && this.Ri.setLiveSeekableRange(0, this.Jt.getTotalMediaTimeInMillis() / 1e3), w.call(this, e, !1);\n                  }\n                }\n              }).call(i, e), i.gt.info(\"Switched [%s] to track [%s] with [%s] bandwidth limit\", b(e), e.getTrackId(), i.oi);\n            }), e();\n          });\n        }\n        function v(e) {\n          var i = this.kt.currentTime,\n            n = this.kt.duration,\n            r = g(e, i),\n            s = t.Kt(r) ? e.buffered.end(r) : 0,\n            o = 0 === s ? 0 : s - i;\n          return {\n            bufferedLength: e.buffered.length,\n            current: i,\n            bufferEnd: s,\n            timeBufferedButNotPlayed: o,\n            duration: n,\n            timestampOffset: e.timestampOffset\n          };\n        }\n        function g(t, e) {\n          for (var i = 0; i < t.buffered.length; i++) {\n            var n = t.buffered.start(i),\n              r = t.buffered.end(i);\n            if (n <= e && e <= r) return i;\n          }\n        }\n        function y() {\n          var e = !0,\n            i = !1;\n          t.forOwn(this.wi, t.bind(function (t) {\n            var n = v.call(this, t.buffer),\n              r = parseFloat(n.timeBufferedButNotPlayed);\n            r < this.ci && (e = !1), r < this.hi && (i = !0);\n          }, this)), e && this.si.isFetchingData() && (this.gt.debug(\"Pausing feeder due to excess buffer\"), D.call(this)), !i || this.si.isFetchingData() || this.Pi || (this.gt.debug(\"Starting feeder due to limited buffer\"), A.call(this));\n        }\n        function w(e, i) {\n          var n = this.wi[b(e)],\n            r = this.bi[k(e)];\n          if (!r) return this.gt.warn(\"Unable to add chunk for non existent buffer\");\n          if (\"dynamic\" === this.Jt.getType() && this.Pi && !this.xi && n.buffer.buffered.length > 0) n.buffer.remove(0, n.buffer.buffered.end(n.buffer.buffered.length - 1)), n.cleared = !0, t.reduce(this.wi, function (t, e) {\n            return t ? e.cleared : t;\n          }, !0) && (this.Ti = !1, this.Si = null, this.Ii = !1, this.xi = !0);else if (r.chunks.length > 0) {\n            if (this.kt.error) return this.gt.error(\"Unable to continue appending to buffer. Video element error code [%s] and message [%s]\", this.kt.error.code, this.kt.error.message), D.call(this), this.ri.fire([this.kt.error]);\n            var s = r.chunks.shift();\n            n.cleared = !1, this.gt.debug(\"Appending chunk to buffer for track [%s]\", e.getTrackId()), n.buffer.appendBuffer(new Uint8Array(s));\n          } else i && (this.Mi && y.call(this), r.chunkAddRequested = !0);\n        }\n        function b(t) {\n          return t.getMseCodec().indexOf(\"video\") >= 0 ? \"video\" : t.getMseCodec().indexOf(\"audio\") >= 0 ? \"audio\" : \"other\";\n        }\n        function k(t) {\n          return t.getTrackId() + \"_\" + t.getMseCodec();\n        }\n        var S = 2e6,\n          E = 60,\n          T = 30,\n          I = 1e3,\n          R = 1.03,\n          C = .97,\n          M = 300,\n          P = 2,\n          x = {\n            loose: {\n              id: 0,\n              name: \"loose\"\n            },\n            strict: {\n              id: 1,\n              name: \"strict\"\n            }\n          };\n        f.prototype.toString = function () {\n          return t.toString(this);\n        }, f.prototype.play = function () {\n          if (\"dynamic\" === this.Jt.getType()) {\n            var t = this.si.seekToCurrent();\n            A.call(this);\n            var e = this,\n              i = m.call(this, t, function () {\n                e.Pi = 0, e.kt && e.kt.play();\n              });\n            return setTimeout(function () {\n              e.kt.addEventListener(\"durationchange\", i, !1);\n            }, 300), this.v.add(new r.Disposable(function () {\n              e.kt.removeEventListener(\"durationchange\", i, !1);\n            }));\n          }\n          A.call(this), this.kt && this.kt.play();\n        }, f.prototype.pause = function () {\n          this.gt.info(\"Pausing web player\"), D.call(this);\n          var e = this;\n          this.kt && (this.kt.pause(), this.Pi = t.now(), this.xi = !1, t.forOwn(this.si.getActiveTracks(), function (t) {\n            e.wi[b(t)].buffer.updating || w.call(e, t, !1);\n          }));\n        }, f.prototype.dispose = function () {\n          this.v.dispose(), this.ti = !1, this.wi = {}, this.bi = {}, this.fi = [], this.Ri = null, this.Jt = null, this.kt = null;\n        }, f.prototype.start = function (e) {\n          (function (e) {\n            var i = this;\n            i.Ri = new MediaSource();\n            var n = function () {\n              (function (e) {\n                var i = this;\n                p.call(i, function n(s) {\n                  if (s) return e(s);\n                  var o = i.si.getActiveTracks(),\n                    a = t.map(o, function (t) {\n                      return t.getTrackId();\n                    });\n                  i.gt.debug(\"Initializing tracks [%s]\", a);\n                  var u = setTimeout(function () {\n                    return i.si.stopRequestingAllData(), i.oi = i.oi / 2, p.call(i, n);\n                  }, i.Jt.getMaxChunkDuration());\n                  i.si.fetchNChunks(1, function (n) {\n                    if (\"timeout\" !== t.get(n, [\"message\"])) {\n                      if (clearTimeout(u), n) return e(n);\n                      \"Hls\" === i.Jt.getDeliveryType() && t.forEach(i.si.getActiveTracks(), function (t) {\n                        i.bi[k(t)].chunkAddRequested = !0;\n                      }), i.gt.info(\"Initializing feeder with [%s] [%s] playlist of duration [%s]\", i.Jt.getType(), i.Jt.getDeliveryType(), i.Jt.getTotalMediaTimeInMillis() / 1e3), function (e) {\n                        var i = this,\n                          n = t.bind(function () {\n                            this.ei = !1, this.Ci = t.now();\n                            var e,\n                              i = t.now() - this.Di > 4e3;\n                            t.forOwn(this.wi, t.bind(function (t) {\n                              var i = v.call(this, t.buffer);\n                              (!e || e > i.timeBufferedButNotPlayed) && (e = i.timeBufferedButNotPlayed), this.ii.fire([i.timeBufferedButNotPlayed, t.track], this);\n                            }, this)), y.call(this), i && (function (e) {\n                              this.fi.push({\n                                size: e,\n                                timestamp: t.now()\n                              });\n                              for (var i = t.get(this.fi, [0, \"timestamp\"], t.now()); t.now() - i > 3e5;) this.fi.shift(), i = t.get(this.fi, [0, \"timestamp\"], t.now());\n                              this.Ai = Math.min.apply(null, t.map(this.fi, function (t) {\n                                return t.size;\n                              }));\n                            }.call(this, e), function (e) {\n                              if (\"Dash\" === this.Jt.getDeliveryType() || \"dynamic\" === this.Jt.getType()) {\n                                var i = this.pi,\n                                  n = this.Oi,\n                                  r = t.now() - this.Di > 4e3,\n                                  s = !n || t.now() - n > 1e3 * this.mi,\n                                  o = this.ne / 1e3,\n                                  a = this.Ai > this.vi,\n                                  u = this.Ai <= o + .1 && this.Ai >= o - .1,\n                                  c = e >= this.gi && this.kt.playbackRate === this.li;\n                                e >= i && a && this.kt.playbackRate <= 1 && r && s ? (this.gt.info(\"Adjusting playback rate to [%s] to reduce buffer size from [%s] with minimum buffer size of [%s]\", this.di, e, this.Ai), this.kt.playbackRate = this.di) : !a && !u && this.kt.playbackRate >= 1 && s ? (this.gt.info(\"Adjusting playback rate to [%s] to increase buffer size from [%s] with minimum buffer size of [%s]\", this.li, e, this.Ai), this.kt.playbackRate = this.li) : (c || u) && 1 !== this.kt.playbackRate && (this.gt.info(\"Resuming normal playback rate with buffer size of [%s] and minimum buffer size of [%s]\", e, this.Ai), this.kt.playbackRate = 1, this.Oi = t.now());\n                              }\n                            }.call(this, e || 0));\n                          }, i),\n                          s = t.bind(l, i, \"stalled\", null),\n                          o = t.bind(l, i, \"suspend\", null),\n                          a = t.bind(l, i, \"ended\", null),\n                          u = t.bind(l, i, \"error\", null),\n                          c = t.bind(l, i, \"pause\", null),\n                          h = t.bind(l, i, \"play\", function () {\n                            this.Pi && this.kt.pause();\n                          }),\n                          f = t.bind(l, i, \"waiting\", function () {\n                            this.ti && (this.gt.debug(\"Waiting for new chunk or end of track\"), this.ei = !0);\n                          }),\n                          d = t.bind(l, i, \"seeking\", function (e) {\n                            var i = t.keys(this.wi),\n                              n = t.get(i, \"0\", null),\n                              r = this.wi[n],\n                              s = t.now() - this.Si,\n                              o = this;\n                            if (!(r && s > 500 && \"Hls\" !== this.Jt.getDeliveryType())) return this.gt.debug(\"Ignoring video seek event during initialization\");\n                            var a = g(r.buffer, e.timeStamp / 1e3),\n                              u = g(r.buffer, this.kt.currentTime),\n                              c = t.reduce(this.wi, function (e, i) {\n                                var n = g(i.buffer, o.kt.currentTime),\n                                  r = t.Kt(n) ? i.buffer.buffered.end(n) : 0;\n                                return e ? r < e ? r : e : r;\n                              }) || this.kt.currentTime;\n                            if (this.si.stopRequestingAllData(), this.gt.debug(\"Pausing of feeder completed.\"), this.si.seekToChunk(\"dynamic\" === this.Jt.getType() ? this.kt.currentTime : c), a !== u || t.isNullOrUndefined(u)) {\n                              if (this.si.isFetchingData()) return;\n                              this.si.startRequestingDataForActiveTracks(this.oi);\n                            }\n                          }),\n                          p = m.call(i);\n                        i.kt.addEventListener(\"timeupdate\", n, !1), i.kt.addEventListener(\"ended\", a, !1), i.kt.addEventListener(\"error\", u, !1), i.kt.addEventListener(\"pause\", c, !1), i.kt.addEventListener(\"stalled\", s, !1), i.kt.addEventListener(\"suspend\", o, !1), i.kt.addEventListener(\"play\", h, !1), i.kt.addEventListener(\"waiting\", f, !1), i.kt.addEventListener(\"seeking\", d, !1), i.kt.addEventListener(\"durationchange\", p, !1), i.v.add(new r.Disposable(function () {\n                          i.gt.debug(\"Cleaning up videoElement listeners\"), i.kt.removeEventListener(\"timeupdate\", n, !1), i.kt.removeEventListener(\"ended\", a, !1), i.kt.removeEventListener(\"error\", u, !1), i.kt.removeEventListener(\"pause\", c, !1), i.kt.removeEventListener(\"stalled\", s, !1), i.kt.removeEventListener(\"suspend\", o, !1), i.kt.removeEventListener(\"play\", h, !1), i.kt.removeEventListener(\"waiting\", f, !1), i.kt.removeEventListener(\"seeking\", d, !1), i.kt.removeEventListener(\"durationchange\", p, !1);\n                        })), A.call(i), i.Mi = t.now(), t.pt(e) && e();\n                      }.call(i, e);\n                    }\n                  });\n                });\n              }).call(i, e);\n            };\n            i.Ri.addEventListener(\"sourceopen\", n), i.v.add(new r.Disposable(function () {\n              i.gt.debug(\"Cleaning up sourceopen listener\"), i.Ri.removeEventListener(\"sourceopen\", n);\n            })), i.kt.src = o.global.URL.createObjectURL(i.Ri);\n          }).call(this, e), this.Di = t.now();\n        }, f.prototype.getBandwidthLimit = function () {\n          return this.oi;\n        }, f.prototype.changeBandwidthLimit = function (e, i) {\n          this.gt.debug(\"Changing playback bandwidth limit: [%s], current limit: [%s]\", e, this.oi), this.oi = e, this.ki = setTimeout(t.bind(function (e) {\n            var i = this;\n            p.call(this, function (n) {\n              if (n) return e(n);\n              var r = i.si.getActiveTracks(),\n                s = t.reduce(r, function (e, n) {\n                  var r = i.wi[b(n)],\n                    s = g(r.buffer, i.kt.currentTime),\n                    o = n.getChunkDuration() / 1e3;\n                  if (!t.Kt(s)) return !t.Kt(e) || e > i.kt.currentTime ? i.kt.currentTime : e;\n                  var a = Math.round(r.buffer.buffered.end(s) / o) * o;\n                  return !t.Kt(e) || e > a ? a : e;\n                });\n              return t.Kt(s) || (s = i.kt.currentTime), i.si.stopRequestingAllData(), i.si.seekToChunk(s), i.gt.debug(\"Pausing of feeder completed.\"), i.si.isFetchingData() ? e() : (i.si.startRequestingDataForActiveTracks(i.oi), e());\n            });\n          }, this, i || t.noop), 250);\n        }, f.prototype.addEventListener = function (t, i) {\n          switch (e.Wt(t, \"eventName\"), e.pt(i, \"listener\"), t) {\n            case \"playbacktimeleft\":\n              return this.ii.listen(i);\n            case \"error\":\n              return this.ri.listen(i);\n            default:\n              throw new Error('Event \"' + t + '\" is unknown.');\n          }\n        }, f.prototype.getStats = function () {\n          return {\n            currentTime: t.get(this.nt, [\"currentTime\"], 0),\n            width: t.get(this.nt, [\"videoWidth\"], 0) || t.get(this.nt, [\"width\"], 0),\n            height: t.get(this.nt, [\"videoHeight\"], 0) || t.get(this.nt, [\"height\"], 0),\n            lag: 0,\n            deliveryType: this.Jt.getDeliveryType(),\n            isNative: !1\n          };\n        }, f.isSupported = !!o.global.MediaSource;\n        var D = function () {\n            this.si.stopRequestingAllData(), this.gt.debug(\"Pausing of feeder completed.\");\n          },\n          A = function () {\n            if (this.si.isFetchingData()) return this.gt.debug(\"Unable to start requesting data. Feeder is already fetching data.\");\n            this.si.startRequestingDataForActiveTracks();\n          };\n        return f;\n      }.apply(e, n)) && (t.exports = r);\n    }, function (t, e, i) {\n      var n, r;\n      n = [i(1), i(0), i(2), i(3), i(4), i(11), i(20), i(8), i(5), i(19), i(6)], void 0 !== (r = function (t, e, i, n, r, s, o, a, u, c, h) {\n        \"use strict\";\n\n        function f(o, f, v) {\n          e.Se(f, \"videoElement\"), e.Se(f.videoWidth, \"videoElement.videoWidth\"), this.h = v, this.kt = f, this.v = new r.DisposableList(), this.gt = o || new i.Logger(), this.$e = new s(a.global.navigator.userAgent).detect(), this.ri = new n.Event(), this.v.add(this.ri), this.qi = t.bind(function () {\n            var t = this,\n              e = this.nt.currentTime,\n              i = function () {\n                return 1.5 * this.Ui.averageLength < 4e3 ? 4e3 : 1.5 * this.Ui.averageLength;\n              }.call(t);\n            t.nt.paused || (setTimeout(function () {\n              if (0 === t.Ui.count && !t.nt.paused && t.nt.currentTime === e) {\n                var n = \"Stream has not started within [\" + i / 1e3 + \"] seconds\";\n                t.gt.warn(n), m.call(t, h.name.progressTimeOut.name, n);\n              }\n            }, i), setTimeout(function () {\n              if (t.nt && t.nt.currentTime === e && !t.nt.paused && d.call(t)) {\n                var i = \"Stream has been stalled for [\" + y / 1e3 + \"] seconds\";\n                t.gt.warn(i), l.call(t, h.name.progressTimeOut.name, i);\n              }\n            }, y));\n          }, this), this.Fi = t.bind(function () {\n            if (this.Ui.time = t.now(), 0 === this.nt.buffered.length) return this.gt.debug(\"[%s] Hls stream progress event fired without any buffered content\", this.Ni);\n            var e = this.nt.buffered.end(this.nt.buffered.length - 1);\n            if (this.Ui.buffered !== e) {\n              if (null !== this.Ui.buffered) {\n                var i = this.Ui.averageLength * this.Ui.count + (e - this.Ui.buffered);\n                if (this.Ui.count += 1, this.Ui.averageLength = i / this.Ui.count, this.Ui.lastCurrentTime !== this.nt.currentTime && (this.Ui.lastCurrentTimeOccurrenceTimestamp = t.now()), this.Ui.lastCurrentTimeOccurrenceTimestamp && t.now() - this.Ui.lastCurrentTimeOccurrenceTimestamp > y && this.nt && !this.nt.paused && d.call(this)) {\n                  var n = \"Reloading stream after current time has not changed for [\" + y / 1e3 + \"] seconds due to unregistered stall.\";\n                  this.gt.warn(n), l.call(this, h.name.progressTimeOut.name, n);\n                }\n              }\n              this.Ui.buffered = e, this.Ui.lastCurrentTime = this.nt.currentTime;\n            }\n          }, this), this.Li = t.bind(function () {\n            this.gt.info(\"[%s] Hls stream ended\", this.ji), this.stop(\"ended\");\n          }, this), this.Bi = t.bind(function (e) {\n            var i = 0 === this.Ui.count;\n            4 === t.get(this.nt, [\"error\", \"code\"]) && i && m.call(this, h.name.hlsNativeError.name, e), p.call(this, h.name.hlsNativeError.name, e);\n          }, this), this.Ui = {\n            time: 0,\n            buffered: null,\n            averageLength: 0,\n            count: 0,\n            lastCurrentTime: 0,\n            lastCurrentTimeOccurrenceTimestamp: 0\n          }, this.Wi = [], function () {\n            var e = this,\n              i = t.get(this.h, [\"drm\", \"com.apple.fps.1_0\"], {});\n            return 0 === t.keys(i).length ? this.gt.info(\"DRM config is empty so skipping initialization of EncryptedMediaHandler\") : c.isSupported() ? (this.yi = new c(this.gt, this.kt, [], t.get(this.h, \"drm\")), this.yi.addEventListener(\"error\", function (t) {\n              e.ri.fire([t]);\n            }), this.yi.addEventListener(\"trackRestrictionsAvailable\", function (i) {\n              t.keys(i).length > 0 && (e.ai = i);\n            }), void this.v.add(this.yi)) : this.gt.error(\"DRM not supported by the browser\");\n          }.call(this), setTimeout(t.bind(function () {\n            this.Jt = new u(this.gt, this.Ni), this.v.add(this.Jt), this.Jt.fetch(t.noop);\n          }, this), b);\n        }\n        function d() {\n          return this.nt && 0 !== this.nt.buffered.length;\n        }\n        function l(t, e) {\n          if (!d.call(this)) return p.call(this, t, e);\n          m.call(this, t, e);\n        }\n        function m(t, e) {\n          this.ri.fire([g(t, h.severity.RECOVERABLE, e)]);\n        }\n        function p(t, e) {\n          this.ri.fire([g(t, h.severity.CRITICAL, e)]);\n        }\n        function v(e) {\n          if (e) {\n            if (clearTimeout(this.Ce), this.Ce = null, !this._i) return;\n            return this._i = !1, void this.start(this.nt);\n          }\n          var i = this;\n          this.Ce = setTimeout(function () {\n            var e;\n            o.isForeground() || !(e = i.nt).muted && (t.get(e, [\"webkitAudioDecodedByteCount\"], 0) > 0 || t.get(e, [\"audioTracks\", \"length\"], 0) > 0 || e.webkitHasAudio) || (i.gt.info(\"Detecting application [background] with muted video. Pausing playback until application focused again.\"), i.nt.pause(), i._i = !0);\n          }, w);\n        }\n        function g(t, e, i) {\n          return {\n            category: h.category.STREAMING,\n            name: t,\n            severity: e,\n            error: \"Error\" === i.constructor.name ? i : new Error(i)\n          };\n        }\n        var y = 6e3,\n          w = 3e3,\n          b = 2e3;\n        return f.prototype.toString = function () {\n          return t.toString(this);\n        }, f.prototype.play = function () {\n          this.kt.play();\n        }, f.prototype.pause = function () {\n          this.kt.pause();\n        }, f.prototype.dispose = function () {\n          this.v.dispose();\n        }, f.prototype.start = function (e) {\n          if (this.Ni) return this.gt.warn(\"Already started player\");\n          this.Ni = e, this.v.add(o.onBackground(t.bind(v, this, !1))), this.v.add(o.onForeground(t.bind(v, this, !0))), function (e) {\n            a.attachUriStream(e, this.Ni), !1 === this.h.receiveAudio && (e.muted = !0), t.addEventListener(e, \"error\", this.Bi, !0), t.addEventListener(e, \"stalled\", this.qi, !1), t.addEventListener(e, \"pause\", this.qi, !1), t.addEventListener(e, \"suspend\", this.qi, !1), t.addEventListener(e, \"progress\", this.Fi, !1), t.addEventListener(e, \"ended\", this.Li, !1), this.nt = e;\n          }.call(this, this.kt);\n        }, f.prototype.getBandwidthLimit = function () {\n          return this.gt.warn(\"getBandwidthLimit not supported for HLS Native\");\n        }, f.prototype.changeBandwidthLimit = function () {\n          return this.gt.warn(\"changeBandwidthLimit not supported for HLS Native\");\n        }, f.prototype.addEventListener = function (t, i) {\n          switch (e.Wt(t, \"eventName\"), e.pt(i, \"listener\"), t) {\n            case \"error\":\n              return this.ri.listen(i);\n            default:\n              throw new Error('Event \"' + t + '\" is unknown.');\n          }\n        }, f.prototype.getStats = function () {\n          if (!this.kt) return {\n            width: 0,\n            height: 0,\n            currentTime: 0,\n            lag: 0,\n            deliveryType: \"Hls\",\n            isNative: !0\n          };\n          var e = t.get(this.nt, [\"currentTime\"], 0),\n            i = this.nt && this.nt.buffered && this.nt.buffered.length > 0 ? this.nt.buffered.end(this.nt.buffered.length - 1) : 0,\n            n = Math.max(0, i - e);\n          this.Wi.push(n), this.Wi.length > 15 && this.Wi.shift();\n          for (var r = 0, s = 0, o = this.Wi.length; s < o; s++) r = Math.max(r, this.Wi[s]);\n          var a = 2;\n          this.Jt && this.Jt.getAllPlaylistTracks().length > 0 && (a = this.Jt.getAllPlaylistTracks()[0].getChunkDuration());\n          var u = 2 * a + r;\n          return {\n            width: this.nt.videoWidth || this.nt.width,\n            height: this.nt.videoHeight || this.nt.height,\n            currentTime: e,\n            lag: u,\n            deliveryType: \"Hls\",\n            isNative: !0\n          };\n        }, f.isSupported = \"object\" == typeof document && \"maybe\" === document.createElement(\"video\").canPlayType(\"application/vnd.apple.mpegURL\"), f;\n      }.apply(e, n)) && (t.exports = r);\n    }]));\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        types: {\n          user: {\n            id: 0,\n            name: \"User\"\n          },\n          presentation: {\n            id: 1,\n            name: \"Presentation\"\n          },\n          audio: {\n            id: 2,\n            name: \"Audio\"\n          }\n        }\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(16), i(32)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      var s = n.types,\n        o = r.states,\n        a = \"pcast://phenixp2p.com/\",\n        u = \"pcast://phenixrts.com/\";\n      function c(t, e, i, n) {\n        this.init(t, e, i, n);\n      }\n      function h(e) {\n        return t.includes(e, a) ? a : u;\n      }\n      function f(e) {\n        var i = {},\n          n = e.split(\"?\");\n        if (2 !== n.length) return i;\n        var r = n[1].split(\"&\");\n        return t.forEach(r, function (t) {\n          var e = t.split(\"=\"),\n            n = e[0];\n          i[n] = e[1], \"capabilities\" === n && (i[n] = e[1] && e[1].split(\",\") || []);\n        }), i;\n      }\n      function d(i) {\n        return e.Tt(i, s, \"streamType\"), t.getEnumName(s, i);\n      }\n      function l(i) {\n        return e.Tt(i, o, \"trackState\"), t.getEnumName(o, i);\n      }\n      return c.prototype.init = function (t, n, r, s) {\n        e.Wt(t, \"uri\"), this.Ni = new i.Observable(t), this.At = new i.Observable(n, d), this.zi = new i.Observable(r || o.trackEnabled.name, l), this.Vi = new i.Observable(s || o.trackEnabled.name, l), this.ji = c.parsePCastStreamIdFromStreamUri(t);\n      }, c.prototype.getUri = function () {\n        return this.Ni.getValue();\n      }, c.prototype.getType = function () {\n        return this.At.getValue();\n      }, c.prototype.getObservableAudioState = function () {\n        return this.zi;\n      }, c.prototype.getObservableVideoState = function () {\n        return this.Vi;\n      }, c.prototype.toJson = function () {\n        return {\n          uri: this.Ni.getValue(),\n          type: this.At.getValue(),\n          audioState: this.zi.getValue(),\n          videoState: this.Vi.getValue()\n        };\n      }, c.prototype.Hi = function (e) {\n        var i, n;\n        t.vt(e) && (e.hasOwnProperty(\"uri\") && e.uri !== this.Ni.getValue() && (i = e.uri, n = this.Ni.getValue(), c.parsePCastStreamIdFromStreamUri(i) === c.parsePCastStreamIdFromStreamUri(n)) && (this.Ni.setValue(e.uri), this.ji = c.parsePCastStreamIdFromStreamUri(e.uri)), e.hasOwnProperty(\"audioState\") && this.zi.setValue(e.audioState), e.hasOwnProperty(\"videoState\") && this.Vi.setValue(e.videoState));\n      }, c.prototype.isPCastStream = function () {\n        return !!this.ji;\n      }, c.prototype.getPCastStreamId = function () {\n        return this.ji;\n      }, c.prototype.getInfo = function () {\n        return f(this.Ni.getValue());\n      }, c.getPCastPrefix = function () {\n        return a;\n      }, c.parsePCastStreamIdFromStreamUri = function (e) {\n        return t.includes(e, h(e)) ? e.replace(h(e), \"\").split(\"?\")[0] : null;\n      }, c.getInfoFromStreamUri = function (t) {\n        return f(t);\n      }, c;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(3)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i() {}\n      function n(e) {\n        return t.includes(e.id, \"send\") || t.includes(e.id, \"outbound\") || \"outboundrtp\" === e.type || \"outbound-rtp\" === e.type || \"kOutboundRtp\" === e.type;\n      }\n      function r(e) {\n        return t.includes(e.id, \"recv\") || \"inboundrtp\" === e.type || \"inbound-rtp\" === e.type || \"kInboundRtp\" === e.type;\n      }\n      return i.convertPeerConnectionStats = function (i, s) {\n        return function (i, s) {\n          if (!i) return null;\n          var o = [],\n            a = function (i) {\n              var s = {};\n              switch (e.browser) {\n                case \"Firefox\":\n                  return t.forOwn(i, function (e, n) {\n                    t.includes(n, \"rtcp\") && t.forOwn(i, function (i, n) {\n                      t.includes(n, \"rtp\") && e.mediaType === i.mediaType && (i.jitter = 1e3 * (e.jitter || i.jitter), i.roundTripTime = e.roundTripTime);\n                    });\n                  }), i;\n                case \"IE\":\n                  return t.forOwn(i, function (e, i) {\n                    t.startsWith(i, \"ssrc\") && (s[e.id] = e);\n                  }), s;\n                case \"Edge\":\n                  return i.forEach(function (e) {\n                    s[e.id] = e, t.hasIndexOrKey(e, \"jitter\") && (e.jitter *= 1e3);\n                  }), t.forOwn(s, function (e) {\n                    \"track\" === e.type && t.hasIndexOrKey(e, \"framesPerSecond\") && t.forOwn(s, function (t) {\n                      \"video\" === t.mediaType && (t.framesPerSecond = parseInt(e.framesPerSecond, 10));\n                    });\n                  }), s;\n                case \"Safari\":\n                  return i.forEach(function (t) {\n                    s[t.id] = t;\n                  }), t.forOwn(s, function (e) {\n                    if (t.hasIndexOrKey(e, \"id\") && r(e)) {\n                      var i = parseInt(t.get(e.id.split(\"_\"), [1]), 10);\n                      e.ssrc = i || e.ssrc;\n                    }\n                    t.hasIndexOrKey(e, \"jitter\") && (e.jitter *= 1e3), \"candidate-pair\" === e.type && t.forOwn(s, function (t) {\n                      \"audio\" !== t.mediaType && \"video\" !== t.mediaType || (t.currentRoundTripTime = 1e3 * e.currentRoundTripTime);\n                    }), \"track\" === e.type && t.forOwn(s, function (t) {\n                      \"audio\" === t.mediaType && r(t) ? t.audioOutputLevel = 1e5 * e.audioLevel : \"audio\" === t.mediaType && n(t) && (t.audioInputLevel = 1e5 * e.audioLevel);\n                    });\n                  }), s;\n                case \"ReactNative\":\n                  return (t.Wt(i) ? JSON.parse(i) : i).forEach(function (e) {\n                    var i = {\n                      id: e.id,\n                      type: e.type\n                    };\n                    e.values.forEach(function (e) {\n                      t.keys(e).forEach(function (t) {\n                        i[t] = e[t];\n                      });\n                    }), i.timestamp = e.timestamp, s[i.id] = i;\n                  }), s;\n                case \"Chrome\":\n                default:\n                  return i.result().forEach(function (t) {\n                    var e = {\n                      id: t.id,\n                      type: t.type\n                    };\n                    t.names().forEach(function (i) {\n                      e[i] = t.stat(i);\n                    }), e.timestamp = t.timestamp.getTime(), s[e.id] = e;\n                  }), s;\n              }\n            }(i);\n          return t.forOwn(a, function (e) {\n            if (t.hasIndexOrKey(e, \"ssrc\") && e.ssrc && !t.includes(e.id, \"rtcp\")) {\n              var i = e.id || e.ssrc;\n              t.hasIndexOrKey(s, i) || (s[i] = {\n                timestamp: t.now()\n              });\n              var a = \"?\",\n                u = parseFloat(e.timestamp) - s[i].timestamp,\n                c = function (e, i, n) {\n                  if (!t.isUndefined(i)) return e ? 8 * (e - (i || 0)) / n : 0;\n                }(parseFloat(e.bytesSent), s[i].bytesSent, u),\n                h = function (e, i, n) {\n                  if (!t.isUndefined(i)) return e ? 8 * (e - (i || 0)) / n : 0;\n                }(parseFloat(e.bytesReceived), s[i].bytesReceived, u),\n                f = function (e, i, n) {\n                  if (!t.isUndefined(i)) return (e - i) / (n / 1e3);\n                }(parseFloat(e.framesEncoded || e.framesDecoded), s[i].framesEncoded || s[i].framesDecoded, u);\n              n(e) && (a = \"upload\"), r(e) && (a = \"download\");\n              var d = {\n                uploadRate: c,\n                downloadRate: h,\n                mediaType: e.mediaType,\n                ssrc: e.ssrc,\n                direction: a,\n                nativeReport: e,\n                rtt: e.rtt || e.googRtt || e.roundTripTime || e.currentRoundTripTime || \"?\",\n                bitrateMean: parseInt(e.bitrateMean, 10) || 1e3 * (n(e) ? c : h) || void 0,\n                targetDelay: parseInt(e.targetDelay || e.googTargetDelayMs, 10) || void 0,\n                currentDelay: parseInt(e.currentDelay || e.currentDelayMs || e.googCurrentDelayMs, 10) || void 0\n              };\n              t.assign(s[i], e), \"video\" === e.mediaType && (d = t.assign(d, {\n                droppedFrames: parseInt(e.droppedFrames, 10) || 0,\n                framerateMean: parseInt(e.framerateMean || f, 10) || e.framesPerSecond || 0,\n                cpuLimitedResolution: e.cpuLimitedResolution || e.googCpuLimitedResolution,\n                avgEncode: parseInt(e.avgEncode || e.avgEncodeMs || e.googAvgEncodeMs, 10)\n              })), \"audio\" === e.mediaType && (d = t.assign(d, {\n                audioInputLevel: e.audioInputLevel || e.googAudioInputLevel,\n                audioOutputLevel: e.audioOutputLevel || e.googAudioOutputLevel,\n                jitter: parseInt(e.jitter || e.jitterReceived || e.googJitterReceived, 10) || void 0,\n                jitterBuffer: parseInt(e.jitterBuffer || e.jitterBufferMs || e.googJitterBufferMs, 10) || void 0\n              })), o.push(d);\n            }\n          }), o;\n        }(i, s);\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(1), i(0), i(6), i(2), i(75)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      function s(e, i, r, s) {\n        t.Rt(e, \"version\"), t.Rt(i, \"baseUri\"), t.vt(r, \"logger\"), this.ft = e, this.Gi = i, this.gt = r, this.v = new n.DisposableList(), this.Ki = s;\n      }\n      return s.DefaultPCastUri = \"https://pcast.phenixrts.com\", s.prototype.getBaseUri = function () {\n        return this.Gi;\n      }, s.prototype.resolveUri = function (t) {\n        return function (t, n) {\n          if (0 === t.lastIndexOf(\"wss:\", 0)) n(void 0, {\n            uri: t + \"/ws\",\n            roundTripTime: 0\n          });else if (0 === t.lastIndexOf(\"https:\", 0)) {\n            var s = this;\n            (function (t, n) {\n              var r = i.getWithRetry(t + \"/pcast/endPoints\", {\n                timeout: 15e3,\n                queryParameters: {\n                  version: \"2018-12-21T23:46:27Z\",\n                  _: e.now()\n                },\n                retryOptions: {\n                  maxAttempts: 4\n                }\n              }, function (t, e) {\n                if (t) return n(new Error(\"Failed to resolve an end point\", t));\n                var i = e.data.split(\",\");\n                i.length < 1 && n(new Error(\"Failed to discover end points\")), n(void 0, i);\n              });\n              this.v.add(r);\n            }).call(s, t, function (t, e) {\n              if (t) return n(t);\n              var i = new r({\n                logger: s.gt,\n                version: s.ft\n              }, n, function (t, e) {\n                t ? s.gt.warn(\"An error occurred in resolving an endpoint\", t) : s.Ki.recordMetric(\"RoundTripTime\", {\n                  uint64: e.time\n                }, null, {\n                  resource: e.endPoint,\n                  kind: \"https\"\n                });\n              });\n              i.resolveAll(e), s.v.add(i);\n            });\n          } else n(new Error(\"Uri not supported\"));\n        }.call(this, this.Gi, t);\n      }, s.prototype.dispose = function () {\n        this.v.dispose();\n      }, s.prototype.toString = function () {\n        return \"PCastEndPoint[\" + this.Gi + \"]\";\n      }, s;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(95), i(84), i(43)], void 0 === (r = function (t, e, i) {\n      return {\n        MQWebSocket: t,\n        BatchHttpProto: e,\n        MQService: i\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(96)], void 0 === (r = function (t) {\n      return t;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      return {\n        parseEnvFromPcastBaseUri: function (e) {\n          return e = e.toLowerCase(), t.includes(e, \"local\") ? \"local\" : t.includes(e, \"stg\") ? \"staging\" : \"production\";\n        }\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(9), i(98)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      function r() {}\n      return r.prototype.createPCastLogger = function (t, r) {\n        t && e.Rt(t, \"baseUri\");\n        var s = new i.Logger(),\n          o = n.getAppender(t);\n        return o.setThreshold(i.level.INFO), r || s.addAppender(new i.ConsoleAppender()), s.addAppender(o), s.isPCastLogger = !0, s;\n      }, new r();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        level: {\n          TRACE: 0,\n          DEBUG: 1,\n          INFO: 2,\n          WARN: 3,\n          ERROR: 4,\n          FATAL: 5\n        }\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i(t) {\n        e.vt(t, \"room\"), this.Ji = t;\n      }\n      return i.prototype.getChannelId = function () {\n        return this.Ji.getRoomId.apply(this.Ji, arguments);\n      }, i.prototype.getObservableAlias = function () {\n        return this.Ji.getObservableAlias.apply(this.Ji, arguments);\n      }, i.prototype.getObservableName = function () {\n        return this.Ji.getObservableName.apply(this.Ji, arguments);\n      }, i.prototype.getObservableDescription = function () {\n        return this.Ji.getObservableDescription.apply(this.Ji, arguments);\n      }, i.prototype.getObservableType = function () {\n        return this.Ji.getObservableType.apply(this.Ji, arguments);\n      }, i.prototype.getObservableMembers = function () {\n        return this.Ji.getObservableMembers.apply(this.Ji, arguments);\n      }, i.prototype.getObservableBridgeId = function () {\n        return this.Ji.getObservableBridgeId.apply(this.Ji, arguments);\n      }, i.prototype.getObservablePin = function () {\n        return this.Ji.getObservablePin.apply(this.Ji, arguments);\n      }, i.prototype.toString = function () {\n        return this.Ji.toString.apply(this.Ji, arguments);\n      }, i.prototype.toJson = function () {\n        return {\n          channelId: this.Ji.getRoomId(),\n          alias: this.Ji.getObservableAlias().getValue(),\n          name: this.Ji.getObservableName().getValue(),\n          description: this.Ji.getObservableDescription().getValue(),\n          type: this.Ji.getObservableType().getValue(),\n          pin: this.Ji.getObservablePin().getValue(),\n          bridgeId: this.Ji.getObservableBridgeId().getValue()\n        };\n      }, i.prototype.commitChanges = function () {\n        return this.Ji.commitChanges.apply(this.Ji, arguments);\n      }, i.prototype.reload = function () {\n        return this.Ji.reload.apply(this.Ji, arguments);\n      }, i.prototype.Hi = function () {\n        return this.Ji.Hi.apply(this.Ji, arguments);\n      }, i.prototype.Xi = function () {\n        return this.Ji.Xi.apply(this.Ji, arguments);\n      }, i.prototype.Qi = function () {\n        return this.Ji.Qi.apply(this.Ji, arguments);\n      }, i.prototype.$i = function () {\n        return this.Ji.$i.apply(this.Ji, arguments);\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      var i = \"most-recent\";\n      function n(t, n) {\n        t && e.Rt(t, \"selectionStrategy\"), e.vt(n, \"logger\"), this.Yi = t || i, this.gt = n, this.Zi = null, this.tn = [];\n      }\n      function r(e) {\n        return !!t.find(this.tn, function (t) {\n          return t.key === s(e);\n        });\n      }\n      function s(t) {\n        return t ? t.getSessionId() + t.getObservableScreenName().getValue() : \"\";\n      }\n      function o(t) {\n        return u(t.getObservableScreenName().getValue());\n      }\n      function a(t) {\n        return c(t.getObservableScreenName().getValue());\n      }\n      function u(t) {\n        return /primary/i.test(t);\n      }\n      function c(t) {\n        return /alternate/i.test(t);\n      }\n      return n.prototype.getNext = function (e, n) {\n        var u = function (e, n) {\n          switch (this.Yi) {\n            case i:\n              return function (e) {\n                return t.reduce(e, function (t, e) {\n                  return t && t.getLastUpdate() > e.getLastUpdate() ? t : e;\n                });\n              }(e);\n            case \"high-availability\":\n              if (this.Zi && !n) return this.Zi;\n              var u = function (e) {\n                var i = this;\n                return t.filter(e, function (t) {\n                  return !r.call(i, t);\n                });\n              }.call(this, e);\n              n && (u = function (e, i) {\n                return t.filter(e, function (t) {\n                  return s(t) !== s(i);\n                });\n              }(u, this.Zi));\n              var c = t.filter(u, o);\n              return 0 === c.length && (c = t.filter(u, a)), 0 === c.length && (c = u), t.sample(c);\n            default:\n              throw new Error(\"Invalid Selection Strategy\");\n          }\n        }.call(this, e, n);\n        return this.getNumberOfBlackListedMembers() > 0 && function () {\n          return t.reduce(this.tn, function (e, i) {\n            return e + t.now() - i.timestamp;\n          }, 0) > 18e4;\n        }.call(this) && !u ? (this.gt.info(\"Unable to select new member. Clearing [%s] black-listed members and trying again\", this.getNumberOfBlackListedMembers()), this.clearBlackListedMembers(), this.getNext(e, n)) : (this.Zi !== u && (u ? this.gt.info(\"Selecting new Member [%s]/[%s]\", u.getSessionId(), u.getObservableScreenName().getValue()) : this.gt.info(\"Unable to select new member\"), this.Zi && !r.call(this, this.Zi) && function (e) {\n          e && this.tn.push({\n            key: s(e),\n            timestamp: t.now()\n          });\n        }.call(this, this.Zi)), this.Zi = u, u);\n      }, n.prototype.getStrategy = function () {\n        return this.Yi;\n      }, n.prototype.clearBlackListedMembers = function () {\n        this.tn = [];\n      }, n.prototype.getNumberOfBlackListedMembers = function () {\n        return this.tn.length;\n      }, n.prototype.reset = function () {\n        this.Zi = null, this.tn = [];\n      }, n.prototype.dispose = function () {\n        this.reset();\n      }, n.getSimilarMembers = function (e, i, n) {\n        var r = t.filter(n, function (t) {\n            return t.getObservableScreenName().getValue() !== e && (!i || t.getSessionId() !== i);\n          }),\n          s = t.filter(r, o),\n          h = t.filter(r, a);\n        return u(e) ? s || h || r : c(e) ? h || s || r : r || s || h;\n      }, n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(2), i(29), i(35), i(26), i(17), i(12), i(13), i(16), i(32), i(14)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c, h, f, d) {\n      \"use strict\";\n\n      var l = [\"streaming\", \"rtmp\"];\n      function m(i) {\n        e.vt(i, \"options\"), i.pcastExpress && e.vt(i.pcastExpress, \"options.pcastExpress\"), this.en = i.pcastExpress || new r(i), this.in = !i.pcastExpress, this.nn = {}, this.rn = [], this.sn = {}, this.an = [], this.un = {}, this.cn = {}, this.gt = this.en.getPCast().getLogger(), this.v = new n.DisposableList(), this.hn = !1, this.fn = new d(i.features);\n        var s = this;\n        this.en.getPCastObservable().subscribe(function (e) {\n          if (!e) {\n            var i = t.assign({}, s.nn);\n            t.forOwn(s.un, function (t) {\n              t.dispose();\n            }), s.en.waitForOnline(function () {\n              t.forOwn(i, function (t) {\n                t.stop(\"pcast-change\");\n              });\n            }, !0), s.gt.info(\"Resetting Room Express after change in pcast.\"), s.un = {}, s.nn = {}, s.an = [];\n          }\n        });\n      }\n      function p(e, i, n) {\n        var r = this,\n          o = t.uniqueId();\n        this.en.waitForOnline(function (t) {\n          if (t) return n(t);\n          var a = v.call(r, e, i);\n          if (a) return n(null, {\n            status: \"ok\",\n            roomService: a\n          });\n          r.nn[o] = new s(r.en.getPCast());\n          var u = function (t, e) {\n            var i = this,\n              n = t.stop,\n              r = t.leaveRoom;\n            return t.stop = function () {\n              n.apply(t, arguments), delete i.nn[e];\n            }, t.leaveRoom = function (e) {\n              var n = t.getObservableActiveRoom().getValue();\n              r.call(t, function (r, s) {\n                return r ? (t.stop(\"leave-room-failure\"), e(r)) : \"ok\" !== s.status && \"not-in-room\" !== s.status ? e(null, s) : (n && i.un[n.getRoomId()] && (i.un[n.getRoomId()].dispose(), delete i.un[n.getRoomId()]), i.gt.info(\"Successfully disposed Express Room Service [%s]\", n ? n.getRoomId() : \"Uninitialized\"), t.stop(\"leave-room\"), e(null, s));\n              });\n            }, t;\n          }.call(r, r.nn[o], o);\n          n(null, {\n            status: \"ok\",\n            roomService: u\n          });\n        });\n      }\n      function v(e, i) {\n        return t.find(this.an, function (t) {\n          var n = t.getObservableActiveRoom().getValue();\n          return n && (n.getRoomId() === e || n.getObservableAlias().getValue() === i);\n        });\n      }\n      function g(e, i, n) {\n        var r = this,\n          s = e.role,\n          o = e.screenName || t.uniqueId();\n        p.call(r, e.roomId, e.alias, function (u, h) {\n          if (u) return i(u);\n          if (\"ok\" !== h.status) return i(null, h);\n          var f = h.roomService,\n            d = f.getObservableActiveRoom(),\n            l = d.getValue(),\n            m = null,\n            p = function () {\n              var t = d.getValue();\n              return t ? (m = t.getObservableMembers().subscribe(n, {\n                initial: \"notify\"\n              }), d.subscribe(function (t) {\n                m && (m.dispose(), m = null), t && (m = t.getObservableMembers().subscribe(n, {\n                  initial: \"notify\"\n                }));\n              })) : r.gt.warn(\"Unable to setup members subscription. Not in room.\");\n            };\n          if (l || f.start(s, o), e.streams && e.streams.length > 0) {\n            var v = e.streams[0];\n            if (e.streamsWildcardTokenCapabilities && !t.includes(e.streams[0].uri, a.getPCastPrefix()) && (e.streams[0].uri = a.getPCastPrefix() + e.streams[0].uri, r.rn.push(e.streams[0].uri)), e.streamsWildcardTokenCapabilities && l && !t.includes(v.uri, \"streamToken\")) return b.call(r, e, v, l, function (e, r) {\n              if (i(e, t.assign({\n                roomService: f\n              }, r)), n) return p();\n            });\n            var g = !e.streamsWildcardTokenCapabilities || l || t.includes(v.uri, \"streamToken\") ? e.role : c.roles.audience.name;\n            (function (t, e, i, n) {\n              var r = i ? i.getObservableActiveRoom().getValue() : null;\n              if (t && i && i.getSelf().setStreams(t), e && i && i.getSelf().getObservableRole().setValue(0 === t.length ? c.roles.audience.name : e), r && i.getSelf()) return R.call(this, i.getSelf(), n);\n            }).call(r, e.streams, g, f, function (t) {\n              if (t) return i(t);\n            });\n          }\n          if (l) return i(null, {\n            status: \"ok\",\n            roomService: f\n          }), void (n && p());\n          f.enterRoom(e.roomId, e.alias, function (s, o) {\n            if (s) return f.stop(\"enter-room-failure\"), i(s);\n            if (\"not-found\" === o.status) return f.stop(\"enter-room-failure\"), i(null, {\n              status: \"room-not-found\"\n            });\n            if (\"ok\" !== o.status && \"already-in-room\" !== o.status) return f.stop(\"enter-room-failure\"), i(null, o);\n            var a = o.room,\n              u = t.get(e, [\"streams\", 0]);\n            return r.an.push(f), e.streamsWildcardTokenCapabilities && u && !t.includes(u.uri, \"streamToken\") ? b.call(r, e, u, a, function (e, r) {\n              if (i(e, t.assign({\n                roomService: f\n              }, r)), n) return p();\n            }) : (i(null, {\n              status: \"ok\",\n              roomService: f\n            }), n ? p() : void 0);\n          });\n        });\n      }\n      function y(e, i) {\n        this.sn[i.getRoomId()] && e && (this.sn[i.getRoomId()] = t.filter(this.sn[i.getRoomId()], function (t) {\n          return t.getStreamId() !== e.getStreamId();\n        }));\n      }\n      function w(e, i, n, r) {\n        var s = function (e, i, n, r, s, o, u) {\n          var c = e.getStream(),\n            h = c ? c.getAudioTracks() : null,\n            d = c ? c.getVideoTracks() : null,\n            l = h.length > 0 && h[0].enabled,\n            m = d.length > 0 && d[0].enabled,\n            p = {\n              uri: a.getPCastPrefix() + e.getStreamId(),\n              type: i,\n              audioState: l ? f.states.trackEnabled.name : f.states.trackDisabled.name,\n              videoState: m ? f.states.trackEnabled.name : f.states.trackDisabled.name\n            },\n            v = t.assign({}, n, {\n              streamToken: void 0,\n              streamTokenForBroadcastStream: void 0,\n              streamTokenForLiveStream: void 0\n            });\n          delete v.streamToken, delete v.streamTokenForBroadcastStream, delete v.streamTokenForLiveStream;\n          var g = t.reduce(v, function (t, e, i) {\n            return t + (t ? \"&\" : \"?\") + i + \"=\" + e;\n          }, \"\");\n          return g.length > 0 && (p.uri = p.uri + g), p;\n        }(i, e.streamType, e.streamInfo);\n        if (s = S(s, \"capabilities\", e.capabilities.join(\",\")), !e.enableWildcardCapability) {\n          var o = v.call(this, n.getRoomId(), n.getObservableAlias().getValue()),\n            u = t.assign({}, e, {\n              streams: T.call(this, s, n)\n            });\n          return I.call(this, u.streams, u.memberRole, o, n, u, r);\n        }\n        return b.call(this, e, s, n, r);\n      }\n      function b(e, i, n, r) {\n        var s,\n          c = this,\n          h = \"high-availability\" === e.viewerStreamSelectionStrategy && n.getObservableType().getValue() === u.types.channel.name,\n          f = [],\n          d = r,\n          m = a.parsePCastStreamIdFromStreamUri(t.get(i, \"uri\", \"\")),\n          p = c.getPCastExpress().getPCast().getProtocol(),\n          g = p ? p.getSessionId() : \"\",\n          y = c.cn[m];\n        if (t.includes(i, \"capabilities\") || (i = S(i, \"capabilities\", e.capabilities.join(\",\"))), h) {\n          var w = o.getSimilarMembers(e.screenName, g, n.getObservableMembers().getValue());\n          f = E(w), d = function (a, u) {\n            r(a, u);\n            var h = t.get(u, \"roomService\", v.call(c, n.getRoomId(), n.getObservableAlias().getValue()));\n            if (!a && \"ok\" === u.status && !s && h) {\n              var d = h.getObservableActiveRoom().getValue();\n              s = d.getObservableMembers().subscribe(function (n) {\n                var a = h.getSelf(),\n                  u = a ? a.getSessionId() : \"\",\n                  l = E(o.getSimilarMembers(e.screenName, u, n)),\n                  p = l.length === f.length && t.reduce(l, function (e, i) {\n                    return e ? t.includes(f, i) : e;\n                  }, !0),\n                  v = a ? a.getObservableStreams().getValue() : [];\n                if (!t.find(v, function (t) {\n                  return t.getPCastStreamId() === m;\n                })) return s.dispose(), void (s = null);\n                p || (c.gt.debug(\"Members with similar content to stream [%s] have changed. Generating new wildcard viewer token\", m), s.dispose(), s = null, b.call(c, e, i, d, function (t, e) {\n                  (t || \"ok\" !== e.status) && r(t, e);\n                }));\n              }), y && y.add(s);\n            }\n          };\n        }\n        return function (e, i, n, r, s) {\n          var o = [],\n            a = 0,\n            u = !1,\n            c = function () {\n              t.forEach(o, function (t) {\n                t.dispose();\n              });\n            },\n            h = function (t, e) {\n              if (!u) {\n                if (t || \"ok\" !== e.status) return c(), u = !0, s(t, e);\n                ++a === o.length && s(null, {\n                  status: \"ok\"\n                });\n              }\n            };\n          this.gt.debug(\"Creating [real-time] and [broadcast] viewer wildcard stream token for published stream [%s] with [%s] additional streams\", i, n.length), o.push(k.call(this, [], i, n, r, \"streamToken\", h)), o.push(k.call(this, [\"broadcast\"], i, n, r, \"streamTokenForBroadcastStream\", h));\n          var f = t.filter(e, t.bind(t.includes, null, l));\n          return f.length > 0 && (this.gt.debug(\"Creating [%s] viewer wildcard stream token for published stream [%s] with [%s] additional streams\", f, i, n.length), o.push(k.call(this, f, i, n, r, \"streamTokenForLiveStream\", h))), t.includes(e, \"drm\") && (this.gt.debug(\"Creating [drm-open-access] and [drm-hollywood] viewer wildcard stream token for published stream [%s] with [%s] additional streams\", i, n.length), o.push(k.call(this, [\"streaming\", \"drm-open-access\"], i, n, r, \"streamTokenForLiveStreamWithDrmOpenAccess\", h)), o.push(k.call(this, [\"streaming\", \"drm-hollywood\"], i, n, r, \"streamTokenForLiveStreamWithDrmHollywood\", h))), c;\n        }.call(this, e.capabilities, m, f, i, function (s, o) {\n          if (s) return r(s);\n          if (\"ok\" !== o.status) return r(null, o);\n          var a = v.call(c, n.getRoomId(), n.getObservableAlias().getValue()),\n            u = t.assign({}, e, {\n              streams: T.call(c, i, n)\n            });\n          return I.call(c, u.streams, u.memberRole, a, n, u, d);\n        });\n      }\n      function k(t, e, i, n, r, s) {\n        return this.en.getAdminAPI().createStreamTokenForSubscribing(\"*\", t, e, i, function (t, e) {\n          return t ? s(t) : \"ok\" !== e.status ? s(null, e) : (n = S(n, r, e.streamToken), void s(null, e));\n        });\n      }\n      function S(t, e, i) {\n        var n = t.uri.indexOf(\"?\"),\n          r = n > -1 ? \"&\" : \"?\",\n          s = t.uri.indexOf(\"#\", -1 === n ? t.uri.length : n),\n          o = -1 === s ? t.uri : t.uri.substring(0, s),\n          a = -1 === s ? \"\" : t.uri.substring(s);\n        return t.uri = o + r + e + \"=\" + i + a, t;\n      }\n      function E(e) {\n        return t.reduce(e, function (e, i) {\n          var n = t.get(i.getObservableStreams().getValue(), \"0\"),\n            r = n ? n.getPCastStreamId() : \"\";\n          return r && e.push(r), e;\n        }, []);\n      }\n      function T(e, i) {\n        var n = this,\n          r = v.call(this, i.getRoomId(), i.getObservableAlias().getValue()),\n          s = e ? [e] : [];\n        if (!r) return s;\n        var o = r.getSelf();\n        if (!o) return s;\n        var u = t.map(o.getObservableStreams().getValue(), function (t) {\n            return t.toJson();\n          }),\n          c = this.sn[i.getRoomId()] || [],\n          h = t.map(c, function (t) {\n            return t.getStreamId();\n          });\n        return u && 0 !== u.length ? (e && (u = t.filter(u, function (t) {\n          var i = t.uri === e.uri,\n            n = a.parsePCastStreamIdFromStreamUri(t.uri),\n            r = !!n && n === a.parsePCastStreamIdFromStreamUri(e.uri),\n            s = e.uri.split(\"?\")[0] === t.uri.split(\"?\")[0],\n            o = t.type === e.type;\n          return !i && !r && !s || !o;\n        })).push(e), t.filter(u, function (e) {\n          return !a.parsePCastStreamIdFromStreamUri(e.uri) || t.includes(h, a.parsePCastStreamIdFromStreamUri(e.uri) || e.uri) || t.includes(n.rn, e.uri.split(\"?\")[0]);\n        })) : s;\n      }\n      function I(e, i, n, r, s, o) {\n        var a = v.call(this, r.getRoomId(), r.getObservableAlias().getValue()),\n          u = n ? n.getObservableActiveRoom().getValue() : null,\n          c = !u && !a;\n        if (this.hn) return this.gt.warn(\"Unable to update self after express room service disposal.\");\n        if (e && a && (this.gt.debug(\"Preparing member streams for update in room [%s].\", r.getRoomId()), a.getSelf().setStreams(e)), i && a && a.getSelf().getObservableRole().getValue() !== i && (this.gt.debug(\"Preparing member role for update in room [%s].\", r.getRoomId()), a.getSelf().getObservableRole().setValue(i)), u && a.getSelf()) return R.call(this, a.getSelf(), o);\n        if (c) {\n          this.gt.info(\"Joining room with member [%s].\", r.getRoomId());\n          var h = t.assign({\n            role: i,\n            alias: t.get(s, [\"room\", \"alias\"]),\n            roomId: t.get(s, [\"room\", \"roomId\"])\n          }, s);\n          g.call(this, h, function (t, e) {\n            return t ? o(t) : \"ok\" !== e.status && \"already-in-room\" !== e.status ? o(null, e) : void o(t, e);\n          });\n        }\n      }\n      function R(t, e) {\n        var i = 0,\n          n = this;\n        try {\n          t.commitChanges(function r(s, o) {\n            return s && i++, o && \"ok\" !== o.status && i++, o && \"ok\" === o.status ? (i = 0, !e || e(null, o)) : i >= 5 ? (n.gt.warn(\"Unable to update self after [%s] attempts.\", 5), e(new Error(\"Unable to update self\"))) : i > 0 && i < 5 ? (n.gt.warn(\"Unable to update self after [%s] attempts. Retrying.\", i), t.commitChanges(r)) : void 0;\n          });\n        } catch (t) {\n          e(t);\n        }\n      }\n      function C(t, e, i) {\n        return e ? t(e) : i.retry ? i.retry() : void t(e, i);\n      }\n      return m.prototype.dispose = function () {\n        this.hn = !0, function () {\n          t.forOwn(this.un, function (t) {\n            t.dispose();\n          }), t.forOwn(this.sn, function (e) {\n            t.forEach(e, function (t) {\n              t.stop(\"dispose\");\n            });\n          }), t.forOwn(this.nn, function (t) {\n            t.stop(\"dispose\");\n          }), this.un = {}, this.sn = {}, this.rn = [], this.nn = {}, this.an = [];\n        }.call(this), this.in && this.en.dispose(), this.v.dispose(), this.gt.info(\"Disposed Room Express Instance\");\n      }, m.prototype.getPCastExpress = function () {\n        return this.en;\n      }, m.prototype.createRoom = function (i, n) {\n        e.pt(n, \"callback\"), e.vt(i.room, \"options.room\"), e.Rt(i.room.name, \"options.room.name\"), e.Rt(i.room.type, \"options.room.type\"), i.room.description && e.Rt(i.room.description, \"options.room.description\");\n        var r = i.room.description || function (t) {\n          switch (i.room.type) {\n            case u.types.channel.name:\n              return \"Room Channel\";\n            case u.types.moderatedChat.name:\n              return \"Moderated Chat\";\n            case u.types.multiPartyChat.name:\n              return \"Multi Party Chat\";\n            case u.types.townHall.name:\n              return \"Town Hall\";\n            case u.types.directChat.name:\n              return \"Direct Chat\";\n            default:\n              throw new Error(\"Unsupported Room Type\");\n          }\n        }();\n        p.call(this, null, null, function (e, s) {\n          if (e) return n(e);\n          if (\"ok\" !== s.status) return n(null, s);\n          var o = s.roomService,\n            a = t.assign({}, i.room);\n          a.description || (a.description = r), o.createRoom(a, function (t, e) {\n            return t ? n(t) : (o.stop(\"create\"), n(null, e));\n          });\n        });\n      }, m.prototype.joinRoom = function (t, i, n) {\n        e.vt(t, \"options\"), e.pt(i, \"joinRoomCallback\"), e.Rt(t.role, \"options.role\"), n && e.pt(n, \"membersChangedCallback\"), t.screenName && e.Rt(t.screenName, \"options.screenName\"), t.roomId && e.Rt(t.roomId, \"options.roomId\"), t.alias && e.Rt(t.alias, \"options.alias\"), t.streams && e.isArray(t.streams, \"options.streams\");\n        var r = this,\n          s = function (e) {\n            e && g.call(r, t, function (t, n) {\n              var r = n;\n              if (r && r.roomService) {\n                var s = r.roomService.leaveRoom;\n                r.roomService.leaveRoom = function (t) {\n                  o && \"offline\" !== e.getObservableStatus() && o.dispose(), s(t);\n                };\n              }\n              i(t, n);\n            }, n);\n          };\n        if (this.en.getPCastObservable()) return s(this.en.getPCastObservable());\n        var o = this.en.getPCastObservable().subscribe(s);\n      }, m.prototype.publishToRoom = function (i, r) {\n        e.vt(i, \"options\"), e.pt(r, \"callback\"), e.vt(i.room, \"options.room\"), i.streamUri ? e.Rt(i.streamUri, \"options.streamUri\") : i.mediaConstraints ? e.vt(i.mediaConstraints, \"options.mediaConstraints\") : e.vt(i.userMediaStream, \"options.userMediaStream\"), i.videoElement && e.vt(i.videoElement, \"options.videoElement\"), i.screenName && e.Rt(i.screenName, \"options.screenName\"), i.capabilities && e.isArray(i.capabilities, \"options.capabilities\"), i.tags && e.isArray(i.tags, \"options.tags\"), i.streamInfo && e.vt(i.streamInfo, \"options.streamInfo\"), i.viewerStreamSelectionStrategy && e.Rt(i.viewerStreamSelectionStrategy, \"options.viewerStreamSelectionStrategy\"), t.isUndefined(i.enableWildcardCapability) && (i.enableWildcardCapability = !0), e.Tt(i.streamType, h.types, \"options.streamType\"), e.Tt(i.memberRole, c.roles, \"options.memberRole\"), e.dn(i.enableWildcardCapability, \"options.enableWildcardCapability\");\n        var s = this,\n          o = i.screenName || t.uniqueId();\n        this.createRoom(i, function (e, a) {\n          if (e) return r(e);\n          if (\"ok\" !== a.status && \"already-exists\" !== a.status) return r(null, a);\n          var h = a.room,\n            d = t.assign({\n              monitor: {\n                callback: t.bind(C, s, r),\n                options: {\n                  conditionCountForNotificationThreshold: 8\n                }\n              },\n              streamInfo: {}\n            }, i);\n          if (h.getObservableType().getValue() === u.types.channel.name ? d.tags = [\"channelId:\" + h.getRoomId()].concat(d.tags || []) : d.tags = [\"roomId:\" + h.getRoomId()].concat(d.tags || []), i.streamUri) {\n            var l = t.assign({\n              connectOptions: []\n            }, d);\n            return t.find(l.connectOptions, function (e) {\n              return t.startsWith(e, \"room-id\");\n            }) || (l.connectOptions = l.connectOptions.concat([\"room-id=\" + h.getRoomId(), \"member-role=\" + i.memberRole, \"member-stream-type=\" + i.streamType, \"screen-name=\" + o])), i.enableWildcardCapability && l.connectOptions.concat([\"member-stream-token-type=Wildcard\", \"member-stream-token-refresh-interval=\" + 3e5]), s.en.publishRemote(l, function (e, i) {\n              r(e, i ? t.assign({\n                roomService: null\n              }, i) : i);\n            });\n          }\n          var m = t.assign({}, i, {\n            role: c.roles.audience.name,\n            roomId: h.getRoomId()\n          });\n          g.call(s, m, function (e, i) {\n            if (e) return r(e);\n            if (\"ok\" !== i.status && \"already-in-room\" !== i.status) return r(null, a);\n            var o = i.roomService.getObservableActiveRoom().getValue();\n            (function (e, i, r) {\n              var s,\n                o,\n                a = this,\n                u = function (e, i) {\n                  r(e, i ? t.assign({\n                    publisher: s\n                  }, i) : i);\n                },\n                h = function (r, h) {\n                  if (o && s && clearInterval(o), r) return u(r);\n                  if (\"ok\" !== h.status) return u(null, h);\n                  (function (t, e) {\n                    this.sn[e.getRoomId()] || (this.sn[e.getRoomId()] = []), this.sn[e.getRoomId()].push(t);\n                  }).call(a, h.publisher, i), y.call(a, s, i), s = h.publisher, a.cn[s.getStreamId()] = new n.DisposableList();\n                  var d = t.bind(s.stop, s);\n                  s.stop = function () {\n                    clearInterval(o), y.call(a, s, i);\n                    var t = T.call(a, null, i),\n                      n = v.call(a, i.getRoomId()),\n                      r = a.cn[s.getStreamId()];\n                    r && (r.dispose(), delete a.cn[s.getStreamId()]), d.apply(s, arguments), n && I.call(a, t, 0 === t.length ? c.roles.audience.name : e.memberRole, n, i, e, function (t) {\n                      if (t) return u(t);\n                    });\n                  }, function (e, i) {\n                    var r = this,\n                      s = r.cn[e.getStreamId()],\n                      o = e.getStream();\n                    if (o) {\n                      var a = o.getTracks();\n                      t.forEach(a, function (a) {\n                        var u = function () {\n                          var n = a.enabled ? f.states.trackEnabled.name : f.states.trackDisabled.name,\n                            s = v.call(r, i.getRoomId());\n                          if (s && s.getSelf()) {\n                            var u = s.getSelf().getObservableStreams().getValue(),\n                              c = t.find(u, function (t) {\n                                return t.getPCastStreamId() === e.getStreamId();\n                              }),\n                              h = function (e) {\n                                var i = t.find(this.an, function (i) {\n                                  var n = i.getSelf(),\n                                    r = n ? n.getObservableStreams().getValue() : [];\n                                  return t.find(r, function (t) {\n                                    return e === t;\n                                  });\n                                });\n                                return i ? i.getSelf() : null;\n                              }.call(r, c);\n                            if (!c) return r.gt.warn(\"[%s] [%s] Unable to update member state change after track state change [%s]. Member stream no longer exists on member model.\", o.id, a.id, a.enabled);\n                            r.gt.info(\"[%s] [%s] Track state changed to [%s], updating room member stream state [%s]\", o.id, a.id, a.enabled, n), \"video\" === a.kind ? c.getObservableVideoState().setValue(n) : c.getObservableAudioState().setValue(n), h && R.call(r, h);\n                          }\n                        };\n                        t.addEventListener(a, \"StateChange\", u), s.add(new n.Disposable(function () {\n                          t.removeEventListener(a, \"StateChange\", u);\n                        }));\n                      });\n                    }\n                  }.call(a, s, i), e.enableWildcardCapability && (o = setInterval(function () {\n                    a.gt.info(\"Refresh wildcard viewer stream token for [%s] interval of [%s] has expired. Creating new token.\", s.getStreamId(), 3e5);\n                    var t = v.call(a, i.getRoomId(), i.getObservableAlias().getValue()),\n                      n = t ? t.getObservableActiveRoom().getValue() : i;\n                    w.call(a, e, s, n, function (t, e) {\n                      (t || \"ok\" !== e.status) && u(t, e);\n                    });\n                  }, 3e5), a.v.add(new n.Disposable(function () {\n                    clearInterval(o);\n                  }))), w.call(a, e, h.publisher, i, u);\n                };\n              if (t.get(e, [\"mediaConstraints\", \"screen\"], !1)) return t.set(e, [\"streamInfo\", \"isScreen\"], !0), this.en.publishScreen(e, h);\n              this.en.publish(e, h);\n            }).call(s, d, o, function (e, n) {\n              r(e, n ? t.assign({\n                roomService: i.roomService\n              }, n) : n);\n            });\n          });\n        });\n      }, m.prototype.publishScreenToRoom = function (e, i) {\n        var n = t.assign({\n          mediaConstraints: {\n            screen: !0\n          }\n        }, e);\n        this.publishToRoom(n, i);\n      }, m.prototype.subscribeToMemberStream = function (i, r, s, o) {\n        if (e.vt(i, \"memberStream\"), e.vt(r, \"options\"), e.pt(s, \"callback\"), o = t.Kt(o) ? o : 0, r.capabilities) throw new Error(\"subscribeToMemberStream options.capabilities is deprecated. Please use the constructor features option\");\n        var u,\n          c,\n          h = this,\n          l = i.getUri(),\n          m = i.getPCastStreamId(),\n          p = i.getInfo(),\n          v = t.get(p, [\"isScreen\"], !1),\n          g = null,\n          y = p.capabilities || (u = l, c = [], a.getInfoFromStreamUri(u).streamTokenForLiveStream && c.push(\"streaming\"), c) || [],\n          w = this.fn.getPreferredFeatureFromPublisherCapabilities(y),\n          b = d.mapFeatureToPCastCapability(w),\n          k = b ? [b] : [],\n          S = this.fn.getFeaturePCastCapabilities(),\n          E = !1;\n        if (!m) throw this.gt.error(\"Invalid Member Stream. Unable to parse streamId from uri\"), new Error(\"Invalid Member Stream. Unable to parse streamId from uri\");\n        if (t.hasIndexOrKey(p, \"capabilities\")) {\n          if (!w) return this.gt.warn(\"Unable to find supported feature. Publisher capabilities [%s]. Requested feature capabilities [%s]\", p.capabilities, this.fn.getFeaturePCastCapabilities()), s(null, {\n            status: \"unsupported-features\"\n          });\n          g = function (t, e) {\n            var i = a.getInfoFromStreamUri(t);\n            switch (e) {\n              case \"rtmp\":\n              case \"hls\":\n              case \"dash\":\n                return i.streamTokenForLiveStream;\n              case \"real-time\":\n                return i.streamToken;\n              default:\n                return;\n            }\n          }(l, w);\n        } else {\n          if (!w) {\n            var T = t.get(S, [o]);\n            if (!T && o >= S.length) return s(null, {\n              status: \"no-supported-features\"\n            });\n            k = T ? [T] : [], w = T ? t.get(d.mapPCastCapabilityToFeatures(T), [0]) : null;\n          }\n          if (!p.streamTokenForLiveStream && \"streaming\" === b) return this.gt.warn(\"Streaming is not available for stream [%].\", m), s(null, {\n            status: \"streaming-not-available\"\n          });\n          g = function (e, i) {\n            var n = a.getInfoFromStreamUri(e),\n              r = n.streamTokenForLiveStream && t.includes(i, \"streaming\"),\n              s = n.streamTokenForLiveStream && t.includes(i, \"rtmp\");\n            if (!t.includes(i, \"drm-open-access\") || !t.includes(i, \"drm-hollywood\")) return r && n.streamTokenForLiveStreamWithDrmOpenAccess && (t.includes(i, \"drm-open-access\") || d.isAndroid()) ? n.streamTokenForLiveStreamWithDrmOpenAccess : r && n.streamTokenForLiveStreamWithDrmHollywood && t.includes(i, \"drm-hollywood\") ? n.streamTokenForLiveStreamWithDrmHollywood : r || s ? n.streamTokenForLiveStream : n.streamTokenForBroadcastStream && t.includes(i, \"broadcast\") ? n.streamTokenForBroadcastStream : t.includes(i, \"streaming\") || t.includes(i, \"broadcast\") || t.includes(i, \"rtmp\") ? void 0 : n.streamToken;\n          }(l, k), E = !0;\n        }\n        this.gt.info(\"Subscribing to member stream with feature [%s] and pre-generated token [%s]\", w, !!g);\n        var I = t.assign({}, {\n            streamId: m,\n            streamToken: g,\n            capabilities: k\n          }, r),\n          R = new n.DisposableList();\n        (function (e, i, r) {\n          var s = this,\n            o = 0,\n            a = function (e, i) {\n              if (e) return r(e);\n              if (\"ok\" !== i.status && \"streaming-not-ready\" !== i.status) return r(null, i);\n              if (o++, \"streaming-not-ready\" === i.status && o < 3) {\n                var a = o * o * 1e3;\n                s.gt.info(\"Waiting for [%s] ms before retrying after [streaming-not-ready] status.\", a);\n                var u = setTimeout(i.retry, a);\n                s.v.add(new n.Disposable(function () {\n                  clearTimeout(u);\n                }));\n              } else {\n                if (\"streaming-not-ready\" === i.status && o >= 3) return r(null, {\n                  status: i.status\n                });\n                var c = t.assign({}, i, {\n                  status: \"ok\"\n                });\n                if (o > 1) return c.reason = \"stream-failure-recovered\", r(null, c);\n                r(null, c);\n              }\n            };\n          return i ? s.en.subscribeToScreen(e, a) : s.en.subscribe(e, a);\n        }).call(this, I, v, function (e, n) {\n          if (R.dispose(), n && \"ok\" === n.status && n.mediaStream && n.mediaStream.getStream() && (R.add(i.getObservableAudioState().subscribe(function (t) {\n            var e = n.mediaStream.getMonitor(),\n              i = n.mediaStream.getStream().getAudioTracks();\n            e && 1 === i.length && e.setMonitorTrackState(i[0], t === f.states.trackEnabled.name);\n          }, {\n            initial: \"notify\"\n          })), R.add(i.getObservableVideoState().subscribe(function (t) {\n            var e = n.mediaStream.getMonitor(),\n              i = n.mediaStream.getStream().getVideoTracks();\n            e && 1 === i.length && e.setMonitorTrackState(i[0], t === f.states.trackEnabled.name);\n          }, {\n            initial: \"notify\"\n          }))), e && 6 === parseInt(e.category)) return s(e, {\n            status: \"device-insecure\"\n          });\n          if (n && (\"failed\" === n.status || \"streaming-not-available\" === n.status) && E && o < S.length) return h.gt.info(\"Attempting to subscribe to member stream with next available feature after failure\"), h.subscribeToMemberStream(i, r, s, o + 1);\n          var a = t.assign({\n            originStreamId: m\n          }, n);\n          s(e, a);\n        });\n      }, m;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(6), i(2)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      var r = 2e4,\n        s = {\n          timeout: r,\n          retryOptions: {\n            backoff: 1.5,\n            delay: 1e3,\n            maxAttempts: 3,\n            additionalRetryErrorCodes: [0]\n          }\n        },\n        o = {\n          body: {\n            id: 1,\n            name: \"body\"\n          },\n          header: {\n            id: 2,\n            name: \"header\"\n          }\n        },\n        a = {\n          createStreamTokenPath: \"/stream\",\n          createAuthTokenPath: \"/auth\"\n        },\n        u = {\n          auth: {\n            id: 1,\n            name: \"auth\"\n          },\n          stream: {\n            id: 2,\n            name: \"stream\"\n          }\n        };\n      function c() {\n        this.ln = null, this.mn = \"\", this.pn = a, this.vn = {}, this.gn = o.body.name, this.v = new n.DisposableList();\n      }\n      function h(e, i) {\n        var s = null,\n          o = e(t.bind(d, this, function (t, e) {\n            clearTimeout(s), i(t, e);\n          }));\n        return s = setTimeout(function () {\n          o.dispose(), i(new Error(\"timeout\"));\n        }, r), this.v.add(o), this.v.add(new n.Disposable(function () {\n          clearTimeout(s);\n        })), o;\n      }\n      function f(e, i, n, r, s) {\n        switch (this.gn) {\n          case o.body.name:\n            r = function (e) {\n              return t.assign({}, e, this.vn);\n            }.call(this, r);\n            break;\n          case o.header.name:\n            s = function (e) {\n              return e.headers ? (e.headers = t.assign({}, this.vn, e.headers), e) : t.assign({}, {\n                headers: this.vn\n              }, e);\n            }.call(this, s);\n            break;\n          default:\n            throw new Error(\"Unsupported Authentication Mode \" + this.gn);\n        }\n        return t.bind(e, i, n, JSON.stringify(r), s);\n      }\n      function d(t, e, i) {\n        if (e) return t(e, {});\n        var n = JSON.parse(i.data);\n        return \"ok\" !== n.status ? t(null, {\n          status: n.status\n        }) : t(null, n);\n      }\n      function l(t, e, i, n) {\n        if (!n || i) return e(i, {\n          status: \"failed\"\n        });\n        var r = {\n          status: \"ok\"\n        };\n        switch (t) {\n          case u.auth.name:\n            r.authenticationToken = n;\n            break;\n          case u.stream.name:\n            r.streamToken = n;\n            break;\n          default:\n            throw new Error(\"Unsupported request type \" + t);\n        }\n        return e(i, r);\n      }\n      return c.prototype.dispose = function () {\n        return this.v.dispose();\n      }, c.prototype.toString = function () {\n        return \"AdminApiProxyClient[customRequestHandler=\" + (!!this.ln).toString() + \",backendUri=\" + this.mn + \",authenticationDataLocationInPayload=\" + this.gn + \",customEndpointPaths=\" + (this.pn === a).toString() + \",customAuthenticationData=\" + (t.keys(this.vn).length > 0).toString() + \"]\";\n      }, c.prototype.getBackendUri = function () {\n        return this.mn;\n      }, c.prototype.setBackendUri = function (t) {\n        e.Wt(t, \"backendUri\"), this.mn = t;\n      }, c.prototype.getEndpointPaths = function () {\n        return t.assign({}, this.pn);\n      }, c.prototype.setEndpointPaths = function (i) {\n        e.vt(i, \"endpointPaths\"), i.createStreamTokenPath && e.Rt(i.createStreamTokenPath, \"endpointPaths.createStreamTokenPath\"), i.createAuthTokenPath && e.Rt(i.createAuthTokenPath, \"endpointPaths.createAuthTokenPath\"), this.pn = t.assign({}, a, i);\n      }, c.prototype.getAuthenticationData = function () {\n        return t.assign({}, this.vn);\n      }, c.prototype.setAuthenticationData = function (t) {\n        e.vt(t, \"authenticationData\"), this.vn = t;\n      }, c.prototype.getAuthenticationDataLocationInPayload = function () {\n        return this.gn;\n      }, c.prototype.setAuthenticationDataLocationInPayload = function (t) {\n        e.Tt(t, o, \"authenticationDataLocationInPayload\"), this.gn = t;\n      }, c.prototype.getRequestHandler = function () {\n        return this.ln;\n      }, c.prototype.setRequestHandler = function (i) {\n        if (e.pt(i, \"callback\"), this.mn) throw new Error(\"Conflicting parameter [backendUri]\");\n        if (t.keys(this.vn).length > 0) throw new Error(\"Conflicting parameter [authenticationData]\");\n        if (this.gn !== o.body.name) throw new Error(\"Conflicting parameter [authenticationDataLocationInPayload]\");\n        if (this.pn !== a) throw new Error(\"Conflicting parameter [endpointPaths]\");\n        this.ln = i;\n      }, c.prototype.createAuthenticationToken = function (e) {\n        if (this.ln) return this.ln(u.auth.name, {}, t.bind(l, this, u.auth.name, e));\n        var n = f.call(this, i.postWithRetry, i, this.mn + this.pn.createAuthTokenPath, {}, s);\n        return h.call(this, n, e);\n      }, c.prototype.createStreamTokenForPublishing = function (n, r, o) {\n        e.Rt(n, \"sessionId\"), e.vt(r, \"capabilities\");\n        var a = {\n          sessionId: n,\n          capabilities: r\n        };\n        if (this.ln) return this.ln(u.stream.name, a, t.bind(l, this, u.stream.name, o));\n        var c = f.call(this, i.postWithRetry, i, this.mn + this.pn.createStreamTokenPath, a, s);\n        return h.call(this, c, o);\n      }, c.prototype.createStreamTokenForPublishingToExternal = function (t, e, i, n) {\n        this.createStreamTokenForSubscribing(t, e, i, null, n);\n      }, c.prototype.createStreamTokenForSubscribing = function (n, r, o, a, c) {\n        e.Rt(n, \"sessionId\"), e.vt(r, \"capabilities\"), t.isNullOrUndefined(a) || (e.isArray(a, \"additionalStreamIds\"), t.forEach(a, function (t) {\n          e.Rt(t, \"alternateOriginStreamId\");\n        }));\n        var d = {\n          sessionId: n,\n          capabilities: r,\n          originStreamId: o\n        };\n        if (a && a.length > 0 && (d.alternateOriginStreamIds = a), this.ln) return this.ln(u.stream.name, d, t.bind(l, this, u.stream.name, c));\n        var m = f.call(this, i.postWithRetry, i, this.mn + this.pn.createStreamTokenPath, d, s);\n        return h.call(this, m, c);\n      }, c;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(15), i(28), i(30), i(47), i(3), i(52)], void 0 === (r = function (t, e, i, n, r, s, o, a, u) {\n      \"use strict\";\n\n      var c = \"unauthorized\",\n        h = 1e3,\n        f = 2e4,\n        d = {\n          maxOfflineTime: 18e4,\n          maxReconnectFrequency: 6e4\n        };\n      function l(n) {\n        if (e.vt(n, \"options\"), n.authToken && e.Rt(n.authToken, \"options.authToken\"), n.onError && e.pt(n.onError, \"options.onError\"), !t.isNullOrUndefined(n.onlineTimeout) && (e.Kt(n.onlineTimeout, \"options.onlineTimeout\"), n.onlineTimeout < 0)) throw new Error('\"options.onlineTimeout\" must be a positive number');\n        n.reconnectOptions && (e.vt(n.reconnectOptions, \"options.reconnectOptions\"), e.Kt(n.reconnectOptions.maxOfflineTime, \"options.reconnectOptions.maxOfflineTime\"), e.Kt(n.reconnectOptions.maxReconnectFrequency, \"options.reconnectOptions.maxReconnectFrequency\")), n.adminApiProxyClient && (e.vt(n.adminApiProxyClient, \"options.adminApiProxyClient\"), e.pt(n.adminApiProxyClient.createAuthenticationToken, \"options.adminApiProxyClient.createAuthenticationToken\")), this.yn = new i.Observable(null).extend({\n          rateLimit: 0\n        }), this.wn = {}, this.bn = n.adminApiProxyClient || new r(), this.kn = !1, this.Sn = 0, this.En = 0, this.Tn = n.authToken, this.Bi = n.onError, this.h = n, this.In = t.Kt(n.onlineTimeout) ? n.onlineTimeout : f, this.Rn = n.reconnectOptions || d, this.gt = null, this.Cn = {}, n.adminApiProxyClient || (this.bn.setBackendUri(n.backendUri), this.bn.setAuthenticationData(n.authenticationData)), p.call(this), n.adminApiProxyClient || (n.backendUri && this.gt.warn(\"Passing options.backendUri is deprecated. Please create an instance of the sdk.net.AdminApiProxyClient and pass that instead\"), n.authenticationData && this.gt.warn(\"Passing options.authenticationData is deprecated. Please create an instance of the sdk.net.AdminApiProxyClient and pass that instead\"));\n      }\n      l.prototype.dispose = function () {\n        this.Mn && (this.Mn.dispose(), this.Mn = null), this.yn.getValue() && (this.yn.getValue().stop(), this.yn.setValue(null)), t.Kt(this.Pn) && (clearTimeout(this.Pn), this.Pn = null), this.bn.dispose(), this.En = 0, this.Sn = 0, this.gt.info(\"Disposed PCast Express Instance\");\n      }, l.prototype.getPCast = function () {\n        return this.yn.getValue();\n      }, l.prototype.getPCastObservable = function () {\n        return this.yn;\n      }, l.prototype.getAdminAPI = function () {\n        return this.bn;\n      }, l.prototype.getUserMedia = function (t, i) {\n        var n = this;\n        if (e.vt(t.mediaConstraints, \"options.mediaConstraints\"), e.pt(i, \"callback\"), t.resolution && e.Kt(t.resolution, \"options.resolution\"), t.frameRate && e.Kt(t.frameRate, \"options.frameRate\"), t.aspectRatio && e.Rt(t.aspectRatio, \"options.aspectRatio\"), t.onResolveMedia && e.pt(t.onResolveMedia, \"options.onResolveMedia\"), t.onScreenShare && e.pt(t.onScreenShare, \"options.onScreenShare\"), n.yn.getValue()) return b.call(n, n.yn.getValue(), t, i);\n        var r = n.yn.subscribe(function (e) {\n          e && (r.dispose(), b.call(n, e, t, i));\n        });\n      }, l.prototype.publish = function (t, i) {\n        e.vt(t, \"options\"), e.pt(i, \"callback\"), t.capabilities && e.isArray(t.capabilities, \"options.capabilities\"), t.connectOptions && e.isArray(t.connectOptions, \"options.connectOptions\"), t.mediaConstraints ? e.vt(t.mediaConstraints, \"options.mediaConstraints\") : e.vt(t.userMediaStream, \"options.userMediaStream\"), t.videoElement && e.vt(t.videoElement, \"options.videoElement\"), t.monitor && (e.vt(t.monitor, \"options.monitor\"), e.pt(t.monitor.callback, \"options.monitor.callback\"), t.monitor.options && e.vt(t.monitor.options, \"options.monitor.options\")), t.streamToken && e.Rt(t.streamToken, \"options.streamToken\");\n        var n = this;\n        this.waitForOnline(function (e) {\n          return e ? i(e) : t.userMediaStream ? k.call(n, t.userMediaStream, t, !1, i) : void n.getUserMedia(t, function (e, r) {\n            return e ? i(e) : \"ok\" !== r.status ? i(null, r) : void k.call(n, r.userMedia, t, !0, i);\n          });\n        }, t.isContinuation);\n      };\n      var m = [\"streaming\", \"low-latency\", \"on-demand\", \"uld\", \"vvld\", \"vld\", \"ld\", \"sd\", \"hd\", \"fhd\", \"uhd\"];\n      function p() {\n        var e = this;\n        if (!this.yn.getValue()) {\n          var i = t.assign({\n            logger: this.gt\n          }, this.h);\n          this.yn.setValue(new o(i));\n        }\n        if (this.gt || (this.gt = this.yn.getValue().getLogger()), this.xn || (this.xn = this.yn.getValue().getObservableStatus().subscribe(t.bind(v, this))), this.Tn) return this.yn.getValue().start(this.Tn, t.noop, t.noop, t.noop);\n        this.bn.createAuthenticationToken(function (i, n) {\n          return i && \"timeout\" === i.message ? v.call(e, i.message) : i ? w.call(e, i) : \"ok\" !== n.status ? v.call(e, n.status) : e.yn.getValue() ? void e.yn.getValue().start(n.authenticationToken, t.noop, t.noop, t.noop) : e.gt.warn(\"Unable to authenticate. PCast not instantiated.\");\n        });\n      }\n      function v(t) {\n        switch (t) {\n          case \"timeout\":\n          case \"critical-network-issue\":\n            return this.yn.getValue() && (this.yn.getValue().stop(\"recovery\"), this.yn.setValue(null)), this.xn && (this.xn.dispose(), this.xn = null), this.En++, g.call(this);\n          case \"reconnect-failed\":\n          case \"unauthorized\":\n            return delete this.Tn, this.Sn++, this.Sn > 1 ? w.call(this, new Error(t)) : (this.gt.info(\"[Express] Attempting to create new authToken and re-connect after [%s] response\", c), y.call(this));\n          case \"capacity\":\n          case \"network-unavailable\":\n            return this.En++, g.call(this);\n          case \"online\":\n            return this.Sn = 0, this.En = 0, this.kn || this.gt.info(\"Express API successfully instantiated\"), void (this.kn = !0);\n          case \"reconnecting\":\n          case \"reconnected\":\n          case \"connecting\":\n            break;\n          case \"offline\":\n            return;\n          case \"failed\":\n          default:\n            return w.call(this, new Error(t));\n        }\n      }\n      function g() {\n        var t = this,\n          e = Math.min(h * t.En * t.En, this.Rn.maxReconnectFrequency),\n          i = Math.min(e / 1e4, 5),\n          n = e + Math.random() * i * 1e3;\n        this.gt.info(\"Waiting for [%s] ms before continuing to attempt to reconnect to PCast\", n), this.Pn = setTimeout(function () {\n          return t.yn.getValue() && t.yn.getValue().isStarted() ? y.call(t) : p.call(t);\n        }, n);\n      }\n      function y() {\n        var t = this;\n        this.bn.createAuthenticationToken(function (e, i) {\n          return e && \"timeout\" === e.message ? v.call(t, e.message) : e ? w.call(t, e) : \"ok\" !== i.status ? v.call(t, i.status) : t.yn.getValue() ? void t.yn.getValue().reAuthenticate(i.authenticationToken) : t.gt.warn(\"Unable to authenticate. PCast not instantiated.\");\n        });\n      }\n      function w(t) {\n        if (!this.Bi) throw t;\n        this.Bi(t);\n      }\n      function b(i, n, r) {\n        new s(i, {\n          aspectRatio: n.aspectRatio,\n          resolutionHeight: n.resolution,\n          frameRate: n.frameRate,\n          resolutionSelectionStrategy: n.resolutionSelectionStrategy,\n          onScreenShare: function (i) {\n            return (i = n.onScreenShare ? n.onScreenShare(i) : i).resolution && e.Kt(i.resolution, \"clientOptions.resolution\"), i.frameRate && e.Kt(i.frameRate, \"screenOptions.frameRate\"), i.aspectRatio && e.Rt(i.aspectRatio, \"screenOptions.aspectRatio\"), t.assign({\n              resolutionHeight: i.resolution\n            }, i);\n          }\n        }).getUserMedia(n.mediaConstraints, function (e, i) {\n          if (e) return r(e);\n          n.onResolveMedia && n.onResolveMedia(i.options), r(null, t.assign({\n            status: \"ok\"\n          }, i));\n        });\n      }\n      function k(i, n, r, s) {\n        var o = this;\n        if (e.isArray(n.capabilities, \"options.capabilities\"), n.streamToken) return S.call(o, n.streamToken, i, n, r, s);\n        o.waitForOnline(function (e) {\n          if (e) return o.gt.error(\"Failed to create stream token for publishing after waiting for online status\", e), s(e);\n          var a = o.yn.getValue().getProtocol().getSessionId(),\n            u = t.includes(n.capabilities, \"egress\"),\n            c = t.bind(o.bn.createStreamTokenForPublishing, o.bn, a, n.capabilities);\n          u && (c = t.bind(o.bn.createStreamTokenForPublishingToExternal, o.bn, a, n.capabilities, n.streamId)), o.gt.info(\"[%s] Creating stream token for publishing\", a), c(function (t, e) {\n            return t ? (o.gt.error(\"[%s] Failed to create stream token for publishing\", a, t), s(t)) : \"ok\" !== e.status ? (o.gt.warn(\"[%s] Failed to create stream token for publishing with status [%s]\", a, e.status), s(null, e)) : void S.call(o, e.streamToken, i, n, r, s);\n          });\n        }, n.isContinuation);\n      }\n      function S(i, n, r, s, o) {\n        var u = this,\n          h = !1,\n          f = null;\n        r.tags && e.isArray(r.tags, \"options.tags\"), r.connectOptions && e.isArray(r.connectOptions, \"options.connectOptions\");\n        var d = function (e, d, l) {\n          var m = function (e) {\n            var a = t.assign({\n              streamToken: i,\n              isContinuation: !0\n            }, r);\n            u.gt.warn(\"Retrying publisher after failure with reason [%s]\", e), u.Cn[l.getStreamId()] = !0, \"camera-track-failure\" === e ? (l.stop(e, !1), u.publish(r, o)) : (l.stop(e, !0), k.call(u, n, a, s, o));\n          };\n          if (d === c && (r.streamToken || !r.authFailure) || \"timeout\" === d) {\n            u.gt.info(\"[Express] Attempting to create new streamToken and re-publish after [%s] response\", c);\n            var p = t.assign({\n              isContinuation: !0,\n              authFailure: !0\n            }, r);\n            return delete p.streamToken, k.call(u, n, p, s, o);\n          }\n          if (\"ok\" !== d) return u.gt.warn(\"Failure to publish with status [%s]\", d), f && (u.Cn[f.getStreamId()] = !0), o(null, {\n            status: d\n          });\n          delete r.authFailure, u.wn[l.getStreamId()] = l, f = l;\n          var v = t.bind(M, u, function () {}, m, !0);\n          if (r.monitor) {\n            var g = t.bind(C, u, r.monitor.callback, m);\n            l.monitor(r.monitor.options || {}, g), v = t.bind(M, u, r.monitor.callback, m, !0);\n          }\n          l.setPublisherEndedCallback(v);\n          var y = function (e, i, n) {\n            var r = t.bind(e.stop, e);\n            return e.stop = function (t, s) {\n              if (r(t), i && (i.src = \"\", i.srcObject = null), n && e.getStream() && !s) {\n                var o = e.getStream();\n                o && o.getTracks().forEach(function (t) {\n                  t.stop();\n                });\n              }\n            }, e.enableAudio = function () {\n              return T(e.getStream(), !0);\n            }, e.disableAudio = function () {\n              return T(e.getStream(), !1);\n            }, e.enableVideo = function () {\n              return I(e.getStream(), !0);\n            }, e.disableVideo = function () {\n              return I(e.getStream(), !1);\n            }, e.setPublisherEndedCallback = function () {}, e;\n          }.call(u, l, r.videoElement, s);\n          r.videoElement && !h && (a.attachMediaStream(r.videoElement, n, function (t) {\n            t && u.gt.warn(\"[%s] Failed to attach publish media stream to video element.\", l.getStreamId(), t);\n          }), h = !0), o(null, {\n            status: \"ok\",\n            publisher: y\n          });\n        };\n        u.waitForOnline(function (t) {\n          if (t) return o(t);\n          u.yn.getValue().publish(i, n, d, r.tags, {\n            connectOptions: r.connectOptions\n          });\n        }, r.isContinuation);\n      }\n      function E(e, i, r) {\n        var s = this,\n          o = null,\n          a = function (a, h, f) {\n            var d,\n              l = function (n) {\n                var o = t.assign({\n                  isContinuation: !0\n                }, i);\n                s.Cn[f.getStreamId()] = !0, f.stop(n), s.gt.warn(\"[%s] Stream failure occurred with reason [%s]. Attempting to recover from failure.\", i.streamId, n), E.call(s, e, o, r);\n              };\n            if (h === c && (i.streamToken || !i.authFailure) || \"timeout\" === h) {\n              s.gt.info(\"[%s] [Express] Attempting to create new streamToken and re-subscribe after [%s] response\", i.streamId, c);\n              var m = t.assign({\n                isContinuation: !0,\n                authFailure: !0\n              }, i);\n              return delete m.streamToken, s.subscribe(m, r);\n            }\n            if (\"streaming-not-ready\" === h) return s.gt.warn(\"Failure to subscribe with status [%s]. Try again in a few seconds.\", h), r(null, {\n              status: h,\n              retry: t.bind(l, s, h)\n            });\n            if (\"ok\" !== h) return s.gt.warn(\"Failure to subscribe with status [%s]\", h), o && (s.Cn[o.getStreamId()] = !0), r(null, {\n              status: h\n            });\n            delete i.authFailure, o = f, i.videoElement && (d = f.createRenderer()).start(i.videoElement);\n            var p = t.noop,\n              v = t.bind(M, s, p, l, !1);\n            if (i.monitor) {\n              var g = t.bind(C, s, i.monitor.callback, l);\n              f.monitor(i.monitor.options || {}, g), v = t.bind(M, s, i.monitor.callback, l, !1);\n            }\n            f.setStreamEndedCallback(v);\n            var y = function (e, i) {\n                var n = t.bind(e.stop, e);\n                return e.stop = function (t) {\n                  i && i.stop(t), n(t);\n                }, e.enableAudio = function () {\n                  return T(e.getStream(), !0);\n                }, e.disableAudio = function () {\n                  return T(e.getStream(), !1);\n                }, e.enableVideo = function () {\n                  return I(e.getStream(), !0);\n                }, e.disableVideo = function () {\n                  return I(e.getStream(), !1);\n                }, e.setStreamEndedCallback = function () {}, e;\n              }.call(s, f, d),\n              w = {\n                status: \"ok\",\n                mediaStream: y\n              };\n            f.setStreamErrorCallback(function (e, o, a) {\n              if (\"real-time\" === o && \"connection-timeout\" === a.message) return l.call(s, a.message);\n              if (\"shaka\" !== o || a.severity === u.errorSeverity.critical.id) {\n                if (\"phenix-player\" === o && a.severity === n.errors.severity.RECOVERABLE) {\n                  s.gt.warn(\"[%s] Recoverable error occurred while playing stream with Express API. Attempting to subscribe again.\", y.getStreamId(), a);\n                  var c = t.assign({\n                    isContinuation: !0\n                  }, i);\n                  return delete c.streamToken, s.subscribe(c, r);\n                }\n                return s.gt.warn(\"[%s] Error occurred while playing stream with Express API. Stopping stream.\", y.getStreamId(), a), y.stop(), r(a);\n              }\n            }), d && (w.renderer = d), r(null, w);\n          };\n        s.waitForOnline(function (t) {\n          if (t) return r(t);\n          s.yn.getValue().subscribe(e, a, i.subscriberOptions);\n        }, i.isContinuation);\n      }\n      function T(t, e) {\n        if (t) return R(t.getAudioTracks(), e), e;\n      }\n      function I(t, e) {\n        if (t) return R(t.getVideoTracks(), e), e;\n      }\n      function R(i, n) {\n        e.isArray(i, \"tracks\"), t.forEach(i, function (t) {\n          t.enabled = n;\n        });\n      }\n      function C(e, i, n, r, s) {\n        switch (r) {\n          case \"camera-track-failure\":\n          case \"client-side-failure\":\n            e(null, t.assign({\n              status: r,\n              retry: t.bind(i, null, r)\n            }, s));\n        }\n      }\n      function M(t, e, i, n, r, s) {\n        var o = {\n          status: \"stream-ended\",\n          reason: r,\n          description: s\n        };\n        if (this.Cn[n.getStreamId()]) return this.gt.info(\"Ignoring stream end due to recovery in progress [%s]\", n.getStreamId());\n        switch (r) {\n          case \"egress-setup-failed\":\n          case \"ended\":\n          case \"censored\":\n            var a = {\n              status: r,\n              reason: r,\n              description: s\n            };\n            return i ? a.publisher = n : a.mediaStream = n, t(null, a);\n          case \"custom\":\n            return t(null, o);\n          case \"egress-failed\":\n          case \"capacity\":\n            return setTimeout(function () {\n              return e(r);\n            }, h);\n          case \"failed\":\n          case \"maintenance\":\n          case \"overload\":\n            return e(r);\n          case \"app-background\":\n          default:\n            return o.retry = e, t(null, o);\n        }\n      }\n      return l.prototype.publishRemote = function (i, n) {\n        if (e.vt(i, \"options\"), e.pt(n, \"callback\"), e.Rt(i.streamUri, \"options.streamUri\"), i.capabilities && e.isArray(i.capabilities, \"options.capabilities\"), i.connectOptions && e.isArray(i.connectOptions, \"options.connectOptions\"), i.mediaConstraints) throw new Error(\"Invalid argument: mediaConstraints, passed on publishRemote. Local media not allowed when publishing remote content.\");\n        if (i.videoElement) throw new Error(\"May not view remote stream publisher. Please subscribe to view.\");\n        i.prerollSkipDuration && e.Kt(i.prerollSkipDuration, \"options.prerollSkipDuration\"), i.monitor && (e.vt(i.monitor, \"options.monitor\"), e.pt(i.monitor.callback, \"options.monitor.callback\"), i.monitor.options && e.vt(i.monitor.options, \"options.monitor.options\")), i.frameRate && (e.vt(i.frameRate, \"options.frameRate\"), i.frameRate.exact && e.Kt(i.frameRate.exact, \"options.frameRate.exact\"), i.frameRate.max && e.Kt(i.frameRate.max, \"options.frameRate.max\")), i.streamToken && e.Rt(i.streamToken, \"options.streamToken\");\n        var r = this;\n        this.waitForOnline(function (e) {\n          if (e) return n(e);\n          var s = t.assign({\n            connectOptions: [],\n            capabilities: []\n          }, i);\n          t.includes(s.capabilities, \"publish-uri\") || s.capabilities.push(\"publish-uri\"), t.forEach(m, function (e) {\n            t.includes(s.capabilities, e) && s.connectOptions.push(\"publisher-capability=\" + e);\n          }), i.frameRate && i.frameRate.exact && s.connectOptions.push(\"source-uri-video-fps=\" + i.frameRate.exact), i.frameRate && i.frameRate.max && s.connectOptions.push(\"source-uri-video-fps-max=\" + i.frameRate.max), s.connectOptions.push(\"source-uri-preroll-skip-duration=\" + (t.Kt(i.prerollSkipDuration) ? i.prerollSkipDuration : 500).toString()), k.call(r, s.streamUri, s, !1, n);\n        });\n      }, l.prototype.publishStreamToExternal = function (i, n) {\n        if (e.vt(i, \"options\"), e.pt(n, \"callback\"), e.Rt(i.streamId, \"options.streamId\"), e.Rt(i.externalUri, \"options.externalUri\"), i.capabilities && e.isArray(i.capabilities, \"options.capabilities\"), i.connectOptions && e.isArray(i.connectOptions, \"options.connectOptions\"), i.mediaConstraints) throw new Error(\"Invalid argument: mediaConstraints, passed on publishStreamToExternal. Local media not allowed when publishing remote content.\");\n        if (i.videoElement) throw new Error(\"May not view remote stream publisher. Please subscribe to view.\");\n        i.monitor && (e.vt(i.monitor, \"options.monitor\"), e.pt(i.monitor.callback, \"options.monitor.callback\"), i.monitor.options && e.vt(i.monitor.options, \"options.monitor.options\")), i.streamToken && e.Rt(i.streamToken, \"options.streamToken\");\n        var r = this;\n        this.waitForOnline(function (e) {\n          if (e) return n(e);\n          var s = t.assign({\n            connectOptions: [],\n            capabilities: []\n          }, i);\n          t.includes(s.capabilities, \"egress\") || s.capabilities.push(\"egress\"), t.includes(s.capabilities, \"egress-own-stream\") || s.capabilities.push(\"egress-own-stream\"), k.call(r, s.externalUri, s, !1, n);\n        });\n      }, l.prototype.publishScreen = function (e, i) {\n        var n = t.assign({\n          mediaConstraints: {\n            screen: !0\n          }\n        }, e);\n        return t.set(n, [\"monitor\", \"options\"], t.assign({}, {\n          monitorFrameRate: !1,\n          videoBitRateThreshold: 100,\n          conditionCountForNotificationThreshold: 8\n        }, t.get(n, [\"monitor\", \"options\"], {}))), this.publish(n, i);\n      }, l.prototype.subscribe = function (t, i) {\n        e.vt(t, \"options\"), e.pt(i, \"callback\"), e.Rt(t.streamId, \"options.streamId\"), e.vt(t.capabilities, \"options.capabilities\"), t.videoElement && e.vt(t.videoElement, \"options.videoElement\"), t.monitor && (e.vt(t.monitor, \"options.monitor\"), e.pt(t.monitor.callback, \"options.monitor.callback\"), t.monitor.options && e.vt(t.monitor.options, \"options.monitor.options\")), t.streamToken && e.Rt(t.streamToken, \"options.streamToken\"), t.subscriberOptions && e.vt(t.subscriberOptions, \"options.subscriberOptions\");\n        var n = this;\n        this.waitForOnline(function (e) {\n          return e ? (n.gt.error(\"Failed to subscribe after error waiting for online status\", e), i(e)) : t.streamToken ? E.call(n, t.streamToken, t, i) : (n.gt.info(\"[%s] Generating stream token for subscribing to origin [%s]\", n.yn.getValue().getProtocol().getSessionId(), t.streamId), void n.bn.createStreamTokenForSubscribing(n.yn.getValue().getProtocol().getSessionId(), t.capabilities, t.streamId, null, function (e, r) {\n            return e ? (n.gt.error(\"Failed to create stream token for subscribing\", e), i(e)) : \"ok\" !== r.status ? (n.gt.warn(\"Failed to create stream token for subscribing with status [%s]\", r.status), i(null, r)) : void E.call(n, r.streamToken, t, i);\n          }));\n        }, t.isContinuation);\n      }, l.prototype.subscribeToScreen = function (e, i) {\n        var n = t.assign({}, e);\n        return t.set(n, [\"monitor\", \"options\"], t.assign({}, {\n          monitorFrameRate: !1,\n          videoBitRateThreshold: 100,\n          conditionCountForNotificationThreshold: 8\n        }, t.get(n, [\"monitor\", \"options\"], {}))), this.subscribe(n, i);\n      }, l.prototype.waitForOnline = function (i, n) {\n        if (e.pt(i, \"callback\"), this.yn.getValue() && \"online\" === this.yn.getValue().getStatus()) return i();\n        var r = this,\n          s = n ? t.get(r.Rn, [\"maxOfflineTime\"]) : this.In,\n          o = null,\n          a = null,\n          u = setTimeout(function () {\n            r.gt.info(\"Disposing of Express Online listener after [%s] ms\", s), o && o.dispose(), a && a.dispose(), i(new Error(\"timeout\"));\n          }, s);\n        this.gt.info(\"Waiting for Online status before continuing. Timeout set to [%s]\", s);\n        var c = function (t) {\n          a && a.dispose(), t && (a = t.getObservableStatus().subscribe(function (t) {\n            if (\"online\" === t) return clearTimeout(u), a.dispose(), o.dispose(), i();\n          }, {\n            initial: \"notify\"\n          }));\n        };\n        this.yn.getValue() && c(this.yn.getValue()), o = this.yn.subscribe(c);\n      }, l;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(3), i(53)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      function r(i, n) {\n        e.vt(i, \"pcast\"), n && e.vt(n, \"options\"), n && n.screenShare && e.pt(n.screenShare, \"options.screenShare\"), this.Dn = i, this.gt = i.getLogger(), this.h = n || {}, this.An = t.get(n, [\"onScreenShare\"]);\n      }\n      return r.prototype.getUserMedia = function (r, s) {\n        e.vt(r, \"deviceOptions\");\n        var o = new n(this.h),\n          a = o.getDefaultResolution(),\n          u = o.getDefaultFrameRate();\n        (function e(n, r, s, o, a) {\n          var u = this.getVendorSpecificConstraints(n, r || {}, s),\n            c = !!u.video,\n            h = this;\n          this.Dn.getUserMedia(u, function (u, f, d, l) {\n            if (\"ok\" === f) return a(null, {\n              userMedia: d,\n              options: {\n                frameRate: c ? s : null,\n                resolution: c ? t.get(r, [\"height\"], null) : null,\n                aspectRatio: c ? t.get(r, [\"aspectRatio\"], null) : null\n              }\n            });\n            var m = r,\n              p = s,\n              v = function (t) {\n                return t.constraintName ? t.constraintName : t.constraint ? t.constraint : \"\";\n              }(l);\n            if (l && (\"ConstraintNotSatisfiedError\" === l.name || \"OverconstrainedError\" === l.name || \"OverconstrainedError\" === l.constructor.name || \"unavailable\" === l.code && \"Edge\" === i.browser)) switch (v.toLowerCase()) {\n              case \"width\":\n              case \"height\":\n                if (!r || !o.canResolveNextResolution()) break;\n                return h.gt.warn(\"Unable to get user media with constraint [%s] with height [%s] and width [%s]. Retrying with next closest resolution.\", v, m.height, m.width), m = o.getNextResolution(r.height, r.aspectRatio), e.call(h, n, m, p, o, a);\n              case \"framerate\":\n              default:\n                if (s) return h.gt.warn(\"Unable to get user media with constraint [%s] and framerate [%s]. Retrying without frame rate constraint.\", v, s), e.call(h, n, m, p = null, o, a);\n                if (!r || !o.canResolveNextResolution()) break;\n                return h.gt.warn(\"Unable to get user media with constraint [%s] with height [%s] and width [%s]. Retrying with next closest resolution.\", v, m.height, m.width), m = o.getNextResolution(r.height, r.aspectRatio), e.call(h, n, m, p, o, a);\n            }\n            return h.gt.error(\"Unable to get user media with status [%s]\", f, l), a(l);\n          }, function (e) {\n            var n = e;\n            if (h.An && \"Chrome\" === i.browser) {\n              var r,\n                s = function (e) {\n                  var i = t.get(e, [\"video\", \"mandatory\", \"chromeMediaSource\"]),\n                    n = t.get(e, [\"audio\", \"mandatory\", \"chromeMediaSource\"]),\n                    r = t.get(e, [\"video\", \"mandatory\", \"chromeMediaSourceId\"]),\n                    s = t.get(e, [\"audio\", \"mandatory\", \"chromeMediaSourceId\"]),\n                    o = {};\n                  return (i || s) && (t.set(o, [\"screen\", \"mediaSource\"], i), t.set(o, [\"screen\", \"mediaSourceId\"], r)), (n || s) && (t.set(o, [\"screenAudio\", \"mediaSource\"], n), t.set(o, [\"screenAudio\", \"mediaSourceId\"], s)), o;\n                }(e);\n              (n = h.An(s)).resolutionHeight && n.aspectRatio && (r = {\n                width: o.calculateWidthByAspectRatio(n.resolution, n.aspectRatio),\n                height: n.resolutionHeight\n              }), n = function (e, i, n) {\n                var r = this.getVendorSpecificConstraints(e, i, n);\n                r.screen && (r.video = r.screen, delete r.screen), r.screenAudio && (r.audio = r.screenAudio, delete r.screenAudio);\n                var s = t.get(r, [\"video\", \"mandatory\", \"mediaSource\"]),\n                  o = t.get(r, [\"audio\", \"mandatory\", \"mediaSource\"]),\n                  a = t.get(r, [\"video\", \"mandatory\", \"mediaSourceId\"]),\n                  u = t.get(r, [\"audio\", \"mandatory\", \"mediaSourceId\"]);\n                return (s || a) && (t.set(r, [\"video\", \"mandatory\", \"chromeMediaSource\"], s), t.set(r, [\"video\", \"mandatory\", \"chromeMediaSourceId\"], a), delete r.video.mandatory.mediaSource, delete r.video.mandatory.mediaSourceId), (o || u) && (t.set(r, [\"audio\", \"mandatory\", \"chromeMediaSource\"], o), t.set(r, [\"audio\", \"mandatory\", \"chromeMediaSourceId\"], u), delete r.audio.mandatory.mediaSource, delete r.audio.mandatory.mediaSourceId), r;\n              }.call(h, s, r, n.frameRate);\n            }\n            return n;\n          });\n        }).call(this, r, a, u, o, s);\n      }, r.prototype.getVendorSpecificConstraints = function (t, e, n) {\n        if (e = e || {}, !t || !t.audio && !t.video && !t.screen && !t.screenAudio) throw new Error(\"Invalid device options. Must pass in at least one device option.\");\n        return \"Firefox\" === i.browser && i.browserVersion > 38 || \"Chrome\" === i.browser && i.browserVersion > 52 && !t.screen && !t.screenAudio || \"Safari\" === i.browser && i.browserVersion > 10 || \"Opera\" === i.browser && i.browserVersion > 40 ? function (t, e, i) {\n          var n = t.video,\n            r = t.audio,\n            s = t.screen,\n            o = t.screenAudio,\n            a = e.width,\n            u = e.height,\n            c = {};\n          return n && (c.video = {\n            height: {\n              min: u,\n              ideal: u,\n              max: u\n            },\n            width: {\n              min: a,\n              ideal: a,\n              max: a\n            },\n            frameRate: {\n              ideal: i,\n              max: i\n            }\n          }, n.deviceId && (c.video.deviceId = {\n            exact: n.deviceId\n          }), n.facingMode && (c.video.facingMode = n.facingMode), a || delete c.video.width, u || delete c.video.height, i || delete c.video.frameRate, a || u || i || n.deviceId || n.facingMode || (c.video = !0)), r && (c.audio = {}, r.deviceId && (c.audio.deviceId = {\n            exact: r.deviceId\n          }), r.mediaSource && (c.audio.mediaSource = r.mediaSource), r.mediaSourceId && (c.audio.mediaSourceId = r.mediaSourceId), r.deviceId || r.mediaSource || r.mediaSourceId || (c.audio = !0)), o && (c.screenAudio = {}, o.deviceId && (c.screenAudio.deviceId = {\n            exact: o.deviceId\n          }), o.mediaSource && (c.screenAudio.mediaSource = o.mediaSource), o.mediaSourceId && (c.screenAudio.mediaSourceId = o.mediaSourceId), o.deviceId || o.mediaSource || o.mediaSourceId || (c.screenAudio = !0)), s && (c.screen = {\n            height: {\n              min: u,\n              ideal: u,\n              max: u\n            },\n            width: {\n              min: a,\n              ideal: a,\n              max: a\n            },\n            frameRate: {\n              ideal: i,\n              max: i\n            }\n          }, a || delete c.screen.width, u || delete c.screen.height, i || delete c.screen.frameRate, s.mediaSource && (c.screen.mediaSource = s.mediaSource), a || u || i || s.mediaSource || (c.screen = !0)), s && n && (c.screen = !0), c;\n        }(t, e, n) : \"Edge\" === i.browser ? function (t, e, i) {\n          var n = t.video,\n            r = t.audio,\n            s = t.screen,\n            o = e.width,\n            a = e.height,\n            u = {};\n          return n && (u.video = {\n            height: {\n              min: a,\n              max: a,\n              exact: a\n            },\n            width: {\n              min: o,\n              max: o,\n              exact: o\n            },\n            frameRate: i\n          }, n.deviceId && (u.video.deviceId = n.deviceId), n.facingMode && (u.video.facingMode = n.facingMode), o || delete u.video.width, a || delete u.video.height, i || delete u.video.frameRate, o || a || i || n.deviceId || n.facingMode || (u.video = !0)), r && (u.audio = !0, r.deviceId && (u.audio = {\n            deviceId: r.deviceId\n          })), s && (u.screen = !0), u;\n        }(t, e, n) : function (t, e, i) {\n          var n = t.video,\n            r = t.audio,\n            s = t.screen,\n            o = t.screenAudio,\n            a = e.width,\n            u = e.height,\n            c = {};\n          return n && (c.video = {\n            mandatory: {\n              minHeight: u,\n              maxHeight: u,\n              minWidth: a,\n              maxWidth: a,\n              maxFrameRate: i\n            }\n          }, n.deviceId && (c.video.mandatory.sourceId = n.deviceId), n.facingMode && (c.video.facingMode = n.facingMode), n.mediaSource && (c.video.mandatory.mediaSource = n.mediaSource), n.mediaSourceId && (c.video.mandatory.mediaSourceId = n.mediaSourceId), a || (delete c.video.mandatory.minWidth, delete c.video.mandatory.maxWidth), u || (delete c.video.mandatory.minHeight, delete c.video.mandatory.maxHeight), i || delete c.video.mandatory.maxFrameRate, a || u || i || n.deviceId || n.facingMode || n.mediaSource || n.mediaSourceId || (c.video = !0)), r && (c.audio = {\n            mandatory: {}\n          }, r.deviceId && (c.audio.mandatory.sourceId = r.deviceId), r.mediaSource && (c.audio.mandatory.mediaSource = r.mediaSource), r.mediaSourceId && (c.audio.mandatory.mediaSourceId = r.mediaSourceId), r.deviceId || r.mediaSource || r.mediaSourceId || (c.audio = !0)), o && (c.screenAudio = {\n            mandatory: {}\n          }, o.deviceId && (c.screenAudio.mandatory.sourceId = o.deviceId), o.mediaSource && (c.screenAudio.mandatory.mediaSource = o.mediaSource), o.mediaSourceId && (c.screenAudio.mandatory.mediaSourceId = o.mediaSourceId), o.deviceId || o.mediaSource || o.mediaSourceId || (c.screenAudio = !0)), s && (c.screen = {\n            mandatory: {\n              minHeight: u,\n              maxHeight: u,\n              minWidth: a,\n              maxWidth: a,\n              maxFrameRate: i\n            }\n          }, a || (delete c.screen.mandatory.minWidth, delete c.screen.mandatory.maxWidth), u || (delete c.screen.mandatory.minHeight, delete c.screen.mandatory.maxHeight), i || delete c.screen.mandatory.maxFrameRate, s.mediaSource && (c.screen.mandatory.mediaSource = s.mediaSource), s.mediaSourceId && (c.screen.mandatory.mediaSourceId = s.mediaSourceId), a || u || i || s.mediaSource || (c.screen = !0)), s && n && (c.screen = !0), c;\n        }(t, e, n);\n      }, r;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i(t) {\n        e.vt(t, \"pcast\"), e.pt(t.getObservableStatus, \"pcast.getObservableStatus\"), e.pt(t.getLogger, \"pcast.getLogger\"), e.pt(t.getProtocol, \"pcast.getProtocol\"), this.Dn !== t && (this.Dn = t, this.gt = t.getLogger(), this.On = t.getProtocol(), e.vt(this.gt, \"this._logger\"), e.vt(this.On, \"this._protocol\"), e.pt(this.On.getObservableSessionId, \"this._protocol.getObservableSessionId\"), e.pt(this.Dn.getObservableStatus, \"this._pcast.getObservableStatus\"), this.qn = this.On.getObservableSessionId(), this.Un = this.Dn.getObservableStatus());\n      }\n      return i.prototype.assertAuthorized = function () {\n        if (null === (t = this.getPCastStatus()) || void 0 === t || \"\" === t || \"offline\" === t.toLowerCase()) throw new Error(\"Unable to perform action. Status [\" + this.getPCastStatus() + \"]. Please wait to reconnect.\");\n        var t, e;\n        if (null === (e = this.getPCastSessionId()) || void 0 === e || \"\" === e) throw new Error(\"Unable to perform action. Invalid sessionId [\" + this.getPCastSessionId() + \"]\");\n      }, i.prototype.getObservableSessionId = function () {\n        return this.qn;\n      }, i.prototype.getObservableStatus = function () {\n        return this.Un;\n      }, i.prototype.getPCastSessionId = function () {\n        return this.qn.getValue();\n      }, i.prototype.getPCastStatus = function () {\n        return this.Un.getValue();\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        states: {\n          trackEnabled: {\n            id: 0,\n            name: \"TrackEnabled\"\n          },\n          trackDisabled: {\n            id: 1,\n            name: \"TrackDisabled\"\n          },\n          trackEnded: {\n            id: 2,\n            name: \"TrackEnded\"\n          }\n        }\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(17), i(13)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      var s = r.roles,\n        o = r.states;\n      function a(t, e, i, n, r, s, o) {\n        this.init(t, e, i, n, r, s, o);\n      }\n      function u(t) {\n        return new n(t.uri, t.type, t.audioState, t.videoState);\n      }\n      function c(i) {\n        return e.Tt(i, s, \"memberRole\"), t.getEnumName(s, i);\n      }\n      function h(i) {\n        return e.Tt(i, o, \"memberState\"), t.getEnumName(o, i);\n      }\n      return a.prototype.init = function (n, r, s, o, a, u, f) {\n        e.Wt(s, \"sessionId\"), e.Wt(o, \"screenName\"), e.isArray(u, \"streams\"), e.Kt(t.utc(f), \"lastUpdate\"), n && e.vt(n, \"roomService\"), this.qn = new i.Observable(s), this.Fn = new i.Observable(o), this.x = new i.ObservableArray([]), this.Nn = new i.Observable(r, h).extend({\n          rateLimit: 500\n        }), this.Ln = new i.Observable(a, c), this.Ci = new i.Observable(f, t.utc), this.jn = n, this.setStreams(u);\n      }, a.prototype.getObservableState = function () {\n        return this.Nn;\n      }, a.prototype.getSessionId = function () {\n        return this.qn.getValue();\n      }, a.prototype.getObservableScreenName = function () {\n        return this.Fn;\n      }, a.prototype.getObservableRole = function () {\n        return this.Ln;\n      }, a.prototype.getObservableStreams = function () {\n        return this.x;\n      }, a.prototype.getObservableLastUpdate = function () {\n        return this.Ci;\n      }, a.prototype.getLastUpdate = function () {\n        return this.Ci.getValue();\n      }, a.prototype.getStreams = function () {\n        return t.map(this.x.getValue(), function (t) {\n          return t.toJson();\n        });\n      }, a.prototype.commitChanges = function (t) {\n        e.vt(this.jn, \"this._roomService\"), this.jn.updateMember(this, t);\n      }, a.prototype.reload = function () {\n        e.vt(this.jn, \"this._roomService\"), this.jn.revertMemberChanges(this);\n      }, a.prototype.setStreams = function (e) {\n        var i = t.map(e, function (t) {\n          return u(t);\n        });\n        this.x.setValue(i);\n      }, a.prototype.toString = function () {\n        return this.getObservableRole().getValue() + \"[\" + this.getObservableScreenName().getValue() + \",\" + this.getSessionId() + \"]\";\n      }, a.prototype.toJson = function () {\n        var e = {\n          sessionId: this.qn.getValue(),\n          screenName: this.Fn.getValue(),\n          role: this.Ln.getValue(),\n          state: this.Nn.getValue(),\n          streams: [],\n          lastUpdate: this.Ci.getValue()\n        };\n        return t.forEach(this.x.getValue(), function (t) {\n          e.streams.push(t.toJson());\n        }), e;\n      }, a.prototype.Hi = function (e) {\n        t.vt(e) && (e.hasOwnProperty(\"state\") && this.Nn.setValue(e.state), e.hasOwnProperty(\"screenName\") && this.Fn.setValue(e.screenName), e.hasOwnProperty(\"role\") && this.Ln.setValue(e.role), e.hasOwnProperty(\"lastUpdate\") && this.Ci.setValue(e.lastUpdate), e.hasOwnProperty(\"streams\") && function (e) {\n          var i = this.x.getValue(),\n            r = [];\n          t.forEach(e, function (e) {\n            var s = n.parsePCastStreamIdFromStreamUri(e.uri),\n              o = t.find(i, function (t) {\n                var i = t.getUri() === e.uri,\n                  n = t.isPCastStream() && t.getPCastStreamId() === s,\n                  r = i || n;\n                return t.getType() === e.type && r;\n              });\n            o ? o.Hi(e) : o = u(e), r.push(o);\n          }), this.x.setValue(r);\n        }.call(this, e.streams));\n      }, a;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(33), i(12)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      var s = r.types;\n      function o(t, e, i, n, r, s, o, a, u) {\n        this.init(t, e, i, n, r, s, o, a, u);\n      }\n      function a(e, i) {\n        return t.map(e, function (t) {\n          return new n(i, t.state, t.sessionId, t.screenName, t.role, t.streams, t.lastUpdate);\n        });\n      }\n      function u(e) {\n        if (!(e = t.getEnumName(s, e))) throw new Error('\"type\" must be a valid room type');\n        return e;\n      }\n      return o.prototype.init = function (t, n, r, s, o, c, h, f, d) {\n        e.Rt(s, \"name\"), e.Wt(o, \"description\"), e.isArray(h, \"members\"), n && e.Rt(n, \"id\"), r && e.Rt(r, \"alias\"), f && e.Rt(f, \"bridgeId\"), d && e.Rt(d, \"pin\"), t && e.vt(t, \"roomService\"), this.Bn = new i.Observable(n), this.Wn = new i.Observable(r), this.Ct = new i.Observable(s), this._n = new i.Observable(o), this.At = new i.Observable(c, u), this.zn = new i.ObservableArray([]).extend({\n          method: \"notifyWhenChangesStop\",\n          timeout: 400\n        }), this.h = new i.ObservableArray(), this.Vn = new i.Observable(f), this.Hn = new i.Observable(d), this.jn = t, function (t) {\n          var e = a(t, this.jn);\n          this.zn.setValue(e);\n        }.call(this, h);\n      }, o.prototype.getRoomId = function () {\n        return this.Bn.getValue();\n      }, o.prototype.getObservableAlias = function () {\n        return this.Wn;\n      }, o.prototype.getObservableName = function () {\n        return this.Ct;\n      }, o.prototype.getObservableDescription = function () {\n        return this._n;\n      }, o.prototype.getObservableType = function () {\n        return this.At;\n      }, o.prototype.getObservableMembers = function () {\n        return this.zn;\n      }, o.prototype.getObservableBridgeId = function () {\n        return this.Vn;\n      }, o.prototype.getObservablePin = function () {\n        return this.Hn;\n      }, o.prototype.toString = function () {\n        return this.At.getValue() + \"[\" + this.Bn.getValue() + \"]\";\n      }, o.prototype.toJson = function () {\n        return {\n          roomId: this.Bn.getValue(),\n          alias: this.Wn.getValue(),\n          name: this.Ct.getValue(),\n          description: this._n.getValue(),\n          type: this.At.getValue(),\n          pin: this.Hn.getValue(),\n          bridgeId: this.Vn.getValue()\n        };\n      }, o.prototype.commitChanges = function (t) {\n        e.vt(this.jn, \"this._roomService\"), this.jn.updateRoom(this, t);\n      }, o.prototype.reload = function () {\n        e.vt(this.jn, \"this._roomService\"), this.jn.revertRoomChanges(this);\n      }, o.prototype.Hi = function (e) {\n        t.vt(e) && (e.roomId && this.Bn.setValue(e.roomId), e.alias && this.Wn.setValue(e.alias), e.name && this.Ct.setValue(e.name), e.description && this._n.setValue(e.description), e.type && this.At.setValue(e.type), e.options && this.h.setValue(e.options), e.bridgeId && this.Vn.setValue(e.bridgeId), e.pin && this.Hn.setValue(e.pin), e.members);\n      }, o.prototype.Xi = function (e) {\n        var i = this,\n          n = a(e);\n        t.forEach(n, function (t) {\n          i.zn.push(t);\n        });\n      }, o.prototype.Qi = function (e) {\n        var i = this;\n        t.forEach(e, function (t) {\n          i.zn.remove(function (e) {\n            return t.sessionId === e.getSessionId() && t.lastUpdate >= e.getObservableLastUpdate().getValue();\n          });\n        });\n      }, o.prototype.$i = function (e) {\n        t.forEach(this.zn.getValue(), function (i) {\n          var n = t.find(e, function (t) {\n            return i.getSessionId() === t.sessionId && t.lastUpdate > i.getObservableLastUpdate().getValue();\n          });\n          n && i.Hi(n);\n        });\n      }, o;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(2), i(31), i(34), i(60), i(33), i(59), i(12), i(13)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c, h) {\n      \"use strict\";\n\n      var f = t.freeze({\n          status: \"not-in-room\"\n        }),\n        d = t.freeze({\n          status: \"already-in-room\"\n        }),\n        l = t.freeze({\n          status: \"in-another-room\"\n        });\n      function m(t) {\n        e.vt(t, \"pcast\"), e.pt(t.getLogger, \"pcast.getLogger\"), e.pt(t.getProtocol, \"pcast.getProtocol\"), this.Dn = t, this.gt = t.getLogger(), this.On = t.getProtocol(), this.Gn = new i.Observable(null), this.Kn = new i.Observable(null), this.Jn = new i.Observable(null), this.Xn = null, this.Qn = 0, e.vt(this.gt, \"this._logger\"), e.vt(this.On, \"this._protocol\"), this.$n = new r(this.Dn);\n      }\n      function p() {\n        this.Gn.setValue(null), this.Kn.setValue(null), this.Jn.setValue(null), this.Xn = null, this.v && this.v.dispose(), this.v = null;\n      }\n      function v() {\n        var e = this,\n          i = e.Kn.getValue(),\n          n = e.Gn.getValue().getSessionId();\n        if (t.vt(i) && n) {\n          var r = i.getRoomId(),\n            s = i.getObservableAlias().getValue();\n          e.gt.info(\"Leaving and re-entering room after reset of self model\"), E.call(e, function () {\n            S.call(e, r, s, function () {\n              e.gt.info(\"Room reset completed\"), e.Qn = t.now();\n            });\n          });\n        }\n      }\n      function g(i) {\n        switch (e.vt(i, \"event\"), e.Wt(i.roomId, \"event.roomId\"), e.Wt(i.eventType, \"event.eventType\"), e.isArray(i.members, \"event.members\"), t.forEach(i.members, function (t) {\n          e.vt(t, \"member\");\n        }), i.eventType) {\n          case c.events.memberJoined.name:\n            return this.gt.debug(\"[%s] Member joined [%s]\", i.roomId, i.members), function (e, i) {\n              var n = this.Kn.getValue(),\n                r = this.Jn.getValue();\n              if (n && n.getRoomId() === e) {\n                n.Qi(i), n.Xi(i), r.Qi(i), r.Xi(i);\n                var s = this,\n                  o = t.find(i, function (t) {\n                    return t.sessionId === s.getSelf().getSessionId();\n                  });\n                o && (C.call(s, n), n.$i([o])), this.gt.info(\"[%s] Room has now [%d] members\", e, n.getObservableMembers().getValue().length);\n              }\n            }.call(this, i.roomId, i.members);\n          case c.events.memberLeft.name:\n            return this.gt.debug(\"[%s] Member left [%s]\", i.roomId, i.members), function (e, i) {\n              var n = this.Kn.getValue(),\n                r = this.Jn.getValue();\n              if (n && n.getRoomId() === e) {\n                var s = this,\n                  o = t.find(i, function (t) {\n                    return t.sessionId === s.getSelf().getSessionId();\n                  }),\n                  a = this.getSelf();\n                a && o && a.getObservableLastUpdate().setValue(o.lastUpdate), n.Qi(i), r.Qi(i), this.gt.info(\"[%s] Room has now [%d] members\", e, n.getObservableMembers().getValue().length);\n              }\n            }.call(this, i.roomId, i.members);\n          case c.events.memberUpdated.name:\n            return this.gt.debug(\"[%s] Member updated [%s]\", i.roomId, i.members), function (e, i) {\n              var n = this.Kn.getValue(),\n                r = this.Jn.getValue();\n              if (n && n.getRoomId() === e) {\n                var s = function (e) {\n                  var i = this;\n                  return t.map(e, function (t) {\n                    var e = w(t.sessionId, i.Jn),\n                      n = k(new a(null, t.state, t.sessionId, t.screenName, t.role, t.streams, t.lastUpdate), e);\n                    return n.lastUpdate = t.lastUpdate, n;\n                  });\n                }.call(this, i);\n                n.$i(s), r.$i(s), this.gt.info(\"[%s] Room has [%d] updated members\", e, i.length);\n              }\n            }.call(this, i.roomId, i.members);\n          case c.events.roomUpdated.name:\n            return this.gt.debug(\"[%s] Room updated [%s]\", i.roomId, i.room), function (t, e) {\n              var i = this.Kn.getValue(),\n                n = this.Jn.getValue();\n              i && i.getRoomId() === t && (n.Hi(e), i.Hi(e));\n            }.call(this, i.roomId, i.room);\n          case c.events.roomEnded.name:\n            this.gt.info(\"[%s] Room ended\", i.roomId);\n            break;\n          default:\n            this.gt.warn(\"Unsupported room event [%s]\", i.eventType);\n        }\n      }\n      function y(t) {\n        this.getSelf() && this.getSelf().getSessionId() === (t || \"\") || function (t) {\n          var e = this.Gn.getValue().toJson();\n          this.gt.info(\"Resetting self after sessionId changed to [%s]\", t), this.Gn.setValue(new a(this, e.state, t || \"\", e.screenName, e.role, e.streams, e.lastUpdate));\n        }.call(this, t);\n      }\n      function w(e, i) {\n        return function (e, i) {\n          return t.find(i, function (t) {\n            return e === t.getSessionId();\n          });\n        }(e, i.getValue().getObservableMembers().getValue());\n      }\n      function b(e) {\n        this.gt.info(\"PCast status changed to [%s]\", e), \"offline\" !== e.toLowerCase() && \"offline\" === this.Yn || \"offline\" === e.toLowerCase() && \"offline\" !== this.Yn && t.isNullOrUndefined(this.Yn), this.Yn = e;\n      }\n      function k(e, i) {\n        var n = function (e, i) {\n          if (!i) return e.toJson();\n          var n = {},\n            r = e.toJson(),\n            s = i.toJson(),\n            o = t.findDifferences(r, s, !0);\n          return t.forEach(o, function (t) {\n            n[t] = r[t];\n          }), n;\n        }(e, i);\n        return n.sessionId = e.getSessionId(), n.lastUpdate = i ? i.getLastUpdate() : t.now(), n;\n      }\n      function S(e, i, n) {\n        var r = this.Kn.getValue();\n        if (r) {\n          var s = e === r.getRoomId() || i === r.getObservableAlias().getValue();\n          return this.gt.info(\"Unable to join room. Already in [%s]/[%s] room.\", r.getRoomId(), r.getObservableAlias().getValue()), n(null, t.assign({\n            room: r\n          }, s ? d : l));\n        }\n        this.$n.assertAuthorized();\n        var o = this.Gn.getValue(),\n          a = o.getObservableScreenName().getValue(),\n          u = o.getObservableRole().getValue(),\n          c = k.call(this, o, null),\n          h = t.now();\n        this.gt.info(\"Enter room [%s]/[%s] with screen name [%s] and role [%s]\", e, i, a, u);\n        var f = this;\n        this.On.enterRoom(e, i, c, h, function (t, e) {\n          if (t) return f.gt.error(\"Joining of room failed with error [%s]\", t), n(t, null);\n          var i = {\n            status: e.status\n          };\n          if (\"ok\" !== e.status) return f.gt.warn(\"Joining of room failed with status [%s]\", e.status), n(null, i);\n          i.room = function (t) {\n            var e = R.call(this, t),\n              i = R.call(this, t);\n            return C.call(this, e), this.Kn.setValue(e), this.Jn.setValue(i), e;\n          }.call(f, e), \"ok\" === e.status && e.self && f.getSelf().Hi(e.self), n(null, i);\n        });\n      }\n      function E(e) {\n        if (!this.Kn.getValue()) return this.gt.info(\"Unable to leave room. Not currently in a room.\"), e(null, f);\n        if (!this.Zn) {\n          this.$n.assertAuthorized();\n          var i = this.Kn.getValue().getRoomId(),\n            n = t.now();\n          this.gt.info(\"Leave room [%s]\", i);\n          var r = this;\n          this.Zn = !0, this.On.leaveRoom(i, n, function (t, i) {\n            if (r.Zn = !1, t) return r.gt.error(\"Leaving room failed with error [%s]\", t), e(t, null);\n            var n = {\n              status: i.status\n            };\n            if (\"ok\" !== i.status) return r.gt.warn(\"Leaving room failed with status [%s]\", i.status), e(null, n);\n            r.Xn && r.Xn.stop(), r.Xn = null, r.Kn.setValue(null), r.Jn.setValue(null), e(null, n);\n          });\n        }\n      }\n      function T(e, i) {\n        if (!this.Kn.getValue()) return this.gt.warn(\"Not in a room. Please Enter a room before updating member.\"), i(null, f);\n        this.$n.assertAuthorized();\n        var n = this.Kn.getValue().getRoomId(),\n          r = e.getSessionId() === this.getSelf().getSessionId(),\n          s = w(e.getSessionId(), this.Jn),\n          o = k.call(this, e, s),\n          a = t.now(),\n          u = r && !s,\n          c = r && o.role === h.roles.audience.name;\n        u && (o.lastUpdate = e.getObservableLastUpdate().getValue()), this.gt.info(\"Updating member info for active room [%s]\", n);\n        var d = this;\n        this.On.updateMember(n, o, a, function (e, n) {\n          if (e) return d.gt.error(\"Update of member failed with error [%s]\", e), i(e, null);\n          var r = {\n            status: n.status\n          };\n          \"ok\" !== n.status && d.gt.warn(\"Update of member failed with status [%s]\", n.status), \"ok\" === n.status && c && t.Kt(n.lastUpdate) && d.getSelf().getObservableLastUpdate().setValue(n.lastUpdate), i(null, r);\n        });\n      }\n      function I(t) {\n        var e = t.room,\n          i = t.members || [];\n        return new o(this, e.roomId, e.alias, e.name, e.description, e.type, i, e.bridgeId, e.pin);\n      }\n      function R(t) {\n        var e = t.room,\n          i = t.members;\n        return new s(this, e.roomId, e.alias, e.name, e.description, e.type, i, e.bridgeId, e.pin);\n      }\n      function C(e) {\n        var i = this.Gn.getValue(),\n          n = e.getObservableMembers().getValue(),\n          r = t.findIndex(n, function (t) {\n            return i.getSessionId() === t.getSessionId();\n          });\n        if (!t.Kt(r)) return this.gt.info(\"Self not in server room model.\");\n        i.Hi(n[r].toJson()), n[r] = i, e.getObservableMembers().setValue(n);\n      }\n      return m.prototype.getLastResetTimestamp = function () {\n        return this.Qn;\n      }, m.prototype.start = function (r, s) {\n        if (this.tr) return this.gt.warn(\"RoomService already started.\");\n        e.Rt(r, \"role\"), e.Rt(s, \"screenName\");\n        var o = h.states.passive.name,\n          u = this.$n.getPCastSessionId(),\n          c = s,\n          f = t.now(),\n          d = new a(this, o, u, c, r, [], f);\n        this.Gn = new i.Observable(d), this.v = new n.DisposableList();\n        var l = this.On.onEvent(\"chat.RoomEvent\", t.bind(g, this));\n        return this.v.add(l), function () {\n          var e = this.Gn.subscribe(t.bind(v, this)),\n            i = this.$n.getObservableStatus().subscribe(t.bind(b, this)),\n            n = this.$n.getObservableSessionId().subscribe(t.bind(y, this));\n          this.v.add(e), this.v.add(i), this.v.add(n);\n        }.call(this), this.tr = !0, d;\n      }, m.prototype.getRoomInfo = function (i, n, r) {\n        i ? e.Rt(i, \"roomId\") : e.Rt(n, \"alias\"), e.pt(r, \"callback\"), function (e, i, n) {\n          this.$n.assertAuthorized();\n          var r = this;\n          this.On.getRoomInfo(e, i, function (e, i) {\n            if (e) return r.gt.error(\"Request to get room info failed with error [%s]\", e), n(e, null);\n            var s = {\n              status: i.status\n            };\n            if (\"ok\" !== i.status) return r.gt.warn(\"Request to get room info failed with status [%s]\", i.status), n(null, s);\n            s.room = t.freeze(I.call(this, i)), n(null, s);\n          });\n        }.call(this, i, n, r);\n      }, m.prototype.createRoom = function (i, n) {\n        e.vt(i, \"room\"), e.Rt(i.name, \"room.name\"), e.Rt(i.type, \"room.type\"), e.Wt(i.description, \"room.description\"), e.pt(n, \"callback\"), function (e, i) {\n          this.$n.assertAuthorized();\n          var n = this,\n            r = function (t) {\n              return new s(this, \"\", t.alias, t.name, t.description, t.type, [], t.bridgeId, t.pin).toJson();\n            }(e);\n          this.On.createRoom(r, function (e, r) {\n            if (e) return n.gt.error(\"Creating room failed with error [%s]\", e), i(e, null);\n            var s = {\n              status: r.status\n            };\n            if (\"ok\" !== r.status && \"already-exists\" !== r.status) return n.gt.warn(\"Creating room failed with status [%s]\", r.status), i(null, s);\n            s.room = t.freeze(I.call(this, r)), i(null, s);\n          });\n        }.call(this, i, n);\n      }, m.prototype.enterRoom = function (t, i, n) {\n        t ? e.Rt(t, \"roomId\") : e.Rt(i, \"alias\"), e.pt(n, \"callback\"), S.call(this, t, i, n);\n      }, m.prototype.leaveRoom = function (t) {\n        return E.call(this, t);\n      }, m.prototype.getChatService = function () {\n        return !this.Xn && this.Kn.getValue() && (this.Xn = new u(this)), this.Xn;\n      }, m.prototype.getSelf = function () {\n        return this.Gn.getValue();\n      }, m.prototype.getObservableActiveRoom = function () {\n        return this.Kn;\n      }, m.prototype.updateSelf = function (t) {\n        e.pt(t, \"callback\"), T.call(this, this.getSelf(), t);\n      }, m.prototype.updateMember = function (t, i) {\n        e.pt(i, \"callback\"), e.vt(t, \"member\"), T.call(this, t, i);\n      }, m.prototype.updateRoom = function (i) {\n        e.pt(i, \"callback\"), function (e) {\n          if (!this.Kn.getValue()) return this.gt.warn(\"Not in a room. Please Enter a room before updating member.\"), e(null, f);\n          this.$n.assertAuthorized();\n          var i = this.Kn.getValue(),\n            n = t.now(),\n            r = this;\n          this.On.updateRoom(i.toJson(), n, function (t, i) {\n            if (t) return r.gt.error(\"Update of room failed with error [%s]\", t), e(t, null);\n            var n = {\n              status: i.status\n            };\n            \"ok\" !== i.status && r.gt.warn(\"Update of room failed with status [%s]\", i.status), e(null, n);\n          });\n        }.call(this, i);\n      }, m.prototype.revertRoomChanges = function () {\n        var t = this.Kn.getValue(),\n          e = this.Jn.getValue();\n        if (!t || !e) return this.gt.warn(\"Unable to revert changes to room. Not currently in a room.\");\n        t.Hi(e.toJson());\n      }, m.prototype.revertMemberChanges = function (t) {\n        e.vt(t, \"member\");\n        var i = w(t.getSessionId(), this.Jn),\n          n = w(t.getSessionId(), this.Kn);\n        if (!i || !n) return this.gt.warn(\"Unable to revert changes to member. Member is currently not in room.\");\n        n.Hi(i.toJson());\n      }, m.prototype.isInRoom = function () {\n        return !!this.Kn.getValue();\n      }, m.prototype.toString = function () {\n        return \"RoomService\";\n      }, m.prototype.stop = function (t) {\n        var e = this.Kn.getValue(),\n          i = this;\n        if (this.gt.info(\"Stopping room service with reason [%s]\", t), e) return this.leaveRoom(function (t, e) {\n          t && i.gt.warn(\"Failure to stop room service. Unable to leave room\", t), e && \"ok\" !== e.status && i.gt.warn(\"Failure to stop room service. Unable to leave room. Status: [%s]\", e.status), e && \"ok\" === e.status && (p.call(i), i.tr = !1);\n        });\n        p.call(this), i.tr = !1;\n      }, m;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i(i, n, r) {\n        e.Rt(i, \"name\"), e.vt(n, \"monitor\"), e.pt(r, \"getLimit\"), this.Ct = i, this.er = n, this.ir = r || t.noop;\n      }\n      return i.prototype.addThreshold = function (i, n) {\n        var r = function (i) {\n            var n = [];\n            if (t.isArray(i)) t.forEach(i, function (t) {\n              e.Kt(t, \"threshold\");\n            }), n = i.sort();else if (t.vt(i)) {\n              e.Kt(i.levels, \"threshold.levels\");\n              for (var r = 0; r < i.levels; r++) n.push(r / i.levels);\n            } else e.Kt(i, \"threshold\"), n.push(i);\n            return n.push(3), n;\n          }(i),\n          s = null,\n          o = this;\n        return o.er.on(\"calculatedmetrics\", function (e) {\n          var i = o.ir(),\n            a = e.videoBitRate + e.audioBitRate,\n            u = function (e, i) {\n              return t.reduce(e, function (t, n, r) {\n                return null === t && n >= i ? r : n < e[t] && n >= i ? r : t;\n              }, null);\n            }(r, a / i),\n            c = t.get(r, [u]),\n            h = c * i,\n            f = t.get(r, [s], 1),\n            d = f * i;\n          if (0 !== i) return null === s ? s = u : void (u !== s && (u < s ? n({\n            isIncreasing: !1,\n            bitRate: a,\n            currentThreshold: h,\n            targetBitRate: i,\n            index: u,\n            lastIndex: s,\n            message: o.Ct + \" bit rate is below \" + c + \" * \" + i + \" threshold of \" + h + \" with a bit rate of \" + a\n          }) : u > s && n({\n            isIncreasing: !0,\n            bitRate: a,\n            currentThreshold: d,\n            targetBitRate: i,\n            index: u,\n            lastIndex: s,\n            message: o.Ct + \" bit rate is above \" + f + \" * \" + i + \" threshold of \" + d + \" with a bit rate of \" + a\n          }), s = u));\n        });\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(3), i(15), i(65), i(64), i(63), i(7)], void 0 === (r = function (t, e, i, n, r, s, o, a, u) {\n      \"use strict\";\n\n      function c(t, e, n, r, s, o, a) {\n        this.At = t, this.ji = e, this.Ni = n, this.nr = r, this.h = s, this.rr = o, this.gt = a, this.sr = [], this.or = null, this.ar = new i.NamedEvents();\n      }\n      return c.prototype.on = function (t, e) {\n        this.ar.listen(t, e);\n      }, c.prototype.createRenderer = function () {\n        var e = null;\n        switch (this.At) {\n          case u.types.dash.name:\n            e = this.rr ? new s(this.ji, this.Ni, this.nr, this.h, this.rr, this.gt) : new o(this.ji, this.Ni, this.nr, this.h, this.gt);\n            break;\n          case u.types.hls.name:\n            e = new o(this.ji, this.Ni, this.nr, this.h, this.gt);\n            break;\n          case u.types.rtmp.name:\n            e = new a(this.ji, this.Ni, this.nr, this.h, this.gt);\n            break;\n          default:\n            throw new Error(\"Unsupported Live stream Type \" + this.At);\n        }\n        var i = this;\n        return e.on(u.rendererEvents.error.name, function (t, e) {\n          i.ar.fire(u.streamEvents.playerError.name, [t, e]);\n        }), e.on(u.rendererEvents.ended.name, function (n) {\n          i.sr = t.filter(i.sr, function (t) {\n            return t !== e;\n          }), 0 === i.sr.length && (i.nr.stop(), i.ar.fire(u.streamEvents.playerEnded.name, [n]));\n        }), this.sr.push(e), e;\n      }, c.prototype.select = function (t) {\n        return this.gt.warn(\"[%s] selection of tracks not supported for [%s] live streams\", this.ji, this.At), this;\n      }, c.prototype.setStreamEndedCallback = function (t) {\n        e.pt(t, \"callback\"), this.streamEndedCallback = t;\n      }, c.prototype.setStreamErrorCallback = function (t) {\n        e.pt(t, \"callback\"), this.streamErrorCallback = t;\n      }, c.prototype.stop = function (t) {\n        this.isActive() && (this.gt.info(\"[%s] stop [live] media stream with reason [%s]\", this.ji, t), this.ar.fire(u.streamEvents.stopped.name, [t]), this.ur = !0);\n      }, c.prototype.monitor = function (t, i) {\n        e.vt(t, \"options\"), e.pt(i, \"callback\");\n      }, c.prototype.getMonitor = function () {\n        return null;\n      }, c.prototype.addBitRateThreshold = function (t, i) {\n        e.pt(i, \"callback\");\n      }, c.prototype.getStream = function () {\n        return this.gt.debug(\"[%s] stream not available for [%s] live streams\", this.ji, this.At), null;\n      }, c.prototype.isActive = function () {\n        return !this.ur;\n      }, c.prototype.getStreamId = function () {\n        return this.ji;\n      }, c.prototype.getStats = function () {\n        return this.gt.debug(\"[%s] stats not available for [%s] live streams\", this.ji, this.At), null;\n      }, c.prototype.getRenderer = function () {\n        return t.get(this.sr, [0], null);\n      }, c.canPlaybackType = function (t) {\n        switch (t) {\n          case u.types.dash.name:\n            return r.WebPlayer.deviceSupportsDashPlayback;\n          case u.types.hls.name:\n            return r.WebPlayer.deviceSupportsHlsPlayback;\n          case u.types.rtmp.name:\n            return a.isSupported();\n          default:\n            return !1;\n        }\n      }, c;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      var i = /profile-level-id=[^;\\n]*/,\n        n = /vp8/i,\n        r = /vp9/i,\n        s = /h264/i,\n        o = /h265/i;\n      function a() {}\n      return a.prototype.getH264ProfileIds = function (n) {\n        e.Rt(n, \"offerSdp\");\n        for (var r = [], s = n.match(i), o = n; s;) {\n          var a = t.get(s, \"0\", \"\");\n          r.push(a.split(\"=\")[1]), s = (o = o.substring(s.index + a.length, n.length)).match(i);\n        }\n        return r;\n      }, a.prototype.replaceH264ProfileId = function (i, n, r) {\n        e.Rt(i, \"offerSdp\"), e.Rt(r, \"newProfileId\");\n        var s = this.getH264ProfileIds(i);\n        return t.includes(s, n) ? i.replace(\"profile-level-id=\" + n, \"profile-level-id=\" + r) : i;\n      }, a.prototype.getH264ProfileIdWithSameProfileAndEqualToOrHigherLevel = function (e, i) {\n        if (t.includes(e, i)) return i;\n        var n = t.reduce(e, function (t, e) {\n          var i = parseInt(t.substring(0, 2), 16),\n            n = parseInt(t.substring(4, 6), 16),\n            r = parseInt(e.substring(0, 2), 16),\n            s = parseInt(e.substring(4, 6), 16);\n          return i !== r ? t : n >= s ? t : e;\n        }, i);\n        return n === i ? null : n;\n      }, a.prototype.getH264ProfileIdWithSameOrHigherProfileAndEqualToOrHigherLevel = function (e, i) {\n        var n = this.getH264ProfileIdWithSameProfileAndEqualToOrHigherLevel(e, i);\n        if (n) return n;\n        var r = t.reduce(e, function (t, e) {\n          var i = parseInt(t.substring(0, 2), 16),\n            n = parseInt(t.substring(4, 6), 16),\n            r = parseInt(e.substring(0, 2), 16),\n            s = parseInt(e.substring(4, 6), 16);\n          return i < r ? e : r < i ? t : n > s ? t : e;\n        }, i);\n        return r === i ? null : r;\n      }, a.prototype.getSupportedCodecs = function (t) {\n        e.Rt(t, \"offerSdp\");\n        var i = [];\n        return n.test(t) && i.push(\"VP8\"), r.test(t) && i.push(\"VP9\"), s.test(t) && i.push(\"H264\"), o.test(t) && i.push(\"H265\"), i;\n      }, a.prototype.hasMediaSectionsInLocalSdp = function (e) {\n        var i = this.findInSdpSections(e, function (e) {\n          return t.startsWith(e, \"video\") || t.startsWith(e, \"audio\");\n        });\n        return t.Kt(i);\n      }, a.prototype.hasActiveAudio = function (e) {\n        var i = this.findInSdpSections(e, function (e, i, n) {\n          return !!t.startsWith(e, \"audio\") && !t.includes(e, \"a=inactive\") && !t.includes(n[i], \"a=inactive\");\n        });\n        return t.Kt(i);\n      }, a.prototype.hasActiveVideo = function (e) {\n        var i = this.findInSdpSections(e, function (e, i, n) {\n          return !!t.startsWith(e, \"video\") && !t.includes(e, \"a=inactive\") && !t.includes(n[i], \"a=inactive\");\n        });\n        return t.Kt(i);\n      }, a.prototype.findInSdpSections = function (e, i) {\n        var n = this.getLocalSdp(e).split(\"m=\"),\n          r = this.getRemoteSdp(e).split(\"m=\");\n        return n.length === r.length && t.findIndex(n, function (t, e) {\n          return i(t, e, r);\n        });\n      }, a.prototype.getNumberOfActiveSections = function (e) {\n        var i = (this.getLocalSdp(e) || this.getRemoteSdp(e)).split(\"m=\");\n        return t.filter(i, function (e) {\n          return !t.includes(e, \"a=inactive\") && (t.startsWith(e, \"audio\") || t.startsWith(e, \"video\"));\n        }).length;\n      }, a.prototype.getLocalSdp = function (e) {\n        return t.get(e, [\"localDescription\", \"sdp\"], \"\");\n      }, a.prototype.getRemoteSdp = function (e) {\n        return t.get(e, [\"remoteDescription\", \"sdp\"], \"\");\n      }, a.prototype.setGroupLineOrderToMatchMediaSectionOrder = function (e) {\n        var i = e.match(/(?=a=group:BUNDLE).*/),\n          n = t.get(t.get(i, [0], \"\").split(\"a=group:BUNDLE \"), [1], \"\"),\n          r = n.split(\" \").sort(function (t, i) {\n            return e.indexOf(\"m=\" + t) - e.indexOf(\"m=\" + i);\n          });\n        return r.length > 0 && (e = e.replace(n, r.join(\" \"))), e;\n      }, new a();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(3), i(38), i(18)], void 0 === (r = function (t, e, i, n, r, s) {\n      \"use strict\";\n\n      function o(t, i, n) {\n        e.Wt(t, \"name\"), e.vt(i, \"peerConnection\"), e.vt(n, \"logger\"), this.Ct = t, this.cr = i, this.gt = n, this.hr = {};\n      }\n      function a(e) {\n        var i = function (e) {\n            var i = e.getSenders ? t.map(e.getSenders(), function (t) {\n              return t.track;\n            }) : [];\n            if (0 === (i = t.filter(i, function (e) {\n              return !t.isNullOrUndefined(e);\n            })).length) {\n              var n = e.getLocalStreams ? e.getLocalStreams() : [];\n              return t.reduce(n, function (t, e) {\n                return t.concat(e.getTracks());\n              }, []);\n            }\n            return i;\n          }(e),\n          n = function (e) {\n            var i = e.getReceivers ? t.map(e.getReceivers(), function (t) {\n              return t.track;\n            }) : [];\n            if (0 === (i = t.filter(i, function (e) {\n              return !t.isNullOrUndefined(e);\n            })).length) {\n              var n = e.getRemoteStreams ? e.getRemoteStreams() : [];\n              return t.reduce(n, function (t, e) {\n                return t.concat(e.getTracks());\n              }, []);\n            }\n            return i;\n          }(e);\n        if (0 !== i.length && 0 !== n.length) throw this.gt.error(\"Invalid State. PeerConnection contains [%s] local and [%s] remote tracks.\", i.length, n.length), new Error(\"Invalid State. PeerConnection contains both local and remote streams.\");\n        return 0 !== i.length ? i : 0 !== n.length ? n : [];\n      }\n      function u(e) {\n        var i = a.call(this, this.cr),\n          n = t.filter(i, function (t) {\n            return t.kind === e;\n          }),\n          r = t.filter(this.fr, function (t) {\n            return t.kind === e;\n          });\n        return t.reduce(n, function (e, i) {\n          if (!e) return e;\n          var n = !!t.find(r, function (t) {\n            return t.id === i.id;\n          });\n          return !i.enabled || n;\n        }, !0);\n      }\n      return o.prototype.start = function (o, c, h) {\n        if (e.vt(o, \"options\"), e.pt(c, \"activeCallback\"), e.pt(h, \"monitorCallback\"), \"inbound\" !== o.direction && \"outbound\" !== o.direction) throw new Error(\"Invalid monitoring direction\");\n        if (!o.hasOwnProperty(\"monitoringInterval\") || o.monitoringInterval > 0) {\n          if (this.dr = o.frameRateThreshold || 2, this.lr = o.videoBitRateThreshold || 1e3, this.mr = o.audioBitRateThreshold || 5e3, this.pr = o.conditionCountForNotificationThreshold || 3, this.vr = Math.max(500, o.monitoringInterval || 4e3), this.gr = Math.max(500, o.conditionMonitoringInterval || 1500), this.yr = !o.hasOwnProperty(\"monitorFrameRate\") || o.monitorFrameRate, this.wr = !o.hasOwnProperty(\"monitorBitRate\") || o.monitorBitRate, this.br = !o.hasOwnProperty(\"monitorState\") || o.monitorState, this.fr = [], this.kr = new i.Event(), \"Edge\" === n.browser) {\n            var f = this.gr * this.pr;\n            this.vr = Math.max(this.vr, 6e3), this.gr = Math.max(this.gr, 6e3), this.pr = Math.max(Math.ceil(f / this.vr), 2), this.gt.info(\"Using modified options for optimal monitoring of PeerConnection on [Edge]. Monitor Interval [%s], Condition Monitor Interval [%s], Condition Count For Notification [%s]\", this.vr, this.gr, this.pr);\n          }\n          return function (e, i, o, c, h) {\n            var f = this,\n              d = 0,\n              l = [],\n              m = void 0,\n              p = void 0,\n              v = void 0,\n              g = null;\n            setTimeout(function y(w) {\n              (function (e, i, r, o, a, u) {\n                if (!o()) return this.gt.info(\"[%s] Finished monitoring of peer connection\", this.Ct);\n                var c = this;\n                n.getStats(e, null, function (e) {\n                  var n = s.convertPeerConnectionStats(e, c.hr);\n                  n = t.filter(n, function (t) {\n                    return \"inbound\" === i.direction && \"download\" === t.direction || \"outbound\" === i.direction && \"upload\" === t.direction;\n                  }), a(n);\n                }, function (t) {\n                  u(t);\n                });\n              }).call(f, i, o, null, c, function (s) {\n                var b = !1,\n                  k = !1,\n                  S = !1;\n                if (!c()) return f.gt.info(\"[%s] Finished monitoring of peer connection\", e);\n                if (!s) throw new Error(\"Report must be a valid PeerConnection.getStats Report\");\n                if (t.forEach(s, function (t) {\n                  var i = \"\";\n                  if (\"outbound\" === o.direction && \"upload\" === t.direction) switch (t.mediaType) {\n                    case \"video\":\n                      \"number\" == typeof t.avgEncode && (i += \" with average encoding time [\" + t.avgEncode + \"] ms\"), \"number\" == typeof t.cpuLimitedResolution && (i += \" (CPU limited=[\" + t.cpuLimitedResolution + \"])\"), f.gt.debug(\"[%s] [%s] [%s] [%s] with bitrate [%s], droppedFrames [%s] and frame rate [%s] and RTT [%s]\" + i, e, o.direction, t.mediaType, t.ssrc, t.bitrateMean, t.droppedFrames, t.framerateMean, t.rtt), m = t.framerateMean, p = t.uploadRate ? 1e3 * t.uploadRate : t.uploadRate, b = !0, k = !0, \"Edge\" === n.browser && (b = !1);\n                      break;\n                    case \"audio\":\n                      f.gt.debug(\"[%s] [%s] [%s] [%s] and RTT [%s] and jitter [%s] and audio input level [%s]\", e, o.direction, t.mediaType, t.ssrc, t.rtt, t.jitter, t.audioInputLevel), S = !0, v = t.uploadRate ? 1e3 * t.uploadRate : t.uploadRate;\n                  }\n                  if (\"inbound\" === o.direction && \"download\" === t.direction) switch (t.mediaType) {\n                    case \"video\":\n                      \"number\" == typeof t.currentDelay && (i += \" with current delay [\" + t.currentDelay + \"] ms\"), \"number\" == typeof t.targetDelay && (i += \" and target delay [\" + t.targetDelay + \"] ms\"), f.gt.debug(\"[%s] [%s] [%s] [%s] with framerate [%s]\" + i, e, o.direction, t.mediaType, t.ssrc, t.framerateMean), b = !0, m = t.framerateMean || 0, k = !0, p = t.downloadRate ? 1e3 * t.downloadRate : t.downloadRate, \"Edge\" === n.browser && (b = !1);\n                      break;\n                    case \"audio\":\n                      \"number\" == typeof t.jitterBuffer && (i += \" with jitter buffer [\" + t.jitterBuffer + \"] ms\"), f.gt.debug(\"[%s] [%s] [%s] [%s] with jitter [%s]  with output level [%s]\" + i, e, o.direction, t.mediaType, t.ssrc, t.jitter, t.audioOutputLevel), S = !0, v = t.downloadRate ? 1e3 * t.downloadRate : t.downloadRate;\n                  }\n                }), t.isUndefined(v) && t.isUndefined(p)) return setTimeout(y, f.vr);\n                var E = r.hasActiveAudio(i),\n                  T = r.hasActiveVideo(i);\n                if ((k && 0 === p || S && 0 === v || b && 0 === m) && (k = k && T, S = S && E, b = b && T), (S || k || b) && (f.gt.debug(\"[%s] [%s] Current bit rate is [%s] bps for audio and [%s] bps for video with [%s] FPS\", e, o.direction, Math.ceil(v || 0), Math.ceil(p || 0), m || \"?\"), t.values(f.hr).length > 0 && f.kr.fire([{\n                  videoBitRate: p,\n                  audioBitRate: v,\n                  frameRate: m\n                }])), !f.br || \"closed\" !== i.connectionState && \"failed\" !== i.connectionState && \"failed\" !== i.iceConnectionState) f.yr && b && m <= f.dr && !u.call(f, \"video\") ? (d++, l.push(\"frameRate\")) : f.wr && S && v <= f.mr && !u.call(f, \"audio\") ? (d++, l.push(\"audioBitRate\")) : f.wr && k && p <= f.lr && !u.call(f, \"video\") ? (d++, l.push(\"videoBitRate\")) : (d = 0, l = []);else {\n                  var I = E && T,\n                    R = a.call(f, i);\n                  if (!I && r.hasMediaSectionsInLocalSdp(i)) return void f.gt.info(\"[%s] [%s] Finished monitoring of peer connection with [%s] inactive tracks\", e, o.direction, R.length);\n                  d++, l.push(\"connection\");\n                }\n                var C = !(0 !== p && k || 0 !== v && S || function () {\n                  var e = this;\n                  return t.reduce(a.call(this, this.cr), function (i, n) {\n                    if (!i) return i;\n                    var r = !!t.find(e.fr, function (t) {\n                      return t.id === n.id;\n                    });\n                    return !n.enabled || r;\n                  }, !0);\n                }.call(f));\n                C && !g ? g = setTimeout(t.bind(y, this, !0), 5e3) : C || (clearTimeout(g), g = null);\n                var M = w && C && g,\n                  P = function () {\n                    f.gt.info(\"[%s] [%s] Failure has been acknowledged\", e, o.direction), d = Number.MIN_VALUE, l = [], setTimeout(y, f.vr);\n                  };\n                if (d >= f.pr || M) {\n                  var x = \"[\" + e + \"] [\" + o.direction + \"] Failure detected with frame rate [\" + m + \"] FPS, audio bit rate [\" + v + \"] bps, video bit rate [\" + p + \"] bps, connection state [\" + i.connectionState + \"], and ice connection state [\" + i.iceConnectionState + \"] after [\" + d + \"] checks\",\n                    D = \"[\" + e + \"] [\" + o.direction + \"] Failure detected with 0 bps audio and video for [5] seconds\",\n                    A = M ? D : x;\n                  h(null, {\n                    type: \"condition\",\n                    reasons: l,\n                    message: A,\n                    report: s,\n                    frameRate: m,\n                    videoBitRate: p,\n                    audioBitRate: v,\n                    acknowledgeFailure: P\n                  }) ? P() : f.gt.error(A + \": [%s]\", s);\n                } else setTimeout(y, d > 0 ? f.gr : f.vr);\n              }, function (t) {\n                h(t, {\n                  type: \"error\",\n                  message: \"Unable to get Connection statistics. Connection may have failed.\"\n                });\n              });\n            }, f.vr);\n          }.call(this, this.Ct, this.cr, o, c, h);\n        }\n        this.gt.info(\"[%s] Monitoring is disabled\", name);\n      }, o.prototype.setMonitorTrackState = function (i, n) {\n        e.vt(i, \"track\"), e.dn(n, \"state\");\n        var r = a.call(this, this.cr);\n        if (!t.find(r, function (t) {\n          return t.id === i.id;\n        })) return this.gt.warn(\"[%s] Unable to find track [%s] [%s] in peer connection\", this.Ct, i.kind, i.id);\n        if (!n) return this.gt.info(\"[%s] Pausing monitoring of track [%s] [%s]\", this.Ct, i.kind, i.id), this.fr.push(i);\n        var s = this.fr.length;\n        this.fr = t.filter(this.fr, function (t) {\n          return t.id !== i.id;\n        }), s !== this.fr.length && this.gt.info(\"[%s] Starting monitoring of track [%s] [%s] after it was paused\", this.Ct, i.kind, i.id);\n      }, o.prototype.on = function (t, i) {\n        switch (e.Rt(t, \"eventName\"), e.pt(i, \"listener\"), t) {\n          case \"calculatedmetrics\":\n            return this.kr.listen(i);\n          default:\n            throw new Error(\"Unsupported event \" + t);\n        }\n      }, o.prototype.toString = function () {\n        return \"PeerConnectionMonitor[\" + this.Ct + \"]\";\n      }, o;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(3)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      function e() {\n        this.init();\n      }\n      return e.prototype.init = function () {\n        if (!t.global.AudioContext && !t.global.webkitAudioContext) throw new Error(\"Browser does not support AudioContext\");\n        this.Sr = new (t.global.AudioContext || t.global.webkitAudioContext)();\n      }, e.prototype.getNativeAudioContext = function () {\n        return this.Sr;\n      }, e.prototype.toString = function () {\n        return \"AudioContext\";\n      }, e;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        package: \"telemetry\",\n        messages: [{\n          name: \"LogData\",\n          fields: [{\n            rule: \"required\",\n            type: \"LogLevel\",\n            name: \"level\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"timestamp\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"category\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"message\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"source\",\n            id: 5\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"fullQualifiedName\",\n            id: 11\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 6\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"userId\",\n            id: 7\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"environment\",\n            id: 8\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"version\",\n            id: 9\n          }, {\n            rule: \"optional\",\n            type: \"float\",\n            name: \"runtime\",\n            id: 10\n          }]\n        }, {\n          name: \"StoreLogRecords\",\n          fields: [{\n            rule: \"repeated\",\n            type: \"LogData\",\n            name: \"records\",\n            id: 1\n          }]\n        }, {\n          name: \"StoreLogRecordsResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"storedRecords\",\n            id: 2\n          }]\n        }, {\n          name: \"MetricValue\",\n          fields: [{\n            rule: \"optional\",\n            type: \"string\",\n            name: \"string\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"float\",\n            name: \"float\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"uint64\",\n            name: \"uint64\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"int64\",\n            name: \"int64\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"bool\",\n            name: \"boolean\",\n            id: 5\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"timestamp\",\n            id: 6\n          }]\n        }, {\n          name: \"MetricData\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"timestamp\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"source\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"resource\",\n            id: 5\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"kind\",\n            id: 6\n          }, {\n            rule: \"required\",\n            type: \"Metric\",\n            name: \"metric\",\n            id: 7\n          }, {\n            rule: \"optional\",\n            type: \"MetricValue\",\n            name: \"value\",\n            id: 8\n          }, {\n            rule: \"optional\",\n            type: \"MetricValue\",\n            name: \"previousValue\",\n            id: 9\n          }, {\n            rule: \"optional\",\n            type: \"uint64\",\n            name: \"elapsed\",\n            id: 10\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"fullQualifiedName\",\n            id: 11\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"environment\",\n            id: 12\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"version\",\n            id: 13\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"tool\",\n            id: 14\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"toolVersion\",\n            id: 15\n          }, {\n            rule: \"required\",\n            type: \"float\",\n            name: \"runtime\",\n            id: 16\n          }]\n        }, {\n          name: \"SubmitMetricRecords\",\n          fields: [{\n            rule: \"repeated\",\n            type: \"MetricData\",\n            name: \"records\",\n            id: 1\n          }]\n        }, {\n          name: \"SubmitMetricRecordsResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"storedRecords\",\n            id: 2\n          }]\n        }],\n        enums: [{\n          name: \"LogLevel\",\n          values: [{\n            name: \"Trace\",\n            id: 0\n          }, {\n            name: \"Debug\",\n            id: 1\n          }, {\n            name: \"Info\",\n            id: 2\n          }, {\n            name: \"Warn\",\n            id: 3\n          }, {\n            name: \"Error\",\n            id: 4\n          }, {\n            name: \"Fatal\",\n            id: 5\n          }]\n        }, {\n          name: \"Metric\",\n          values: [{\n            name: \"RoundTripTime\",\n            id: 0\n          }, {\n            name: \"DownlinkThroughputCapacity\",\n            id: 26\n          }, {\n            name: \"Initialized\",\n            id: 1\n          }, {\n            name: \"Provisioned\",\n            id: 2\n          }, {\n            name: \"SetupCompleted\",\n            id: 3\n          }, {\n            name: \"Offset\",\n            id: 4\n          }, {\n            name: \"TimeToFirstFrame\",\n            id: 5\n          }, {\n            name: \"Playing\",\n            id: 6\n          }, {\n            name: \"Stalled\",\n            id: 7\n          }, {\n            name: \"Buffering\",\n            id: 8\n          }, {\n            name: \"Seeking\",\n            id: 22\n          }, {\n            name: \"Stopped\",\n            id: 9\n          }, {\n            name: \"BitRateAdaptation\",\n            id: 10\n          }, {\n            name: \"ResolutionChanged\",\n            id: 11\n          }, {\n            name: \"DisplayResolutionChanged\",\n            id: 23\n          }, {\n            name: \"VideoBitRate\",\n            id: 28\n          }, {\n            name: \"AudioBitRate\",\n            id: 29\n          }, {\n            name: \"FrameRateChanged\",\n            id: 12\n          }, {\n            name: \"FramesDropped\",\n            id: 13\n          }, {\n            name: \"PacketsLost\",\n            id: 14\n          }, {\n            name: \"PictureLost\",\n            id: 15\n          }, {\n            name: \"PlayoutDelayChanged\",\n            id: 16\n          }, {\n            name: \"CodecChanged\",\n            id: 17\n          }, {\n            name: \"PlayerEvent\",\n            id: 21\n          }, {\n            name: \"MetricDropped\",\n            id: 18\n          }, {\n            name: \"NetworkOffline\",\n            id: 19\n          }, {\n            name: \"NetworkOnline\",\n            id: 20\n          }, {\n            name: \"NetworkType\",\n            id: 27\n          }, {\n            name: \"ApplicationForeground\",\n            id: 24\n          }, {\n            name: \"ApplicationBackground\",\n            id: 25\n          }]\n        }]\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(91), i(89), i(88)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      function r(e, r) {\n        var s = this;\n        this.Er = {}, this.Er[n.package] = new i(n), t.forEach(e, function (t) {\n          s.Er[t.package] = new i(t);\n        }), this.Tr = r || 3;\n      }\n      return r.prototype.getApiVersion = function () {\n        return this.Tr;\n      }, r.prototype.encode = function (i, n) {\n        if (\"string\" != typeof i) throw new Error(\"'type' must be a string\");\n        if (\"object\" != typeof n) throw new Error(\"'data' must be an object\");\n        var r = i.split(\".\"),\n          s = t.get(r, [0]),\n          o = t.get(r, [1]),\n          a = t.get(this.Er, [s]),\n          u = new e();\n        return a.write(o, n, u), u.finish();\n      }, r.prototype.decode = function (i, n) {\n        if (\"string\" != typeof i) throw new Error(\"'type' must be a string\");\n        var r = i.split(\".\"),\n          s = t.get(r, [0]),\n          o = t.get(r, [1]),\n          a = t.get(this.Er, [s]),\n          u = new e(n);\n        return a.read(o, u);\n      }, r;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(2), i(42), i(87)], void 0 === (r = function (t, e, i, n, r, s) {\n      \"use strict\";\n\n      var o = \"continuation\",\n        a = 2e3,\n        u = 3e5,\n        c = 18e3;\n      function h(n, s, o, a, u) {\n        e.vt(n, \"logger\"), e.pt(s, \"sendCallback\"), e.pt(o, \"receiveCallback\"), this.gt = n, this.Ir = new r(a, u), this.Rr = 0, this.ar = new i.NamedEvents(), this.Cr = {}, this.Mr = {}, this.Pr = {}, this.xr = {}, this.Dr = {}, this.Ar = {}, this.Or = o, this.qr = s, o(t.bind(f, this));\n      }\n      function f(e) {\n        if (this.hn) return this.gt.warn(\"Proto already disposed of. Unable process message\");\n        var i, n, r;\n        try {\n          i = this.Ir.decode(\"mq.Message\", s.toByteArray(e.data)), r = this.Cr[i.requestId], this.gt.info(\">> [%s] [%s]\", i.messageType, i.type), n = this.Ir.decode(i.type, i.payload);\n        } catch (t) {\n          if (this.gt.error(t), r) return r(t);\n          throw t;\n        }\n        switch (function (e, i, n) {\n          var r = t.now(),\n            s = this.Dr[e.requestId];\n          if (t.Kt(s)) {\n            var o = r - s;\n            e.wallTime = [o].concat(e.wallTime);\n          }\n          this.ar.fireAsync(\"received\", [{\n            key: e.requestId,\n            messageType: e.messageType,\n            type: e.type,\n            wallTime: e.wallTime,\n            received: r,\n            bytes: n,\n            payload: i\n          }]), delete this.Dr[e.requestId];\n        }.call(this, i, n, e.data.length), i.messageType) {\n          case \"Response\":\n            if (n.status !== o && delete this.Cr[i.requestId], clearTimeout(this.xr[i.requestId]), delete this.xr[i.requestId], !r) return;\n            return \"mq.Error\" === i.type ? r(n, null) : r(null, n);\n          case \"Request\":\n            var a = t.bind(this.sendResponse, this, i.requestId, i.type + \"Response\"),\n              u = this.Pr[i.type];\n            this.Mr[i.requestId] = t.now(), u ? u(n, a) : this.gt.info(\"Received request without a subscribed listener\");\n            break;\n          case \"Event\":\n            return function (t, e) {\n              this.ar.fire(t, e, this);\n            }.call(this, i.type, [n]);\n          default:\n            return this.gt.warn(\">> Unsupported message type [%s]\", i.messageType);\n        }\n      }\n      function d(e, i, n, r, s, c, h) {\n        return h && h.status === o ? (!this.Ar[e] && this.Cr[e] && (this.Ar[e] = function (e, i) {\n          return setTimeout(t.bind(p, this, e, u, i), u);\n        }.call(this, e, s)), function (e, i, n, r, s, o) {\n          if (!r || !r.continuationId && !r.routeKey) return this.gt.warn(\"Received request for continuation without a continuationId or routeKey\"), o();\n          var u = t.assign({}, n, {\n              continuationId: r.continuationId,\n              routeKey: r.routeKey\n            }),\n            c = {\n              requestId: e,\n              type: i,\n              payload: this.Ir.encode(i, u),\n              messageType: \"Request\"\n            },\n            h = this;\n          return setTimeout(function () {\n            if (h.Cr[e]) return l.call(h, e, c, u, s, o);\n          }, a);\n        }.call(this, e, i, n, h, r, s)) : (clearTimeout(this.Ar[e]), delete this.Ar[e], s(c, h));\n      }\n      function l(e, i, n, r, s) {\n        this.xr[e] && clearTimeout(this.xr[e]);\n        var o = r || c;\n        return this.xr[e] = setTimeout(t.bind(p, this, e, o, s), o), m.call(this, i, n);\n      }\n      function m(e, i) {\n        var n = s.toString(this.Ir.encode(\"mq.Message\", e));\n        return function (e, i, n) {\n          var r = t.now();\n          this.Dr[e.requestId] = r, this.ar.fireAsync(\"sent\", [{\n            key: e.requestId,\n            messageType: e.messageType,\n            type: e.type,\n            received: r,\n            bytes: n,\n            payload: i\n          }]);\n        }.call(this, e, i, n.length), this.qr(n);\n      }\n      function p(t, e, i) {\n        if (this.Cr[t]) return function (t, e) {\n          this.ar.fireAsync(\"timeout\", [{\n            key: t,\n            timeout: e\n          }]), delete this.Dr[t];\n        }.call(this, t, e), this.gt.warn(\"Request [%s] has not completed in [%s] ms. Dropping request.\", t, e), delete this.Cr[t], i(null, {\n          status: \"timeout\"\n        });\n      }\n      return h.prototype.onEvent = function (t, i) {\n        return this.hn ? this.gt.warn(\"Proto already disposed of. Unable to listen for event\") : (e.Rt(t, \"eventName\"), e.pt(i, \"handler\"), this.ar.listen(t, i));\n      }, h.prototype.onRequest = function (t, i) {\n        if (this.hn) return this.gt.warn(\"Proto already disposed of. Unable to listen for request\");\n        e.Rt(t, \"requestName\"), e.pt(i, \"handler\"), this.Pr[t] && this.gt.warn(\"May not set multiple handlers for the same request. Overriding existing handlers for request [%s]\", t), this.Pr[t] = i;\n        var r = this;\n        return new n.Disposable(function () {\n          r.Pr[t] = null;\n        });\n      }, h.prototype.sendRequest = function (i, n, r, s) {\n        if (this.hn) return this.gt.warn(\"Proto already disposed of. Unable to send request\"), r(null, {\n          status: \"proto-disposed\"\n        });\n        s = s || {}, e.Rt(i, \"type\"), e.vt(n, \"message\"), e.vt(s, \"settings\"), r && e.pt(r, \"callback\"), s.timeout && e.Kt(s.timeout, \"settings.timeout\");\n        var o = \"C\" + (this.Rr++).toString(),\n          a = {\n            requestId: o,\n            type: i,\n            payload: this.Ir.encode(i, n),\n            messageType: \"Request\"\n          };\n        return this.Cr[o] = t.bind(d, this, o, i, n, s.timeout, r), l.call(this, o, a, n, s.timeout, r);\n      }, h.prototype.sendResponse = function (i, n, r, s) {\n        if (this.hn) return this.gt.warn(\"Proto already disposed of. Unable to send response\"), s(null, {\n          status: \"proto-disposed\"\n        });\n        e.Rt(i, \"requestId\"), e.Rt(n, \"type\"), e.vt(r, \"message\");\n        var o = this.Mr[i];\n        o || (this.gt.error(\"Already responded to request [%s]\", i), s(new Error(\"no-response-handler\")));\n        var a = {\n          requestId: i,\n          type: n,\n          payload: this.Ir.encode(n, r),\n          messageType: \"Response\",\n          wallTime: [t.now() - o]\n        };\n        return m.call(this, a, r), delete this.Mr[i], s(null, {\n          status: \"ok\"\n        });\n      }, h.prototype.disposeOfRequests = function () {\n        t.forOwn(this.xr, function (t) {\n          clearTimeout(t);\n        }), t.forOwn(this.Ar, function (t) {\n          clearTimeout(t);\n        }), this.Cr = {}, this.Mr = {}, this.Pr = {}, this.xr = {}, this.Dr = {}, this.Ar = {};\n      }, h.prototype.dispose = function () {\n        this.hn = !0, this.Or = null, this.qr = null, this.disposeOfRequests(), this.ar.dispose();\n      }, h.prototype.getApiVersion = function () {\n        return this.Ir.getApiVersion();\n      }, h.prototype.toString = function () {\n        return \"Proto[\" + this.Ur.toString() + \"]\";\n      }, h;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(92)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      return t;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(2)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      function n(t, e) {\n        this.latestValue = null, this.subscribeCallbacks = {}, this.subscriptionTimeout = 100, this.subscriptionCount = 0, this.resetOnChange = !1, this.lastChangeTime = 0, this.isPendingChanges = !1, this.beforeChange = e, s.call(this, t);\n      }\n      function r(e) {\n        return void 0 === e || null === e ? e : t.isArray(e) ? e.slice() : e;\n      }\n      function s(t) {\n        var e = t;\n        this.beforeChange && (e = this.beforeChange(t)), this.latestValue = r(e);\n      }\n      function o(e, i) {\n        if (this.lastChangeTime = t.now(), !this.isPendingChanges && 0 !== this.subscriptionCount) {\n          if (this.isPendingChanges = !0, i) return a.call(this);\n          (function e(i) {\n            var n = this;\n            setTimeout(function () {\n              var i = t.now() - n.lastChangeTime;\n              n.resetOnChange && i < n.subscriptionTimeout ? e.call(n, n.subscriptionTimeout - i) : a.call(n);\n            }, i);\n          }).call(this, e);\n        }\n      }\n      function a() {\n        try {\n          (function () {\n            var e = this;\n            t.forOwn(e.subscribeCallbacks, function (i) {\n              t.pt(i) && i(e.latestValue);\n            });\n          }).call(this);\n        } finally {\n          this.isPendingChanges = !1;\n        }\n      }\n      return n.prototype.getValue = function () {\n        return r(this.latestValue);\n      }, n.prototype.setValue = function (t) {\n        t !== this.latestValue && (s.call(this, t), o.call(this, this.subscriptionTimeout));\n      }, n.prototype.subscribe = function (n, r) {\n        e.pt(n, \"callback\"), r && e.vt(r, \"options\");\n        var s,\n          a = this,\n          u = t.uniqueId();\n        return a.subscribeCallbacks[u] = n, a.subscriptionCount += 1, r && (\"notify\" === r.initial && o.call(a, a.subscriptionTimeout, !0), r.listenForChanges && (s = setInterval(function () {\n          var t = r.listenForChanges.callback();\n          t !== a.latestValue && a.setValue(t);\n        }, r.listenForChanges.timeout))), new i.Disposable(function () {\n          delete a.subscribeCallbacks[u], s && (clearInterval(s), s = null), a.subscriptionCount -= 1;\n        });\n      }, n.prototype.extend = function (i) {\n        switch (e.vt(i, \"options\"), i.method) {\n          case \"notifyWhenChangesStop\":\n            this.subscriptionTimeout = i.timeout, this.resetOnChange = !0;\n            break;\n          case \"notifyAtFixedRate\":\n            this.subscriptionTimeout = i.timeout;\n        }\n        return t.Kt(i.rateLimit) && (this.subscriptionTimeout = i.rateLimit), this;\n      }, n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(2)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      function n() {\n        this.Fr = [];\n      }\n      function r(i, n, r) {\n        var s = this;\n        t.isNullOrUndefined(i) && (i = []), e.isArray(i, \"args\");\n        var o = function () {\n          t.forEach(s.Fr, function (t) {\n            t.apply(n, i);\n          });\n        };\n        r ? setTimeout(function () {\n          o(), r();\n        }, 0) : o();\n      }\n      return n.prototype.fire = function (t, e) {\n        r.call(this, t, e);\n      }, n.prototype.fireAsync = function (t, e, i) {\n        r.call(this, t, e, i || function () {});\n      }, n.prototype.listen = function (n) {\n        var r = this;\n        return e.pt(n, \"listener\"), r.Fr.push(n), new i.Disposable(function () {\n          r.Fr = t.remove(r.Fr, function (t) {\n            return t === n;\n          });\n        });\n      }, n.prototype.size = function () {\n        return this.Fr.length;\n      }, n.prototype.dispose = function () {\n        this.Fr = [];\n      }, n.prototype.toString = function () {\n        return \"Event|\" + this.size();\n      }, n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(2), i(23), i(6), i(10), i(22), i(40), i(78), i(19), i(73), i(72), i(39), i(11), i(71), i(69), i(68), i(18), i(66), i(37), i(62), i(14), i(7), i(36), i(3), i(38)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c, h, f, d, l, m, p, v, g, y, w, b, k, S, E, T, I, R) {\n      \"use strict\";\n\n      var C = \"2018-12-21T23:46:27Z\",\n        M = 50;\n      function P(s) {\n        s = s || {}, e.vt(s, \"options\"), s.streamingSourceMapping && (e.vt(s.streamingSourceMapping, \"options.streamingSourceMapping\"), e.Rt(s.streamingSourceMapping.replacement, \"options.streamingSourceMapping.replacement\"), s.streamingSourceMapping.patternToReplace instanceof RegExp || e.Rt(s.streamingSourceMapping.patternToReplace, \"options.streamingSourceMapping.patternToReplace\")), t.isNullOrUndefined(s.disableMultiplePCastInstanceWarning) || e.dn(s.disableMultiplePCastInstanceWarning, \"options.disableMultiplePCastInstanceWarning\"), t.isNullOrUndefined(s.disableGlobalErrorListener) || e.dn(s.disableGlobalErrorListener, \"options.disableGlobalErrorListener\"), t.isNullOrUndefined(s.disableBeforeUnload) || e.dn(s.disableBeforeUnload, \"options.disableBeforeUnload\"), t.isNullOrUndefined(s.disableConsoleLogging) || e.dn(s.disableConsoleLogging, \"options.disableConsoleLogging\"), t.isNullOrUndefined(s.treatBackgroundAsOffline) || e.dn(s.treatBackgroundAsOffline, \"options.treatBackgroundAsOffline\"), t.isNullOrUndefined(s.reAuthenticateOnForeground) || e.dn(s.reAuthenticateOnForeground, \"options.reAuthenticateOnForeground\"), this.Nr = new i.Observable(\"offline\"), this.Gi = s.uri || h.DefaultPCastUri, this.Lr = s.deviceId || \"\", this.ft = C, this.gt = s.logger || r.createPCastLogger(this.Gi, s.disableConsoleLogging), this.jr = s.metricsTransmitter || p.createMetricsTransmitter(this.Gi), this.Br = new f(s, this.gt), this.rr = s.shaka, this.Wr = s.videojs || I.global.videojs, this._r = s.rtmp || {}, this.zr = s.streamingSourceMapping, this.v = new n.DisposableList(), this.Vr = s.disableMultiplePCastInstanceWarning, this.Hr = !0 === s.treatBackgroundAsOffline, this.Gr = !0 === s.reAuthenticateOnForeground, this.Kr = !0, this.Jr = [], this.Xr = [], this.fn = new S(s.features), this.Qr = {}, this.$r = {};\n        var o = this,\n          a = t.filter(this.fn.getFeatures(), S.isFeatureSupported),\n          u = function (t) {\n            o.gt.error(\"Window Error Event Triggered with pcast in [%s] state\", o.Nr.getValue(), t ? t.error : \"Unknown Error\");\n          };\n        this.gt.info(\"Device supports features [%s], user selected [%s]\", a, this.fn.getFeatures()), t.addEventListener(I.global, \"unload\", function () {\n          return o.gt.info(\"Window Unload Event Triggered\"), o.stop(\"window-unload\");\n        }), s.disableGlobalErrorListener || (t.addEventListener(I.global, \"error\", u), I.global.__phenixGlobalErrorListenerDisposable && I.global.__phenixGlobalErrorListenerDisposable.dispose(), I.global.__phenixGlobalErrorListenerDisposable = new n.Disposable(function () {\n          t.removeEventListener(I.global, \"unload\", u);\n        })), s.disableBeforeUnload || t.addEventListener(I.global, \"beforeunload\", function () {\n          return o.gt.info(\"Window Before Unload Event Triggered\"), o.stop(\"window-beforeunload\");\n        }), I.webrtcSupported || \"ReactNative\" !== I.browser || I.shim(), I.webrtcSupported && (function () {\n          var t = this,\n            e = new I.RTCPeerConnection();\n          \"Safari\" === I.browser && I.browserVersion > 10 && (e.addTransceiver(\"audio\"), e.addTransceiver(\"video\"));\n          try {\n            var i = function (i) {\n                var n = R.getH264ProfileIds(i.sdp);\n                if (t.Xr = R.getSupportedCodecs(i.sdp), t.gt.info(\"Supported WebRTC video codecs [%s]\", t.Xr), 0 === n.length) return t.gt.info(\"Unable to find local h264 profile level id\", i.sdp);\n                t.gt.info(\"Found local h264 profile level ids [%s]\", n, i.sdp), t.Jr = n, e.close && e.close();\n              },\n              n = function (i) {\n                t.gt.error(\"Unable to create offer to get local h264 profile level id\", i), e.close && e.close();\n              },\n              r = {\n                offerToReceiveAudio: !0,\n                offerToReceiveVideo: !0\n              };\n            if (\"function\" == typeof I.global.Promise) return e.createOffer(r).then(i).catch(n);\n            e.createOffer(i, n, r);\n          } catch (i) {\n            t.gt.error(\"Failed to set environment defaults. Creating the Offer failed\", i), e.close && e.close();\n          }\n        }.call(this), W.call(this));\n      }\n      function x() {\n        if (q.call(this) && \"offline\" === this.Nr.getValue()) return this.gt.warn(\"[PCast] connected after being offline. Going offline.\"), $.call(this, \"critical-network-issue\"), this.stop(\"critical-network-issue\");\n        var t = this;\n        this.Yr = !0, t.Zr || t.On.authenticate(t.Tn, function (e, i) {\n          t.ts && (e ? (t.gt.error(\"Failed to authenticate [%s]\", e), $.call(t, \"unauthorized\"), t.ts.call(t, t, \"unauthorized\", \"\")) : \"ok\" !== i.status ? (t.gt.warn(\"Failed to authenticate, status [%s]\", i.status), $.call(t, \"unauthorized\"), t.ts.call(t, t, \"unauthorized\", \"\")) : ($.call(t, \"online\"), t.ts.call(t, t, i.status, i.sessionId)));\n        });\n      }\n      function D() {\n        $.call(this, \"reconnecting\");\n      }\n      function A(t) {\n        t && e.Wt(\"reason\", t), $.call(this, \"reconnected\", t), this.gt.info(\"Attempting to re-authenticate after reconnected event\"), function () {\n          var t = this;\n          t.Zr || t.On.authenticate(t.Tn, function (e, i) {\n            var n = !0 === t.Yr;\n            if (e) return t.gt.error(\"Unable to authenticate after reconnect to WebSocket [%s]\", e), $.call(t, \"reconnect-failed\");\n            if (\"ok\" !== i.status) {\n              t.gt.warn(\"Unable to authenticate after reconnect to WebSocket, status [%s]\", i.status);\n              var r = \"capacity\" === i.status ? i.status : \"reconnect-failed\";\n              return $.call(t, r);\n            }\n            return t.Yr = !0, t.gt.info(\"Successfully authenticated after reconnect to WebSocket\"), $.call(t, \"online\", null, n);\n          });\n        }.call(this);\n      }\n      function O() {\n        if (q.call(this) && \"reconnecting\" === this.Nr.getValue()) return this.gt.warn(\"[PCast] disconnected after attempting to reconnect. Going offline.\"), $.call(this, \"critical-network-issue\"), this.stop(\"critical-network-issue\");\n        this.Yr = !1, $.call(this, \"offline\");\n      }\n      function q() {\n        return t.reduce(this.es, function (t, e) {\n          return t ? \"closed\" === e.iceConnectionState : t;\n        }, !0);\n      }\n      function U(t) {\n        var e = t.streamId,\n          i = t.reason;\n        return N.call(this, e, i);\n      }\n      function F(e) {\n        var i = e.streamId,\n          n = e.status,\n          r = e.reason,\n          s = this.ns[i];\n        s && s.dataQualityChangedCallback(n, r);\n        var o = this.wn[i];\n        o && t.pt(o.dataQualityChangedCallback) && o.dataQualityChangedCallback(o, n, r);\n      }\n      function N(e, i) {\n        this.gt.info(\"[%s] Stream ended with reason [%s]\", e, i);\n        var n = this.ns[e];\n        n && n.streamEndedCallback(w.getStreamEndedStatus(i), i, !0), delete this.ns[e];\n        var r = this.wn[e];\n        r && t.pt(r.publisherEndedCallback) && r.publisherEndedCallback(r, w.getStreamEndedStatus(i), i), delete this.wn[e];\n        var s = this.es[e];\n        s && Y.call(this, e, s, \"ended\"), delete this.es[e];\n      }\n      function L(e, i, n, r, s, o) {\n        var a,\n          u = this,\n          c = !1,\n          h = function (h) {\n            if (!i.failed && !c) {\n              var f = R.getNumberOfActiveSections(n),\n                d = h.stream || t.get(h, [\"streams\", 0]),\n                l = \"real-time\";\n              if (!d) return i.failed = !0, u.gt.warn(\"[%s] No remote stream\", e), s.call(u, void 0, \"failed\");\n              if (a && clearTimeout(a), f === d.getTracks().length || \"ReactNative\" === I.browser) {\n                c = !0, u.gt.info(\"[%s] Got remote stream\", e), r.setProperty(\"kind\", l);\n                var m = t.assign({\n                    networkLag: u.rs\n                  }, o),\n                  p = new k(e, d, n, r, m, u.gt),\n                  v = new w(l, p, u.gt);\n                v.on(E.streamEvents.playerError.name, function (t, e) {\n                  u.gt.warn(\"Phenix Real-Time Stream Error [%s] [%s]\", t, e), v.streamErrorCallback(l, e);\n                }), v.on(E.streamEvents.stopped.name, function (t) {\n                  !i.stopped && u.On && (u.gt.info(\"[%s] media stream has stopped with reason\", e, t), Y.call(u, e, n, \"stop\"), u.On.destroyStream(e, t || \"\", function (t, i) {\n                    t ? u.gt.error(\"[%s] failed to destroy stream [%s]\", e, t) : \"ok\" === i.status ? u.gt.info(\"[%s] destroyed stream\", e) : u.gt.warn(\"[%s] failed to destroy stream, status [%s]\", e, i.status);\n                  }), i.stopped = !0);\n                }), u.ns[e] = v, s.call(u, p);\n              } else a = setTimeout(function () {\n                return i.failed = !0, u.gt.warn(\"[%s] Did not receive all tracks within [%s] ms\", e, 3e3), s.call(u, void 0, \"failed\");\n              }, 3e3);\n            }\n          };\n        t.addEventListener(n, \"addstream\", h), t.addEventListener(n, \"track\", h);\n      }\n      function j(e, i, n) {\n        var r = this;\n        t.addEventListener(i, \"icecandidate\", function (t) {\n          var i = t.candidate;\n          i ? r.gt.info(\"[%s] ICE candidate: [%s] [%s] [%s]\", e, i.sdpMid, i.sdpMLineIndex, i.candidate) : r.gt.info(\"[%s] ICE candidate discovery complete\", e), n && n(i);\n        });\n      }\n      function B(e, i) {\n        var n = this;\n        t.addEventListener(i, \"negotiationneeded\", function (t) {\n          n.gt.info(\"[%s] Negotiation needed\");\n        }), t.addEventListener(i, \"iceconnectionstatechange\", function (t) {\n          n.gt.info(\"[%s] ICE connection state changed [%s]\", e, i.iceConnectionState);\n        }), t.addEventListener(i, \"icegatheringstatechange \", function (t) {\n          n.gt.info(\"[%s] ICE gathering state changed [%s]\", e, i.iceGatheringState);\n        }), t.addEventListener(i, \"signalingstatechange\", function (t) {\n          n.gt.info(\"[%s] Signaling state changed [%s]\", e, i.signalingState);\n        }), t.addEventListener(i, \"connectionstatechange\", function (t) {\n          n.gt.info(\"[%s] Connection state changed [%s]\", e, i.connectionState);\n        });\n      }\n      function W(e) {\n        var i = this;\n        switch (I.browser) {\n          case \"Edge\":\n            return I.getDestinations(function (n) {\n              0 === t.filter(n, function (t) {\n                return \"audio\" === t.kind;\n              }).length ? (i.Kr && i.gt.info(\"Detected no audio devices attached to machine\"), i.Kr = !1) : i.Kr = !0, e && e();\n            });\n          default:\n            e && e();\n        }\n      }\n      function _(e, i, n, r, s, o) {\n        if (\"IE\" === I.browser) throw new Error(\"Subscribing in real-time not supported on IE without the PhenixP2P Plugin\");\n        var a = this,\n          u = {\n            failed: !1,\n            stopped: !1\n          },\n          c = n.match(/a=crypto:/i),\n          h = n.match(/m=application /i),\n          f = new I.RTCPeerConnection(e, {\n            optional: [{\n              DtlsSrtpKeyAgreement: !c\n            }, {\n              RtpDataChannels: h\n            }]\n          });\n        if (rt(f), a.es[i] = f, \"Firefox\" === I.browser || \"Edge\" === I.browser) {\n          if (n.match(/(\\nm=video)/g) && n.match(/(\\nm=audio)/g)) {\n            var d = /(a=candidate)((.|\\n)*)(?=m=)/g;\n            n = n.replace(d, n.match(d) + \"a=end-of-candidates\\n\");\n          }\n          n = (n += \"a=end-of-candidates\").replace(/(\\na=ice-options:trickle)/g, \"\");\n        }\n        \"ReactNative\" === I.browser && (n = R.setGroupLineOrderToMatchMediaSectionOrder(n));\n        var l = function (t) {\n          u.failed || (u.failed = !0, u.stopped = !0, delete a.es[i], delete a.ns[i], delete a.ss[i], Y.call(a, i, f, \"failure\"), s.call(a, void 0, t || \"failed\"));\n        };\n        L.call(a, i, u, f, r, s, o), j.call(a, i, f, function (t) {\n          a.ss[i] && a.ss[i](t);\n        }), B.call(a, i, f);\n        var m = new I.RTCSessionDescription({\n            type: \"offer\",\n            sdp: n\n          }),\n          p = {\n            mandatory: {}\n          };\n        if (\"Chrome\" === I.browser || \"ReactNative\" === I.browser ? (p.mandatory.OfferToReceiveVideo = !1 !== o.receiveVideo, p.mandatory.OfferToReceiveAudio = !1 !== o.receiveAudio) : (p.mandatory.offerToReceiveVideo = !1 !== o.receiveVideo, p.mandatory.offerToReceiveAudio = !1 !== o.receiveAudio), \"function\" == typeof I.global.Promise) return f.setRemoteDescription(m).then(t.bind(V, a)).then(function () {\n          return f.createAnswer(p);\n        }).then(t.bind(H, a)).then(function (t) {\n          return new I.global.Promise(function (e, n) {\n            G.call(a, i, t, e, n);\n          });\n        }).then(function (t) {\n          return f.setLocalDescription(t);\n        }).then(t.bind(z, a)).catch(l);\n        f.setRemoteDescription(m, function () {\n          V.call(a), f.createAnswer(function (e) {\n            H.call(a, e), G.call(a, i, e, function (e) {\n              f.setLocalDescription(e, t.bind(z, a), l);\n            }, l);\n          }, l, p);\n        }, l);\n      }\n      function z() {\n        this.gt.debug(\"Set local description (answer)\");\n      }\n      function V() {\n        this.gt.debug(\"Set remote description (offer)\");\n      }\n      function H(t) {\n        return this.gt.info(\"Created answer [%s]\", t.sdp), t;\n      }\n      function G(e, i, n, r) {\n        var s = this;\n        s.On.setAnswerDescription(e, i.sdp, function (i, o) {\n          if (i) return s.gt.error(\"Failed to set answer description [%s]\", i), r();\n          if (\"ok\" !== o.status) return s.gt.warn(\"Failed to set answer description, status [%s]\", o.status), r(o.status);\n          o && t.includes(o.options, \"ice-candidates\") && (s.ss[e] = t.bind(K, s, e));\n          var a = o.sessionDescription.sdp;\n          if (S.isIOS()) {\n            var u = t.get(S.getIOSVersion(), [\"major\"]);\n            s.gt.info(\"iOS Version is [%s]\", u), u < 11 && (a = a.replace(\"BUNDLE audio video\", \"BUNDLE video audio\"));\n          }\n          var c = new I.RTCSessionDescription({\n            type: \"answer\",\n            sdp: a\n          });\n          n(c);\n        });\n      }\n      function K(t, e) {\n        var i = this,\n          r = this.Qr[t];\n        r || (r = this.Qr[t] = []), e ? r.push(e) : (i.$r[t] && (i.gt.debug(\"[%s] Dismissing scheduled batch for adding ICE candidates. Sending candidates immediately because there are no more candidates.\", t), clearTimeout(i.$r[t])), J.call(i, t, [\"completed\"]), delete this.Qr[t], delete this.$r[t]), this.$r[t] ? i.gt.debug(\"[%s] Using existing batch for adding ICE candidates\", t) : (this.$r[t] = setTimeout(function () {\n          J.call(i, t, []), delete i.$r[t];\n        }, M), this.v.add(new n.Disposable(function () {\n          i.$r[t] && clearTimeout(i.$r[t]), delete i.Qr[t], delete i.$r[t];\n        })));\n      }\n      function J(e, i) {\n        var n = this.Qr[e] || [];\n        if (0 !== n.length || 0 !== i.length) {\n          var r = this;\n          delete r.Qr[e], this.gt.info(\"[%s] Adding [%s] ICE Candidates with Options [%s]\", e, n.length, i), this.On.addIceCandidates(e, n, i, function (i, n) {\n            return i ? r.gt.error(\"Failed to add ICE candidate [%s]\", i) : \"ok\" !== n.status ? r.gt.warn(\"Failed to add ICE candidate, status [%s]\", n.status) : void (t.includes(n.options, \"cancel\") && delete r.ss[e]);\n          });\n        }\n      }\n      function X(i, n, r, s, o) {\n        var u = /a=x-rtmp:(rtmp:\\/\\/[^\\n]*)/m,\n          c = n.match(u),\n          h = n.match(/a=x-playlist:([^\\n]*[.]mpd\\??[^\\s]*)/m),\n          f = n.match(/a=x-playlist:([^\\n]*[.]m3u8\\??[^\\s]*)/m),\n          d = t.get(h, [1], \"\"),\n          l = t.get(f, [1], \"\"),\n          m = h && 2 === h.length,\n          p = f && 2 === f.length,\n          v = !!c,\n          g = [];\n        (m || p) && g.push(\"streaming\"), v && g.push(\"rtmp\");\n        var y = this.fn.getPreferredFeatureFromPublisherCapabilities(g, !0);\n        switch (this.zr && (d = d.replace(this.zr.patternToReplace, this.zr.replacement), l = l.replace(this.zr.patternToReplace, this.zr.replacement)), y) {\n          case E.types.rtmp.name:\n            var w = [],\n              b = a.parseEnvFromPcastBaseUri(this.Gi);\n            for (this.gt.info(\"Selecting flash playback for rtmp.\"); c;) {\n              var k = t.get(c, [1], \"\"),\n                T = t.get(k.match(/(rtmp:\\/\\/[^\\n\\s]*)/), [0]),\n                I = t.get(k.match(/bitrate=([^\\n\\s;]*)/), [1]),\n                R = t.get(k.match(/resolution=([^\\n\\s;]*)/), [1]);\n              n = n.replace(k, \"\"), T && w.push({\n                uri: T,\n                bitrate: I,\n                resolution: R\n              }), c = n.match(u);\n            }\n            return Q.call(this, i, w, E.types.rtmp.name, r, s, t.assign({\n              env: b\n            }, this._r, o));\n          case E.types.dash.name:\n            return this.gt.info(\"Selecting dash playback for live stream.\"), o.isDrmProtectedContent = /[?&]drmToken=([^&]*)/.test(d) || /x-widevine-service-certificate/.test(n), o.isDrmProtectedContent && (o.widevineServiceCertificateUrl = n.match(/a=x-widevine-service-certificate:([^\\n][^\\s]*)/m)[1], o.playreadyLicenseUrl = n.match(/a=x-playready-license-url:([^\\n][^\\s]*)/m)[1]), this.rr && !this.rr.Player.isBrowserSupported() ? (this.gt.warn(\"[%s] Shaka does not support this browser\", i), s.call(this, void 0, \"browser-unsupported\")) : Q.call(this, i, d, E.types.dash.name, r, s, o);\n          case E.types.hls.name:\n            return this.gt.info(\"Selecting hls playback for live stream.\"), o.isDrmProtectedContent = /[?&]drmToken=([^&]*)/.test(l), o.hlsTargetDuration && (e.Kt(o.hlsTargetDuration, \"options.hlsTargetDuration\"), l = l + (l.indexOf(\"?\") > -1 ? \"&\" : \"?\") + \"targetDuration=\" + o.hlsTargetDuration), Q.call(this, i, l, E.types.hls.name, r, s, t.assign({\n              preferNative: S.shouldUseNativeHls\n            }, o));\n        }\n        return this.gt.warn(\"[%s] Device does not support [%s] playback. Creating live viewer stream failed.\", i, S.mapPCastCapabilitiesToFeatures(g)), s.call(this, void 0, \"failed\");\n      }\n      function Q(t, e, i, n, r, s) {\n        var o = this,\n          a = new b(i, t, e, n, s, this.rr, this.gt),\n          u = new w(i, a, this.gt);\n        n.setProperty(\"kind\", i), u.on(E.streamEvents.playerError.name, function (t, e) {\n          o.gt.warn(\"Phenix Live Stream Player Error [%s] [%s]\", t, e), u.streamErrorCallback(t, e);\n        }), u.on(E.streamEvents.stopped.name, function (e) {\n          if (!o.On) return o.gt.warn(\"Unable to destroy stream [%s]\", t);\n          o.On.destroyStream(t, e || \"\", function (e, i) {\n            e ? o.gt.error(\"[%s] failed to destroy stream, [%s]\", t, e) : \"ok\" === i.status || o.gt.warn(\"[%s] failed to destroy stream, status [%s]\", t, i.status);\n          });\n        }), this.ns[t] = u, r.call(this, u.getPhenixMediaStream());\n      }\n      function $(t, e, i) {\n        var n,\n          r = this.getStatus();\n        if (r !== t && (\"critical-network-issue\" !== (n = r) && \"offline\" !== n || \"offline\" !== t)) {\n          this.Nr.setValue(t);\n          var s = this.getProtocol(),\n            o = s ? s.getSessionId() : \"\";\n          if (this.gt.debug(\"[%s] Transition from [%s] to [%s] with reason [%s]\", o, r, t, e), i) return;\n          switch (t) {\n            case \"connecting\":\n            case \"reconnecting\":\n            case \"reconnected\":\n              break;\n            case \"critical-network-issue\":\n            case \"unauthorized\":\n            case \"reconnect-failed\":\n            case \"offline\":\n              return this.os.call(this);\n            case \"online\":\n              return this.as.call(this);\n          }\n        }\n      }\n      function Y(t, e, i) {\n        \"closed\" === e.signalingState || e.__closing || (this.gt.debug(\"[%s] close peer connection [%s]\", t, i), e.close(), e.__closing = !0);\n      }\n      function Z() {\n        return A.call(this, \"entered-foreground\");\n      }\n      function tt() {\n        return $.call(this, \"offline\", \"entered-background\");\n      }\n      function et(e) {\n        if (!e) return e;\n        var i = t.isArray(e) ? [] : {},\n          n = t.bind(it, null, i);\n        return t.isArray(e) ? t.forEach(e, n) : t.forOwn(e, n), i;\n      }\n      function it(e, i, n) {\n        if (null !== i) {\n          if (t.vt(i) || t.isArray(i)) return e[n] = et(i);\n          if (!t.Wt(i) || !t.Wt(n)) return e[n] = i;\n          var r = t.startsWith(i.toLowerCase(), n.toLowerCase()) ? i.substring(n.length, i.length).toLowerCase() : i;\n          e[n] = r;\n        }\n      }\n      function nt(e) {\n        switch (I.browser) {\n          case \"Firefox\":\n            !function (e) {\n              if (!e) return e;\n              t.forEach(e.iceServers, function (e) {\n                e.urls = t.filter(e.urls, function (e) {\n                  return !t.startsWith(e, \"turns\");\n                });\n              });\n            }(e);\n            break;\n          case \"Edge\":\n            !function (e) {\n              if (!e) return e;\n              t.forEach(e.iceServers, function (e) {\n                e.urls = t.map(e.urls, function (t) {\n                  return t.replace(\"transport=tcp\", \"transport=udp\");\n                });\n              });\n            }(e);\n        }\n        return e;\n      }\n      P.prototype.getBaseUri = function () {\n        return this.Gi;\n      }, P.prototype.getStatus = function () {\n        return this.Nr.getValue();\n      }, P.prototype.getObservableStatus = function () {\n        return this.Nr;\n      }, P.prototype.isStarted = function () {\n        return this.tr;\n      }, P.prototype.reAuthenticate = function (t) {\n        if (e.Rt(t, \"authToken\"), \"online\" === this.Nr.getValue()) return this.gt.warn(\"Already authenticated. Denying request to re-authenticate\");\n        this.gt.info(\"Attempting to re-authenticate with new auth token [%s]\", t), this.Tn = t, A.call(this);\n      }, P.prototype.start = function (i, n, r, s) {\n        if (e.Rt(i, \"authToken\"), e.pt(n, \"authenticationCallback\"), e.pt(r, \"onlineCallback\"), e.pt(s, \"offlineCallback\"), this.tr) throw new Error('\"Already started\"');\n        t.Kt(I.global.__phenixInstantiatedPCastCount) ? I.global.__phenixInstantiatedPCastCount++ : I.global.__phenixInstantiatedPCastCount = 1, I.global.__phenixInstantiatedPCastCount > 1 && !this.Vr && this.gt.warn(\"Avoid using multiple instances of PCast as this uses unnecessary resources and will reduce performance. This is your [%s] simultaneous instance. Remember to dispose all resources when done with them by calling .stop() or .dispose()\", I.global.__phenixInstantiatedPCastCount), this.Zr = !1, this.tr = !0, this.Tn = i, this.ts = n, this.as = r, this.os = s, this.Ki = new g(this.gt, this.jr), this.us = new h(this.ft, this.Gi, this.gt, this.Ki), $.call(this, \"connecting\"), this.es = {}, this.ns = {}, this.ss = {}, this.wn = {}, this.cs = [], this.v.add(this.us), this.v.add(this.Ki), this.Hr && this.v.add(o.onBackground(t.bind(tt, this))), (this.Hr || this.Gr) && this.v.add(o.onForeground(t.bind(Z, this)));\n        var a = this;\n        a.us.resolveUri(function (e, i) {\n          if (e) {\n            if (a.gt.error(\"Failed to connect to [%s]\", a.Gi, e), $.call(a, \"offline\"), a.ts) switch (e.code) {\n              case 0:\n                a.ts.call(a, a, \"network-unavailable\", \"\");\n                break;\n              case 503:\n                a.ts.call(a, a, \"capacity\", \"\");\n                break;\n              default:\n                a.ts.call(a, a, \"failed\", \"\");\n            }\n            return a.Zr = !0, void (a.tr = !1);\n          }\n          a.gt.info(\"Discovered end point [%s] with RTT [%s]\", i.uri, i.roundTripTime), a.rs = i.roundTripTime / 2, a.hs = i.uri, a.tr && function (e) {\n            this.On = new c(e, this.Lr, this.ft, this.gt), this.On.onEvent(\"connected\", t.bind(x, this)), this.On.onEvent(\"reconnecting\", t.bind(D, this)), this.On.onEvent(\"reconnected\", t.bind(A, this)), this.On.onEvent(\"disconnected\", t.bind(O, this)), this.On.onEvent(\"pcast.StreamEnded\", t.bind(U, this)), this.On.onEvent(\"pcast.StreamDataQuality\", t.bind(F, this)), this.gt.setObservableSessionId && this.gt.setObservableSessionId(this.On.getObservableSessionId()), this.fs && (this.fs.dispose(), this.Ki.setSessionId(null)), this.fs = this.On.getObservableSessionId().subscribe(t.bind(this.Ki.setSessionId, this.Ki));\n          }.call(a, i.uri);\n        });\n      }, P.prototype.stop = function (i) {\n        if (i = i || \"\", e.Wt(i, \"reason\"), this.tr) {\n          this.gt.info(\"Stopping pcast instance with reason [%s]\", i), this.Zr = !0, this.tr = !1, delete this.ts;\n          try {\n            var n = this;\n            t.forOwn(this.ns, function (t, e) {\n              N.call(n, e, i);\n            }), t.forOwn(this.wn, function (e, r) {\n              N.call(n, r, i), t.includes(e.getOptions(), \"detached\") || e.stop(i, !0);\n            }), t.forOwn(this.es, function (t, e) {\n              N.call(n, e, i);\n            }), t.forEach(this.cs, function (e) {\n              var i = e.getTracks();\n              t.forEach(i, function (t) {\n                t.stop();\n              });\n            });\n          } finally {\n            if (this.On) {\n              try {\n                this.On.disconnect();\n              } catch (t) {\n                n.gt.warn(\"Failed to disconnect pcast\", t);\n              }\n              this.On = null;\n            }\n            this.gt.setObservableSessionId && this.gt.setObservableSessionId(null), this.fs && (this.fs.dispose(), this.Ki.setSessionId(null)), I.global.__phenixInstantiatedPCastCount--, this.v.dispose();\n          }\n        }\n      }, P.prototype.getUserMedia = function (t, i, n) {\n        if (\"IE\" === I.browser) throw new Error(\"Publishing not supported on IE\");\n        return e.vt(t, \"options\"), e.pt(i, \"callback\"), n && e.pt(n, \"onScreenShare\"), new d(this.gt, this.Br, n).getUserMedia(t, i);\n      }, P.prototype.publish = function (i, n, r, s, o) {\n        if (\"IE\" === I.browser) throw new Error(\"Publishing not supported on IE\");\n        if (!this.tr) throw new Error(\"PCast not started. Unable to publish. Please start pcast first.\");\n        if (s = s || [], o = o || {}, e.Rt(i, \"streamToken\"), e.pt(r, \"callback\"), e.isArray(s, \"tags\"), e.vt(o, \"options\"), !t.vt(n) && !t.Wt(n)) throw new Error('\"streamToPublish\" must be an object or URI');\n        var a = this,\n          u = t.assign({}, o, {\n            negotiate: !0\n          });\n        t.Wt(n) ? (u.negotiate = !1, u.connectUri = n) : u.connectUri = o.connectUri, s.length > 0 && (u.tags = s);\n        var c = new v(this.getProtocol().getSessionId(), this.gt, this.jr);\n        c.setProperty(\"resource\", \"upload\"), this.On.setupStream(\"upload\", i, u, 2 * a.rs, function (i, s) {\n          if (i) return a.gt.error(\"Failed to create uploader [%s]\", i), r.call(a, a, \"failed\");\n          if (\"ok\" === s.status) {\n            var h = s.createStreamResponse.streamId;\n            if (c.setStreamId(h), c.setStartOffset(s.createStreamResponse.offset), c.recordMetric(\"Provisioned\"), c.recordMetric(\"RoundTripTime\", {\n              uint64: 2 * a.rs\n            }, null, {\n              resource: a.hs,\n              kind: \"https\"\n            }), !0 === u.negotiate) {\n              var f = s.createStreamResponse.createOfferDescriptionResponse.sessionDescription.sdp,\n                d = nt(et(s.createStreamResponse.rtcConfiguration));\n              if (\"Opera\" === I.browser && a.Jr.length > 0) {\n                var m = t.get(R.getH264ProfileIds(f), [0]),\n                  p = R.getH264ProfileIdWithSameProfileAndEqualToOrHigherLevel(a.Jr, m);\n                p ? m !== p && (a.gt.info(\"[%s] Replacing publisher h264 profile level id [%s] with new value [%s] in offer sdp\", h, m, p), f = R.replaceH264ProfileId(f, m, p)) : a.gt.warn(\"[%s] Unable to find new publisher h264 profile level id to replace [%s]. Rejected environment defaults of [%s]\", h, m, a.Jr);\n              }\n              return function (i, n, r, s, o, a, u, c) {\n                var h = this,\n                  f = {\n                    failed: !1,\n                    stopped: !1\n                  },\n                  d = s.match(/a=crypto:/i),\n                  m = s.match(/m=application /i),\n                  p = new I.RTCPeerConnection(i, {\n                    optional: [{\n                      DtlsSrtpKeyAgreement: !d\n                    }, {\n                      RtpDataChannels: m\n                    }]\n                  }),\n                  v = null,\n                  g = null;\n                if (rt(p), h.es[r] = p, p.addStream(n), \"Firefox\" === I.browser || \"Edge\" === I.browser) {\n                  if (s.match(/(\\nm=video)/g) && s.match(/(\\nm=audio)/g)) {\n                    var w = /(a=candidate)((.|\\n)*)(?=m=)/g;\n                    s = s.replace(w, s.match(w) + \"a=end-of-candidates\\n\");\n                  }\n                  s = (s += \"a=end-of-candidates\").replace(/(\\na=ice-options:trickle)/g, \"\");\n                }\n                var b = function (t) {\n                    f.failed || (f.failed = !0, f.stopped = !0, delete h.es[r], delete h.wn[r], delete h.ss[r], Y.call(h, r, p, \"failure\"), a.call(h, void 0, t || \"failed\"));\n                  },\n                  k = function () {\n                    var i = /(b=AS:([0-9]*)[\\n\\r]*)/gi,\n                      o = /(mid:video)([\\n\\r]*)/gi,\n                      u = 0,\n                      d = i.exec(s);\n                    d && d.length >= 3 && (u = 1e3 * d[2]);\n                    var m = {\n                      getStreamId: function () {\n                        return r;\n                      },\n                      getStream: function () {\n                        return n;\n                      },\n                      isActive: function () {\n                        return !f.stopped;\n                      },\n                      hasEnded: function () {\n                        switch (p.iceConnectionState) {\n                          case \"new\":\n                          case \"checking\":\n                          case \"connected\":\n                          case \"completed\":\n                            return !1;\n                          case \"disconnected\":\n                          case \"failed\":\n                          case \"closed\":\n                          default:\n                            return !0;\n                        }\n                      },\n                      stop: function (t) {\n                        !f.stopped && h.On && (h.gt.info(\"[%s] stopping publisher with reason [%s]\", r, t || \"client-action\"), Y.call(h, r, p, \"closed\"), h.On.destroyStream(r, t || \"\", function (t, e) {\n                          t ? h.gt.error(\"[%s] failed to destroy stream [%s]\", r, t) : \"ok\" === e.status ? h.gt.info(\"[%s] destroyed stream\", r) : h.gt.warn(\"[%s] failed to destroy stream, status [%s]\", r, e.status);\n                        }), f.stopped = !0);\n                      },\n                      setPublisherEndedCallback: function (t) {\n                        e.pt(t, \"callback\"), this.publisherEndedCallback = t;\n                      },\n                      setDataQualityChangedCallback: function (t) {\n                        e.pt(t, \"callback\"), this.dataQualityChangedCallback = t;\n                      },\n                      limitBandwidth: function (t) {\n                        if (\"Edge\" === I.browser) return h.gt.warn(\"Limit bandwidth not support on [%s]\", I.browser);\n                        e.Kt(t, \"bandwidthLimit\");\n                        var n = u ? Math.min(t, u) : t,\n                          r = p.remoteDescription;\n                        h.gt.info(\"Changing bandwidth limit to [%s]\", n);\n                        var s = r.sdp.replace(i, \"\");\n                        s = s.replace(o, function (t, e, i, r, s) {\n                          return [e, i, \"b=AS:\", Math.ceil(n / 1e3), i].join(\"\");\n                        });\n                        var a = new I.RTCSessionDescription({\n                          type: r.type,\n                          sdp: s\n                        });\n                        return p.setRemoteDescription(a), {\n                          dispose: function () {\n                            p.setRemoteDescription(r);\n                          }\n                        };\n                      },\n                      getMonitor: function () {\n                        return g;\n                      },\n                      monitor: function (i, s) {\n                        e.vt(i, \"options\"), e.pt(s, \"callback\");\n                        var o = new l(r, p, h.gt);\n                        return i.direction = \"outbound\", o.start(i, function () {\n                          return h.wn[r] === m && !f.stopped;\n                        }, function (t, e) {\n                          return t && h.gt.warn(\"[%s] Publisher monitor triggered unrecoverable error [%s]\", t), h.gt.warn(\"[%s] Publisher triggered monitor condition for [%s]\", r, e.reasons), s(m, \"client-side-failure\", e);\n                        }), t.forEach(n.getTracks(), function (e) {\n                          t.addEventListener(e, \"readystatechange\", function () {\n                            if (\"ended\" === e.readyState) return h.gt.warn(\"[%s] Publisher track has failed [%s]\", r, e), s(m, \"camera-track-failure\", {\n                              type: e.kind + \"-track-ended\",\n                              message: \"Publisher \" + e.kind + \" track has ended in an unrecoverable way. This may require reconfiguring your camera or microphone.\"\n                            });\n                          });\n                        }), g = o, o;\n                      },\n                      addBitRateThreshold: function (t, e) {\n                        return new T(\"Publisher\", g, function () {\n                          return u;\n                        }).addThreshold(t, e);\n                      },\n                      setRemoteMediaStreamCallback: function (t) {\n                        e.pt(t, \"callback\"), this.remoteMediaStreamCallback = t, v && t(m, v);\n                      },\n                      getOptions: function () {\n                        return c;\n                      },\n                      getStats: function (t) {\n                        e.pt(t, \"callback\"), this.hr || (this.hr = {});\n                        var i = this;\n                        return I.getStats(p, null, function (e) {\n                          t(y.convertPeerConnectionStats(e, i.hr));\n                        });\n                      }\n                    };\n                    h.wn[r] = m, a.call(h, m);\n                  };\n                L.call(h, r, f, p, o, function (t) {\n                  var e = h.wn[r];\n                  v = t, e && e.remoteMediaStreamCallback && e.remoteMediaStreamCallback(e, t);\n                }, u), j.call(h, r, p, function (t) {\n                  h.ss[r] && h.ss[r](t);\n                }), B.call(h, r, p);\n                var S = new I.RTCSessionDescription({\n                    type: \"offer\",\n                    sdp: s\n                  }),\n                  E = {\n                    mandatory: {}\n                  };\n                if (\"Chrome\" === I.browser || \"ReactNative\" === I.browser ? (E.mandatory.OfferToReceiveVideo = !0 === u.receiveVideo, E.mandatory.OfferToReceiveAudio = !0 === u.receiveAudio) : (E.mandatory.offerToReceiveVideo = !0 === u.receiveVideo, E.mandatory.offerToReceiveAudio = !0 === u.receiveAudio), \"function\" == typeof I.global.Promise) return p.setRemoteDescription(S).then(t.bind(V, h)).then(function () {\n                  return p.createAnswer(E);\n                }).then(t.bind(H, h)).then(function (t) {\n                  return new I.global.Promise(function (e, i) {\n                    G.call(h, r, t, e, i);\n                  });\n                }).then(function (t) {\n                  return p.setLocalDescription(t);\n                }).then(t.bind(z, h)).then(k).catch(b);\n                h.gt.info(\"[%s] Using legacy callback api\", r), p.setRemoteDescription(S, function () {\n                  V.call(h), p.createAnswer(function (t) {\n                    H.call(h, t), G.call(h, r, t, function (t) {\n                      p.setLocalDescription(t, function () {\n                        z.call(h), k();\n                      }, b);\n                    }, b);\n                  }, b, E);\n                }, b);\n              }.call(a, d, n, h, f, c, function (t, e) {\n                c.recordMetric(\"SetupCompleted\", {\n                  string: e ? \"failed\" : \"ok\"\n                }), e ? r.call(a, a, \"failed\", null) : r.call(a, a, \"ok\", t);\n              }, o, s.createStreamResponse.options);\n            }\n            return function (t, i, n) {\n              var r = this,\n                s = {\n                  stopped: !1\n                },\n                o = {\n                  getStreamId: function () {\n                    return t;\n                  },\n                  getStream: function () {\n                    return r.gt.debug(\"[%s] Unable to get stream on publisher of remote origin.\", t), null;\n                  },\n                  getStats: function () {\n                    return r.gt.debug(\"[%s] Unable to get stream stats on publisher of remote origin.\", t), null;\n                  },\n                  isActive: function () {\n                    return !s.stopped;\n                  },\n                  hasEnded: function () {\n                    return s.stopped;\n                  },\n                  stop: function (e) {\n                    s.stopped || (r.gt.info(\"[%s] stopping publisher with reason [%s]\", t, e), r.On.destroyStream(t, e || \"\", function (e, i) {\n                      e ? r.gt.error(\"[%s] failed to destroy stream [%s]\", t, e) : \"ok\" === i.status ? r.gt.info(\"[%s] destroyed stream\", t) : r.gt.warn(\"[%s] failed to destroy stream, status [%s]\", t, i.status);\n                    }), s.stopped = !0);\n                  },\n                  setPublisherEndedCallback: function (t) {\n                    e.pt(t, \"callback\"), this.publisherEndedCallback = t;\n                  },\n                  setDataQualityChangedCallback: function (t) {\n                    e.pt(t, \"callback\"), this.dataQualityChangedCallback = t;\n                  },\n                  getOptions: function () {\n                    return n;\n                  },\n                  monitor: function (t, i) {\n                    e.vt(t, \"options\"), e.pt(i, \"callback\");\n                  },\n                  getMonitor: function () {\n                    return null;\n                  }\n                };\n              r.wn[t] = o, i(o);\n            }.call(a, h, function (t, e) {\n              c.recordMetric(\"SetupCompleted\", {\n                string: e ? \"failed\" : \"ok\"\n              }), e ? r.call(a, a, \"failed\", null) : r.call(a, a, \"ok\", t);\n            }, s.createStreamResponse.options);\n          }\n          switch (a.gt.warn(\"Failed to create uploader, status [%s]\", s.status), s.status) {\n            case \"timeout\":\n            case \"capacity\":\n            case \"unauthorized\":\n              return r.call(a, a, s.status);\n            default:\n              return r.call(a, a, \"failed\");\n          }\n        });\n      }, P.prototype.subscribe = function (i, n, r) {\n        if (!this.tr) throw new Error(\"PCast not started. Unable to subscribe. Please start pcast first.\");\n        r = r || {}, e.Rt(i, \"streamToken\"), e.pt(n, \"callback\"), e.vt(r, \"options\");\n        var s = this;\n        W.call(s, function () {\n          var e = t.assign({}, r, {\n              negotiate: !1 !== r.negotiate\n            }),\n            o = new v(s.getProtocol().getSessionId(), s.gt, s.jr),\n            a = t.assign({}, r);\n          a.canPlaybackAudio = s.Kr, !s.Kr && r.disableAudioIfNoOutputFound && !1 !== r.receiveAudio && (e.receiveAudio = !1, a.receiveAudio = !1, a.forcedAudioDisabled = !0), o.setProperty(\"resource\", \"download\"), s.On.setupStream(\"download\", i, e, 2 * s.rs, function (e, i) {\n            if (e) return s.gt.error(\"Failed to create downloader [%s]\", e), n.call(s, s, \"failed\");\n            if (\"ok\" === i.status) {\n              var r = i.createStreamResponse.streamId,\n                u = i.createStreamResponse.createOfferDescriptionResponse.sessionDescription.sdp,\n                c = nt(et(i.createStreamResponse.rtcConfiguration)),\n                h = t.bind(_, s, c),\n                f = u.match(/a=x-playlist:/) || u.match(/a=x-rtmp:/);\n              if (f && (h = X), o.setStreamId(r), o.setStartOffset(i.createStreamResponse.offset), o.recordMetric(\"Provisioned\"), o.recordMetric(\"RoundTripTime\", {\n                uint64: 2 * s.rs\n              }, null, {\n                resource: s.getBaseUri(),\n                kind: \"https\"\n              }), a.originStartTime = t.now() - i.createStreamResponse.offset + s.rs, !f && (\"Chrome\" === I.browser && I.browserVersion >= 62 && S.isMobile() || \"Opera\" === I.browser) && s.Jr.length > 0) {\n                var d = t.get(R.getH264ProfileIds(u), [0]),\n                  l = R.getH264ProfileIdWithSameOrHigherProfileAndEqualToOrHigherLevel(s.Jr, d);\n                l ? d !== l && (s.gt.info(\"[%s] Replacing subscriber h264 profile level id [%s] with new value [%s] in offer sdp\", r, d, l), u = R.replaceH264ProfileId(u, d, l)) : s.gt.warn(\"[%s] Unable to find new subscriber h264 profile level id to replace [%s]. Rejected environment defaults of [%s]\", r, d, s.Jr);\n              }\n              return h.call(s, r, u, o, function (t, e) {\n                o.recordMetric(\"SetupCompleted\", {\n                  string: e ? \"failed\" : \"ok\"\n                }), e ? n.call(s, s, \"failed\", null) : n.call(s, s, \"ok\", t);\n              }, a);\n            }\n            switch (s.gt.warn(\"Failed to create downloader, status [%s]\", i.status), i.status) {\n              case \"capacity\":\n              case \"stream-ended\":\n              case \"origin-stream-ended\":\n              case \"streaming-not-available\":\n              case \"unauthorized\":\n              case \"timeout\":\n                return n.call(s, s, i.status);\n              default:\n                return n.call(s, s, \"failed\");\n            }\n          });\n        });\n      }, P.prototype.getProtocol = function () {\n        return this.On;\n      }, P.prototype.getLogger = function () {\n        return this.gt;\n      }, P.prototype.toString = function () {\n        var t = this.getProtocol();\n        return \"PCast[\" + (t ? t.getSessionId() : \"\") || 0;\n      };\n      var rt = function (e) {\n        if (t.isUndefined(e.onaddstream)) {\n          var i = [],\n            n = [];\n          t.addEventListener(e, \"track\", function (e) {\n            t.forEach(e.streams, function (e) {\n              t.includes(i, e) || i.push(e);\n            });\n          }), e.getRemoteStreams = function () {\n            return i;\n          }, e.getLocalStreams = function () {\n            return n;\n          }, e.addStream = function (i) {\n            t.includes(n, i) || n.push(i), t.forEach(i.getTracks(), function (t) {\n              e.addTrack(t, i);\n            });\n          };\n        }\n      };\n      return P;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i(t) {\n        this.init(t);\n      }\n      function n(e, i) {\n        if (this.ds && this.ds.dispose(), !i) return this.ls.limitBandwidth(e);\n        var n = i.getObservableMembers();\n        this.ds = n.subscribe(t.bind(r, this, e), {\n          initial: \"notify\"\n        });\n      }\n      function r(t, e) {\n        if (e.length !== this.ms) {\n          this.ms = e.length;\n          var i = t / Math.max(1, this.ms - 1);\n          this.ls.limitBandwidth(i);\n        }\n      }\n      return i.prototype.init = function (t) {\n        e.vt(t, \"publisher\"), this.ls = t, this.ms = 0, this.ps = null, this.ds = null;\n      }, i.prototype.connect = function (i, r) {\n        e.vt(i, \"roomService\"), r = r || {};\n        var s = i.getObservableActiveRoom(),\n          o = r.roomBandwidthLimit || 5e6;\n        this.ps = s.subscribe(t.bind(n, this, o), {\n          initial: \"notify\"\n        });\n      }, i.prototype.close = function () {\n        this.ps && this.ps.dispose(), this.ds && this.ds.dispose(), this.ps = null, this.ds = null;\n      }, i.prototype.toString = function () {\n        return \"PublisherBandwidthAdjuster\";\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(23), i(19), i(48)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      function s(t, r) {\n        e.isArray(t, \"userMediaStreams\"), r = r || {}, this.Gi = r.uri || n.DefaultPCastUri, this.gt = r.logger || i.createPCastLogger(this.Gi), this.vs = [], this.wn = t;\n      }\n      function o(t, e, i) {\n        var n = new r(i);\n        n.connect(t, e), this.vs.push(n);\n      }\n      return s.prototype.start = function (e, i) {\n        i = i || {}, t.forEach(this.wn, t.bind(o, this, e, i));\n      }, s.prototype.stop = function () {\n        t.forEach(this.vs, function (t) {\n          t.close();\n        }), this.vs = [];\n      }, s.prototype.toString = function () {\n        return \"BandwidthMonitor\";\n      }, s;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(25)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      function n(t) {\n        e.vt(t, \"roomService\"), this.jn = t;\n      }\n      function r(t, e, n) {\n        return n && n.room && (n.channel = new i(n.room), delete n.room), t(e, n);\n      }\n      return n.prototype.start = function () {\n        return this.jn.start.apply(this.jn, arguments);\n      }, n.prototype.getChannelInfo = function (i, n, s) {\n        return i ? e.Rt(i, \"channelId\") : e.Rt(n, \"alias\"), e.pt(s, \"callback\"), this.jn.getRoomInfo(i, n, t.bind(r, null, s));\n      }, n.prototype.createChannel = function (i, n) {\n        return e.vt(i, \"channel\"), e.Rt(i.name, \"channel.name\"), e.Rt(i.type, \"channel.type\"), e.Wt(i.description, \"channel.description\"), e.pt(n, \"callback\"), this.jn.createRoom(i, t.bind(r, null, n));\n      }, n.prototype.enterChannel = function (i, n, s) {\n        return i ? e.Rt(i, \"roomId\") : e.Rt(n, \"alias\"), e.pt(s, \"callback\"), this.jn.enterRoom(i, n, t.bind(r, null, s));\n      }, n.prototype.leaveChannel = function () {\n        return this.jn.leaveRoom.apply(this.jn, arguments);\n      }, n.prototype.getChatService = function () {\n        return this.jn.getChatService.apply(this.jn, arguments);\n      }, n.prototype.getSelf = function () {\n        return this.jn.getSelf.apply(this.jn, arguments);\n      }, n.prototype.getObservableActiveChannel = function () {\n        return this.jn.getObservableActiveRoom.apply(this.jn, arguments);\n      }, n.prototype.updateSelf = function () {\n        return this.jn.updateSelf.apply(this.jn, arguments);\n      }, n.prototype.updateMember = function () {\n        return this.jn.updateMember.apply(this.jn, arguments);\n      }, n.prototype.updateChannel = function () {\n        return this.jn.updateRoom.apply(this.jn, arguments);\n      }, n.prototype.revertChannelChanges = function () {\n        return this.jn.revertRoomChanges.apply(this.jn, arguments);\n      }, n.prototype.revertMemberChanges = function () {\n        return this.jn.revertMemberChanges.apply(this.jn, arguments);\n      }, n.prototype.isInChannel = function () {\n        return this.jn.isInRoom.apply(this.jn, arguments);\n      }, n.prototype.toString = function () {\n        return \"ChannelService\";\n      }, n.prototype.stop = function () {\n        return this.jn.stop.apply(this.jn, arguments);\n      }, n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(2), i(27), i(50), i(25), i(26), i(17), i(12), i(13), i(16)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c, h, f) {\n      \"use strict\";\n\n      var d = {\n        maxOfflineTime: 864e5,\n        maxReconnectFrequency: 6e4\n      };\n      function l(i) {\n        e.vt(i, \"options\"), i.roomExpress && e.vt(i.roomExpress, \"options.roomExpress\");\n        var n = t.assign({\n          reconnectOptions: d\n        }, i);\n        this.gs = i.roomExpress || new r(n), this.ys = !i.roomExpress, this.gt = this.gs.getPCastExpress().getPCast().getLogger();\n      }\n      function m(e, i, n) {\n        n && t.hasIndexOrKey(n, \"roomService\") && (n.channelService = n.roomService ? new s(n.roomService) : null, delete n.roomService), n && t.hasIndexOrKey(n, \"room\") && (n.channel = n.room ? new o(n.room) : null, delete n.room), e(i, n);\n      }\n      return l.prototype.dispose = function () {\n        this.ys && this.gs.dispose(), this.gt.info(\"Disposed Channel Express Instance\");\n      }, l.prototype.getRoomExpress = function () {\n        return this.gs;\n      }, l.prototype.getPCastExpress = function () {\n        return this.gs.getPCastExpress();\n      }, l.prototype.createChannel = function (i, n) {\n        e.vt(i, \"options\"), e.vt(i.channel, \"options.channel\");\n        var r = t.assign({\n          room: i.channel\n        }, i);\n        r.room.type = c.types.channel.name, delete r.channel, this.gs.createRoom(r, t.bind(m, null, n));\n      }, l.prototype.joinChannel = function (i, n, r) {\n        e.vt(i, \"options\"), e.pt(n, \"joinChannelCallback\"), e.pt(r, \"subscriberCallback\"), i.videoElement && e.vt(i.videoElement, \"options.videoElement\"), i.streamSelectionStrategy && e.Rt(i.streamSelectionStrategy, \"options.streamSelectionStrategy\");\n        var s,\n          o,\n          u,\n          f = t.assign({\n            type: c.types.channel.name,\n            role: h.roles.audience.name\n          }, i),\n          d = new a(i.streamSelectionStrategy, this.gt),\n          l = \"\",\n          p = this;\n        f.channelId && (f.roomId = f.channelId), delete f.channelId, p.gs.joinRoom(f, function (e, i) {\n          var r = !i || t.assign({}, i);\n          if (i && i.roomService) {\n            var o = i.roomService.leaveRoom,\n              a = i.roomService.getObservableActiveRoom().getValue();\n            u = i.roomService, l = a ? a.getRoomId() : \"\", p.gt.info(\"Joined channel [%s] with [%s] selection strategy\", l, d.getStrategy()), r.roomService.leaveRoom = function (t) {\n              s && s.stop(\"leave-channel\"), o(t);\n            };\n          }\n          m(n, e, r);\n        }, function e(n, a) {\n          var c = t.filter(n, function (t) {\n              return t.getObservableRole().getValue() === h.roles.presenter.name && t.getObservableStreams().getValue().length > 0;\n            }),\n            f = u && u.getLastResetTimestamp() > t.now() - 1e4,\n            m = !!a && \"client-side-failure\" !== a || !f && \"client-side-failure\" === a || !s || !o,\n            v = d.getNext(c, m),\n            g = v ? v.getObservableStreams().getValue()[0] : null,\n            y = g ? g.getPCastStreamId() : \"\";\n          if (!v || !g) return 0 === c.length ? (d.reset(), s = null, o = null, r(null, {\n            status: \"no-stream-playing\"\n          })) : a ? (p.gt.info(\"Unable to find a new presenter to replace stream [%s] that ended in channel [%s] with status [%s] and [%s] black-listed members\", o, l, a, d.getNumberOfBlackListedMembers()), o && s && s.isActive() && s.stop(\"presenter-failure\"), r(null, {\n            status: a || \"unable-to-recover\"\n          })) : r(null, {\n            status: \"no-stream-playing\"\n          });\n          if (!y) return p.gt.info(\"Channel [%s] presenter has no stream\", l), r(null, {\n            status: \"no-stream-playing\"\n          });\n          if (!f && y === o) return a ? (p.gt.info(\"Unable to find a new presenter to replace stream [%s] that ended in channel [%s] with status [%s]\", o, l, a), o && s && s.stop(\"same-presenter-failure\"), r(null, {\n            status: a || \"unable-to-recover\"\n          })) : void 0;\n          o && s && s.stop(\"change-presenter\");\n          var w = function (t) {\n              var i = u ? u.getObservableActiveRoom().getValue() : null,\n                n = i ? i.getObservableMembers().getValue() : [];\n              if (i) return e(n, t);\n            },\n            b = t.assign({}, {\n              monitor: {\n                callback: t.bind(function (t, e, i) {\n                  if (o === t) return e ? w(\"unable-to-subscribe\") : \"app-background\" === i.reason ? r(e, i) : i.retry && \"high-availability\" !== d.getStrategy() ? (p.gt.info(\"Retrying to subscribe to channel [%s] after stream [%s] failed with reason [%s]\", l, t, i.status), i.retry()) : \"ok\" !== i.status ? \"custom\" === i.reason && \"client-side-failure\" !== i.description ? r(e, i) : w(i.status) : void 0;\n                }, this, y),\n                options: {\n                  conditionCountForNotificationThreshold: 8\n                }\n              }\n            }, i),\n            k = o ? a ? \"recovered-from-failure\" : \"stream-override\" : \"stream-started\";\n          o = y, p.gs.subscribeToMemberStream(g, b, t.bind(function (t, e, i) {\n            if (o === t) {\n              if (i && \"ok\" === i.status && (i.reason = k), e || i && \"ok\" !== i.status) return p.gt.info(\"[%s] Issue with stream [%s]. Trying next member\", t, i ? i.status : \"\", e), w(i ? i.status : \"\");\n              i && i.mediaStream ? s = i.mediaStream : (o = null, s = null), r(e, i);\n            }\n          }, this, y));\n        });\n      }, l.prototype.publishToChannel = function (i, n) {\n        e.vt(i, \"options\"), e.pt(n, \"callback\");\n        var r = t.assign({\n          memberRole: h.roles.presenter.name,\n          streamType: f.types.presentation.name,\n          room: i.channel\n        }, i);\n        r.room.type = c.types.channel.name, delete r.channel, this.gs.publishToRoom(r, t.bind(m, null, n));\n      }, l.prototype.publishScreenToChannel = function (i, n) {\n        e.vt(i, \"options\"), e.pt(n, \"callback\");\n        var r = t.assign({\n          memberRole: h.roles.presenter.name,\n          streamType: f.types.presentation.name,\n          room: i.channel\n        }, i);\n        r.room.type = c.types.channel.name, delete r.channel, this.gs.publishScreenToRoom(r, t.bind(m, null, n));\n      }, l;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        errorSeverity: {\n          recoverable: {\n            id: 1,\n            name: \"RECOVERABLE\"\n          },\n          critical: {\n            id: 2,\n            name: \"CRITICAL\"\n          }\n        }\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      var i = [{\n          \"16x9\": [{\n            2160: 3840\n          }, {\n            1080: 1920\n          }, {\n            768: 1366\n          }, {\n            720: 1280\n          }, {\n            576: 1024\n          }, {\n            480: 853\n          }, {\n            360: 640\n          }, {\n            180: 320\n          }]\n        }, {\n          \"4x3\": [{\n            1200: 1600\n          }, {\n            1080: 1440\n          }, {\n            720: 960\n          }, {\n            600: 800\n          }, {\n            576: 768\n          }, {\n            480: 640\n          }, {\n            360: 480\n          }, {\n            288: 352\n          }, {\n            240: 320\n          }, {\n            144: 176\n          }, {\n            120: 160\n          }]\n        }],\n        n = {\n          fallbackToLower: {\n            id: 0,\n            name: \"fallbackToLower\"\n          },\n          fallbackToHigher: {\n            id: 1,\n            name: \"fallbackToHigher\"\n          },\n          fallbackToLowerThenHigher: {\n            id: 2,\n            name: \"fallbackToLowerThenHigher\"\n          },\n          exact: {\n            id: 3,\n            name: \"exact\"\n          }\n        };\n      function r(t) {\n        e.vt(t, \"options\"), t.resolutionSelectionStrategy && e.Tt(t.resolutionSelectionStrategy, n, \"options.resolutionSelectionStrategy\"), t.aspectRatio && e.Rt(t.aspectRatio, \"options.aspectRatio\"), t.resolutionHeight && e.Kt(t.resolutionHeight, \"options.resolutionHeight\"), t.frameRate && e.Kt(t.frameRate, \"options.frameRate\"), this.ws = t.resolutionSelectionStrategy || n.fallbackToLowerThenHigher.name, this.bs = t.aspectRatio || \"16x9\", this.ks = t.resolutionHeight || 720, this.Ss = t.frameRate || 15;\n      }\n      function s(t) {\n        return e.Kt(t, \"value\"), 2 * Math.floor((t + 1) / 2);\n      }\n      function o(e, n) {\n        var r,\n          s,\n          o,\n          a,\n          l = u(n, i),\n          m = c(n, i),\n          p = c(e.toString(), l),\n          v = 0 === p,\n          g = i.length - 1 === m;\n        if (t.Kt(p)) {\n          if (v) return g ? null : (s = u(r = h(++m, i), i), o = h(p = d(this.ks, s), l), a = this.calculateWidthByAspectRatio(o, r), {\n            aspectRatio: r,\n            height: parseInt(o),\n            width: parseInt(a)\n          });\n          p--;\n        } else if (!(p = d(e, l))) return;\n        return r = h(m, i), o = h(p, s = f(m, i)), a = s[p][o], {\n          aspectRatio: r,\n          height: parseInt(o),\n          width: parseInt(a)\n        };\n      }\n      function a(e, n) {\n        var r,\n          s,\n          o,\n          a,\n          d,\n          l,\n          m = u(n, i),\n          p = c(n, i),\n          v = c(e.toString(), m),\n          g = v === m.length - 1,\n          y = i.length - 1 === p;\n        if (t.Kt(v)) {\n          if (g) return y ? null : (r = h(++p, i), o = this.ks, a = this.calculateWidthByAspectRatio(o, r), {\n            aspectRatio: r,\n            height: parseInt(o),\n            width: parseInt(a)\n          });\n          v++;\n        } else if (d = e, l = m, !(v = t.keys(l[l.length - 1])[0] > d ? null : t.reduce(l, function (e, i, n) {\n          if (!e) return n;\n          var r = t.keys(l[e])[0],\n            s = t.keys(i)[0];\n          return s > d ? e : Math.abs(d - s) < Math.abs(d - r) ? n : e;\n        }))) return;\n        return r = h(p, i), o = h(v, s = f(p, i)), a = s[v][o], {\n          aspectRatio: r,\n          height: parseInt(o),\n          width: parseInt(a)\n        };\n      }\n      function u(e, i) {\n        var n = t.find(i, function (t) {\n          return t.hasOwnProperty(e);\n        });\n        return n ? n[e] : null;\n      }\n      function c(e, i) {\n        return t.findIndex(i, function (t) {\n          return t.hasOwnProperty(e);\n        });\n      }\n      function h(e, i) {\n        return t.keys(i[e])[0];\n      }\n      function f(e, i) {\n        var n = t.keys(i[e]);\n        return i[e][n[0]];\n      }\n      function d(e, i) {\n        return t.keys(i[0])[0] < e ? null : t.reduce(i, function (n, r, s) {\n          if (!n) return s;\n          var o = t.keys(i[n])[0],\n            a = t.keys(r)[0];\n          return a < e ? n : Math.abs(e - a) < Math.abs(e - o) ? s : n;\n        });\n      }\n      return r.prototype.getDefaultResolution = function () {\n        var t = u(this.bs, i),\n          e = u(this.ks, t) || this.calculateWidthByAspectRatio(this.ks, this.bs);\n        return {\n          height: this.ks,\n          width: e,\n          aspectRatio: this.bs\n        };\n      }, r.prototype.getDefaultFrameRate = function () {\n        return this.Ss;\n      }, r.prototype.getNextResolution = function (t, i) {\n        switch (e.Kt(t, \"height\"), e.Rt(i, \"aspectRatio\"), this.ws) {\n          case n.fallbackToLower.name:\n            return a.call(this, t, i);\n          case n.fallbackToHigher.name:\n            return o.call(this, t, i);\n          case n.fallbackToLowerThenHigher.name:\n            var r = null;\n            return t > this.ks ? r = o.call(this, t, i) : (r = a.call(this, t, i)) && r.height || (r = o.call(this, this.ks, this.bs)), r;\n          case n.exact.name:\n          default:\n            return;\n        }\n      }, r.prototype.canResolveNextResolution = function () {\n        return this.ws !== n.exact.name;\n      }, r.prototype.calculateWidthByAspectRatio = function (t, e) {\n        switch (e) {\n          case \"16x9\":\n            return s(16 / 9 * t);\n          case \"4x3\":\n            return s(4 / 3 * t);\n          default:\n            throw new Error(\"Aspect Ratio not supported\");\n        }\n      }, r;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i(t) {\n        e.vt(t, \"logger\"), this.gt = t, this.init();\n      }\n      return i.prototype.init = function () {}, i.prototype.onValue = function (t) {\n        this.Es = t;\n      }, i.prototype.startDetection = function (i, n) {\n        return function (i, n) {\n          e.vt(i, \"audioVolumeMeter\");\n          var r = this,\n            s = (n = n || {}).speakingHysteresisInterval || 50,\n            o = n.silenceHysteresisInterval || 1500;\n          e.Kt(s, \"options.speakingHysteresisInterval\"), e.Kt(o, \"options.silenceHysteresisInterval\");\n          var a = !1,\n            u = t.now() + s,\n            c = t.now() + o;\n          i.onValue(function (n) {\n            e.vt(i, \"audioVolumeMeter\"), e.Kt(n.date, \"value.date\"), e.Kt(n.value, \"value.value\"), e.Kt(n.smoothedValue, \"value.smoothedValue\"), e.Kt(n.smoothedPeakValue, \"value.smoothedPeakValue\"), e.Kt(n.clipped, \"value.clipped\");\n            var h = n.value > .01 && n.value > 2 * n.smoothedValue && n.value > .25 * n.smoothedPeakValue,\n              f = n.value > .8 * n.smoothedValue,\n              d = n.value < .5 * n.smoothedValue,\n              l = !h;\n            (h || a && f) && u < n.date ? (c = t.utc(n.date) + o, a || (a = !0, r.gt.info(\"Speaking detected\"), r.Es && r.Es(\"speaking\"))) : (d || !a && l) && c < n.date && (u = t.utc(n.date) + s, a && (a = !1, r.gt.info(\"Silence detected\"), r.Es && r.Es(\"silence\")));\n          });\n        }.call(this, i, n);\n      }, i.prototype.toString = function () {\n        return \"AudioSpeakerDetection\";\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i(t) {\n        e.vt(t, \"logger\"), this.gt = t;\n      }\n      function n(e) {\n        for (var i = e.inputBuffer.getChannelData(0), n = 0, r = 0, s = 0; s < i.length; s++) n += i[s] * i[s], Math.abs(i[s]) > .99 && r++;\n        this.Ts = Math.sqrt(n / i.length), this.Is = this.Rs * this.Ts + (1 - this.Rs) * this.Is, this.Cs = Math.max(this.Ts, this.Rs * this.Ts + (1 - this.Rs) * this.Cs), this.Ms = r, this.Es && this.Es.call(this, {\n          date: t.now(),\n          value: this.Ts,\n          smoothedValue: this.Is,\n          smoothedPeakValue: this.Cs,\n          clipped: this.Ms\n        });\n      }\n      return i.prototype.init = function (i, r) {\n        e.vt(i, \"context\"), e.pt(i.createScriptProcessor, \"context.createScriptProcessor\"), r = parseFloat(r || 1 / 16), e.Kt(r, \"alpha\"), this.Ps = i, this.Rs = r, this.Ts = 0, this.Is = 0, this.Cs = 0, this.Ms = 0, this.xs = i.createScriptProcessor(4096, 1, 1), t.addEventListener(this.xs, \"audioprocess\", t.bind(n, this));\n      }, i.prototype.onValue = function (t) {\n        this.Es = t;\n      }, i.prototype.getValue = function () {\n        return this.Ts;\n      }, i.prototype.getSmoothedValue = function () {\n        return this.Is;\n      }, i.prototype.getSmoothedPeakValue = function () {\n        return this.Cs;\n      }, i.prototype.setAlpha = function (t) {\n        e.Kt(t, \"alpha\"), this.Rs = parseFloat(t);\n      }, i.prototype.connect = function (t) {\n        return function (t) {\n          e.vt(t, \"stream\"), t.getAudioTracks().length > 0 ? (this.Ds = this.Ps.createMediaStreamSource(t), this.Ds.connect(this.xs), this.xs.connect(this.Ps.destination)) : this.gt.info(\"Stream has no audio tracks\");\n        }.call(this, t);\n      }, i.prototype.stop = function () {\n        return function () {\n          this.Ds && this.Ds.disconnect(), this.xs.disconnect();\n        }.call(this);\n      }, i.prototype.toString = function () {\n        return \"AudioVolumeMeter\";\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(55)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      function n(t) {\n        e.vt(t, \"logger\"), this.gt = t, this.As = {};\n      }\n      return n.prototype.stopAllMeters = function () {\n        t.forOwn(this.As, function (t) {\n          t.stop();\n        });\n      }, n.prototype.getAudioVolumeMeter = function (t) {\n        return e.vt(t, \"stream\"), e.Rt(t.id, \"streamId\"), this.As[t.id] || (this.As[t.id] = new i(this.gt)), this.As[t.id];\n      }, n.prototype.getAudioVolumeMeters = function () {\n        return t.values(this.As);\n      }, n.prototype.toString = function () {\n        return \"AudioVolumeMeterFactory\";\n      }, n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(23), i(19), i(40), i(56), i(54)], void 0 === (r = function (t, e, i, n, r, s, o) {\n      \"use strict\";\n\n      function a(o, a) {\n        e.isArray(o, \"userMediaStreams\"), a = a || {}, this.Gi = a.uri || n.DefaultPCastUri, this.gt = a.logger || i.createPCastLogger(this.Gi), this.Sr = a.audioContext || new r(), this.Os = this.Sr.getNativeAudioContext(), this.qs = null, this.Us = o, this.Fs = !t.vt(a.audioContext), this.Ns = new s(this.gt), t.forEach(this.Us, t.bind(u, this, a));\n      }\n      function u(t, i) {\n        e.vt(i, \"stream\"), e.vt(t, \"options\");\n        var n = this.Ns.getAudioVolumeMeter(i);\n        n.init(this.Os, t.alpha), n.connect(i);\n      }\n      function c(t, i) {\n        e.vt(i, \"stream\"), e.vt(t, \"options\");\n        var n = this.Ns.getAudioVolumeMeter(i),\n          r = new o(this.gt);\n        t.alpha && n.setAlpha(t.alpha), r.onValue(this.qs), r.startDetection(n, t);\n      }\n      return a.prototype.start = function (i, n) {\n        e.pt(n, \"callback\"), this.qs = n, i = i || {}, t.forEach(this.Us, t.bind(c, this, i));\n      }, a.prototype.stop = function () {\n        t.forEach(this.getAudioVolumeMeters(), function (t) {\n          t.onValue(function () {});\n        }), this.qs = null;\n      }, a.prototype.getAudioVolumeMeter = function (t) {\n        return e.vt(t, \"stream\"), this.Ns.getAudioVolumeMeter(t);\n      }, a.prototype.getAudioVolumeMeters = function () {\n        return this.Ns.getAudioVolumeMeters();\n      }, a.prototype.dispose = function () {\n        this.Fs && this.Os.close(), this.Ns.stopAllMeters(), this.Us = null;\n      }, a.prototype.toString = function () {\n        return \"AudioSpeakerDetector\";\n      }, a;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(2), i(31)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      function s(t) {\n        e.vt(t, \"pcast\"), e.pt(t.getLogger, \"pcast.getLogger\"), e.pt(t.getProtocol, \"pcast.getProtocol\"), this.Dn = t, this.gt = t.getLogger(), this.On = t.getProtocol(), this.w = new i.Observable(!1), this.Ls = null, e.vt(this.gt, \"this._logger\"), e.vt(this.On, \"this._protocol\"), this.$n = new r(this.Dn);\n      }\n      function o(t) {\n        switch (e.vt(t, \"event\"), e.Rt(t.roomId, \"event.roomId\"), e.Rt(t.eventType, \"event.eventType\"), e.isArray(t.chatMessages, \"event.chatMessages\"), t.eventType) {\n          case \"Message\":\n            this.gt.debug(\"[%s] Room messages [%s]\", t.roomId, t.chatMessages);\n            var i = this.js[t.roomId];\n            f(t.chatMessages), i && i(null, {\n              status: \"ok\",\n              chatMessages: t.chatMessages\n            });\n            break;\n          default:\n            this.gt.warn(\"Unsupported room conversation event [%s]\", t.eventType);\n        }\n      }\n      function a(t) {}\n      function u(e) {\n        this.Ls && this.Ls !== e && function () {\n          var e = this;\n          t.forOwn(this.js, function (t, i) {\n            c.call(e, i, 1);\n          });\n        }.call(this);\n      }\n      function c(t, i) {\n        e.Rt(t, \"roomId\"), e.Kt(i, \"batchSize\"), h.call(this), this.$n.assertAuthorized();\n        var n = this.$n.getPCastSessionId();\n        this.Ls = n, this.gt.info(\"Subscribe to room [%s] conversation with batch size of [%s]\", t, i);\n        var r = this;\n        this.On.subscribeToRoomConversation(n, t, i, function (e, i) {\n          var n = r.js[t];\n          if (!n) return r.gt.warn(\"No subscription callback set for room [%s]\", t);\n          if (e) return r.gt.error(\"Subscribe to room conversation failed with error [%s]\", e), n(e, null);\n          var s = {\n            status: i.status\n          };\n          if (\"ok\" !== i.status) return delete r.js[t], r.gt.warn(\"Subscribe to room conversation failed with status [%s]\", i.status), n(null, s);\n          s.chatMessages = i.chatMessages, f(s.chatMessages), n(null, s);\n        });\n      }\n      function h() {\n        if (!this.w.getValue()) throw new Error(\"ChatService not Enabled. Please start before performing actions.\");\n      }\n      function f(e) {\n        t.forEach(e, function (e) {\n          !function (e) {\n            e.timestamp && (e.timestamp = t.utc(e.timestamp)), e.from && (e.from.lastUpdate = t.utc(e.from.lastUpdate));\n          }(e);\n        });\n      }\n      return s.prototype.start = function () {\n        if (!this.w.getValue()) {\n          this.v = new n.DisposableList(), this.js = {}, this.w.setValue(!0), function () {\n            var e = this.$n.getObservableStatus().subscribe(t.bind(a, this)),\n              i = this.$n.getObservableSessionId().subscribe(t.bind(u, this));\n            this.v.add(e), this.v.add(i);\n          }.call(this);\n          var e = this.On.onEvent(\"chat.RoomConversationEvent\", t.bind(o, this));\n          this.v.add(e);\n        }\n      }, s.prototype.stop = function () {\n        this.w.getValue() && this.v && this.v.dispose();\n      }, s.prototype.getObservableChatEnabled = function () {\n        return this.w;\n      }, s.prototype.sendMessageToRoom = function (t, i, n, r, s, o) {\n        (function (t, i, n, r, s, o) {\n          e.Rt(t, \"roomId\"), e.Rt(i, \"screenName\"), e.Rt(n, \"role\"), e.Kt(r, \"lastUpdate\"), e.Rt(s, \"message\"), e.pt(o, \"callback\"), h.call(this), this.$n.assertAuthorized();\n          var a = {\n            messageId: \"\",\n            timestamp: 0,\n            from: {\n              sessionId: this.$n.getPCastSessionId(),\n              screenName: i,\n              role: n,\n              lastUpdate: r\n            },\n            message: s\n          };\n          this.gt.info(\"Send message to room [%s] from [%s]\", t, i);\n          var u = this;\n          return this.On.sendMessageToRoom(t, a, function (t, e) {\n            if (t) return u.gt.error(\"Send message to room failed with error [%s]\", t), o(t, null);\n            var i = {\n              status: e.status\n            };\n            \"ok\" !== e.status && u.gt.warn(\"Send message to room failed with status [%s]\", e.status), o(null, i);\n          });\n        }).call(this, t, i, n, r, s, o);\n      }, s.prototype.subscribeAndLoadMessages = function (t, e, i) {\n        var r = function (t, e) {\n          var i = this;\n          this.js[t] = e;\n          var r = new n.Disposable(function () {\n            i.js[t] === e && delete i.js[t];\n          });\n          return this.v.add(r), r;\n        }.call(this, t, i);\n        return c.call(this, t, e), r;\n      }, s.prototype.getMessages = function (t, i, n, r, s) {\n        (function (t, i, n, r, s) {\n          e.Rt(t, \"roomId\"), e.pt(s, \"callback\"), r && n || e.Kt(i, \"batchSize\"), r && e.Rt(r, \"beforeMessageId\"), n && e.Rt(n, \"afterMessageId\"), h.call(this), this.$n.assertAuthorized();\n          var o = this.$n.getPCastSessionId();\n          this.gt.info(\"Get messages from room [%s] conversation with batch size of [%s], after [%s], and before [%s]\", t, i, n, r);\n          var a = this;\n          this.On.getMessages(o, t, i, n, r, function (t, e) {\n            if (t) return a.gt.error(\"Get messages from room conversation failed with error [%s]\", t), s(t, null);\n            var i = {\n              status: e.status\n            };\n            if (\"ok\" !== e.status) return a.gt.warn(\"Get messages from room conversation failed with status [%s]\", e.status), s(null, i);\n            i.chatMessages = e.chatMessages, f(i.chatMessages), s(null, i);\n          });\n        }).call(this, t, i, n, r, s);\n      }, s.prototype.toString = function () {\n        return \"ChatService\";\n      }, s;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(2), i(58)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      var s = 100;\n      function o(t) {\n        e.vt(t, \"roomService\"), e.vt(t.Dn, \"roomService._pcast\"), e.vt(t.gt, \"roomService._logger\"), this.jn = t, this.Dn = t.Dn, this.gt = t.gt, this.Bs = new r(this.Dn), this.Ws = new i.ObservableArray([]), this._s = [], this.v = new n.DisposableList(), this.zs = null;\n      }\n      function a(t) {\n        t && this.zs === t.getRoomId() || (c.call(this), t && u.call(this));\n      }\n      function u() {\n        c.call(this), this.Vs = function (e) {\n          var i = this.jn.getObservableActiveRoom().getValue().getRoomId();\n          this.zs = i;\n          var n = this;\n          return this.Ws.setValue([]), this.Bs.subscribeAndLoadMessages(i, e, function (e, i) {\n            if (e) throw e;\n            if (\"ok\" !== i.status) throw new Error(\"Unable to subscribe to room chat. Status \" + status);\n            var r = n.Ws.getValue();\n            t.forEach(i.chatMessages, function (t) {\n              r.push(t);\n            }), r.length > s && r.splice(0, r.length - s), n.Ws.setValue(r);\n          });\n        }.call(this, this.Hs);\n      }\n      function c() {\n        this.Vs && this.Vs.dispose && this.Vs.dispose();\n      }\n      return o.prototype.start = function (e) {\n        this.Hs = e || 0, this.Bs.start(), function () {\n          var e = this.jn.getObservableActiveRoom().subscribe(t.bind(a, this));\n          this.v.add(e);\n        }.call(this), u.call(this);\n      }, o.prototype.stop = function () {\n        this.Bs.stop(), c.call(this), this.v && this.v.dispose();\n      }, o.prototype.getObservableChatMessages = function () {\n        return this.Ws;\n      }, o.prototype.getObservableChatEnabled = function () {\n        return this.Bs.getObservableChatEnabled();\n      }, o.prototype.sendMessageToRoom = function (t, e) {\n        var i = this.jn.getObservableActiveRoom().getValue().getRoomId(),\n          n = this.jn.Gn.getValue(),\n          r = n.getObservableScreenName().getValue(),\n          s = n.getObservableRole().getValue(),\n          o = n.getLastUpdate();\n        this.Bs.sendMessageToRoom(i, r, s, o, t, e);\n      }, o.prototype.getMessages = function (t, e, i, n) {\n        var r = this.jn.getObservableActiveRoom().getValue().getRoomId();\n        return this.Bs.getMessages(r, t, e, i, n);\n      }, o.prototype.toString = function () {\n        return \"RoomChatService\";\n      }, o;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(34)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      function r(t, e, i, n, r, s, o, a, u) {\n        this.init(t, e, i, n, r, s, o, a, u);\n      }\n      function s() {\n        throw new Error(\"ImmutableRoom is Immutable\");\n      }\n      function o() {\n        throw new Error(\"Unable to subscribe to Immutable [ImmutableRoom]\");\n      }\n      function a(e) {\n        t.isArray(e) ? t.forEach(e, function (t) {\n          u(t);\n        }) : t.vt(e) && t.forOwn(e, function (t) {\n          u(t);\n        });\n      }\n      function u(t) {\n        !function (t) {\n          (t instanceof i.Observable || t instanceof i.ObservableArray) && (t.setValue = s, t.subscribe = o, a(t.getValue()));\n        }(t), a(t);\n      }\n      return r.prototype.init = function (t, e, i, r, s, o, u, c, h) {\n        this.Ji = new n(null, e, i, r, s, o, u, c, h), a(this.Ji);\n      }, r.prototype.getRoomId = function () {\n        return this.Ji.getRoomId();\n      }, r.prototype.getObservableAlias = function () {\n        return this.Ji.getObservableAlias();\n      }, r.prototype.getObservableName = function () {\n        return this.Ji.getObservableName();\n      }, r.prototype.getObservableDescription = function () {\n        return this.Ji.getObservableDescription();\n      }, r.prototype.getObservableType = function () {\n        return this.Ji.getObservableType();\n      }, r.prototype.getObservableMembers = function () {\n        return this.Ji.getObservableMembers();\n      }, r.prototype.getObservableBridgeId = function () {\n        return this.Ji.getObservableBridgeId();\n      }, r.prototype.getObservablePin = function () {\n        return this.Ji.getObservablePin();\n      }, r.prototype.toString = function () {\n        return this.Ji.toString();\n      }, r.prototype.toJson = function () {\n        return this.Ji.toJson();\n      }, r.prototype.commitChanges = s, r.prototype.reload = s, r.prototype.Hi = s, r.prototype.Xi = s, r.prototype.Qi = s, r.prototype.$i = s, r;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(6), i(2), i(3), i(10), i(21), i(8), i(11), i(7), i(14)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c, h, f) {\n      \"use strict\";\n\n      var d = 1e3;\n      function l(e, n, s, h, f) {\n        this.gt = f, this.ji = e, this.Gs = n, this.nr = s, this.h = h, this.Et = null, this.nt = null, this.or = new c(f), this.ar = new i.NamedEvents(), this.v = new r.DisposableList(), this.Ks = new a(t.get(u, [\"navigator\", \"userAgent\"], \"\")).detect(), this.Js = !1, this.Xs = 0, this.Qs = 0, this.v.add(o.onBackground(t.bind(v, this))), this.v.add(o.onForeground(t.bind(g, this))), this.qi = t.bind(m, this), this.Li = t.bind(p, this);\n      }\n      function m(e) {\n        var i = t.now() - this.Xs < d;\n        \"pause\" === e.type && i && (this.Js = !0), this.Qs = t.now(), this.gt.info(\"[%s] Loading Phenix Real-Time stream player stalled caused by [%s] event.\", this.ji, e.type);\n      }\n      function p() {\n        this.gt.info(\"[%s] Phenix Real-Time stream ended.\", this.ji);\n      }\n      function v() {\n        if (this.nt) {\n          var e = !1,\n            i = t.now() - this.Qs < d;\n          t.dn(this.nt.playing) ? e = this.nt.playing : t.dn(this.nt.paused) && (e = !this.nt.paused), !e && i && (e = !0), this.Js = e, this.Xs = t.now();\n        }\n      }\n      function g() {\n        if (this.nt) {\n          var e = this;\n          if (this.Xs = 0, this.Qs = 0, this.gt.info(\"foreground [%s] [%s]\", this.Js, this.Ks.browser), \"Safari\" === this.Ks.browser && f.isIOS() && this.Js && this.nt && this.nt.play) {\n            var i = function () {\n              e.gt.info(\"Attempting to play video element after application was backgrounded and forcefully paused\"), e.nt.play();\n            };\n            this.gt.info(\"Attempting to play video element after application was backgrounded\"), t.addEventListener(e.nt, \"pause\", i);\n            var n = setTimeout(function () {\n              t.removeEventListener(e.nt, \"pause\", i);\n            }, d);\n            this.v.add(new r.Disposable(function () {\n              clearTimeout(n);\n            })), this.nt.play().catch(function (i) {\n              e.gt.warn(\"Unable to resume playback after pause\", i), e.ar.fire(h.rendererEvents.userActionRequired.name, [\"app-paused-by-background\"]), e.$s = t.now();\n            });\n          }\n        }\n      }\n      return l.prototype.on = function (t, e) {\n        return this.ar.listen(t, e);\n      }, l.prototype.start = function (e) {\n        var i = this,\n          n = !!t.find(this.Gs.getTracks(), function (t) {\n            return \"audio\" === t.kind;\n          });\n        return this.h.canPlaybackAudio || (this.h.disableAudioIfNoOutputFound && this.h.forcedAudioDisabled ? this.gt.warn(\"[%s] Missing audio playback device. Audio has been disabled on stream. Try setting up an audio device and re-subscribe in order to receive audio.\", this.ji) : !this.h.disableAudioIfNoOutputFound && n && this.gt.warn(\"[%s] Missing audio playback device. May experience audio and/or video failure. Try setting up an audio device OR pass the [disableAudioIfNoOutputFound] option when subscribing to disable audio playback when no devices are attached.\", this.ji)), this.nt = s.attachMediaStream(e, this.Gs, function (t) {\n          if (t) {\n            if (e.muted || !n) return i.gt.warn(\"[%s] Failed to play muted stream.\", i.ji, t), i.ar.fire(h.rendererEvents.ended.name, [\"failed-to-play\"]);\n            i.gt.debug(\"[%s] Failed to start playing stream. Auto muting the playback and trying again.\", i.ji), e.muted = !0, s.attachMediaStream(e, i.Gs, function (t) {\n              if (t) return i.gt.warn(\"[%s] Failed to play even after auto muting.\", i.ji, t), e.muted = !1, i.ar.fire(h.rendererEvents.ended.name, [\"failed-to-play\"]);\n              i.gt.info(\"[%s] Successfully started playing stream after auto muting. User may manually unmute with user triggered action.\", i.ji), i.ar.fire(h.rendererEvents.autoMuted.name, [\"retry-play-muted\"]);\n            });\n          } else i.gt.debug(\"[%s] Successfully started playing stream.\", i.ji);\n        }), this.v.add(this.nr.recordTimeToFirstFrame(e)), this.v.add(this.nr.recordRebuffering(e)), this.v.add(this.nr.recordVideoResolutionChanges(this, e)), this.v.add(this.nr.recordVideoPlayingAndPausing(e)), !1 === this.h.receiveAudio && (e.muted = !0), t.addEventListener(e, \"stalled\", this.qi, !1), t.addEventListener(e, \"pause\", this.qi, !1), t.addEventListener(e, \"suspend\", this.qi, !1), t.addEventListener(e, \"ended\", this.Li, !1), this.or.start(this, e), e;\n      }, l.prototype.stop = function (e) {\n        this.or.stop(), this.v.dispose(), this.nt && (t.removeEventListener(this.nt, \"stalled\", this.qi, !1), t.removeEventListener(this.nt, \"pause\", this.qi, !1), t.removeEventListener(this.nt, \"suspend\", this.qi, !1), t.removeEventListener(this.nt, \"ended\", this.Li, !1), t.pt(this.nt.pause) && this.nt.pause(), \"Edge\" === this.Ks.browser && (this.nt.src = \"\"), this.nt.src && \"IE\" === this.Ks.browser ? this.nt.src = null : this.nt.src && (this.nt.src = \"\"), this.nt.srcObject && (this.nt.srcObject = null), this.nt = null), this.gt.info(\"[%s] Phenix real-time renderer has been destroyed\", this.ji), this.ar.fire(h.rendererEvents.ended.name, [e]);\n      }, l.prototype.getStats = function () {\n        if (!this.nt) return {\n          width: 0,\n          height: 0,\n          currentTime: 0,\n          lag: 0,\n          networkState: h.networkStates.networkNoSource.id\n        };\n        var e = (t.now() - this.h.originStartTime) / 1e3,\n          i = this.h.networkLag / 1e3;\n        return {\n          width: this.nt.videoWidth || this.nt.width,\n          height: this.nt.videoHeight || this.nt.height,\n          currentTime: e,\n          lag: i,\n          networkState: this.nt.networkState\n        };\n      }, l.prototype.setDataQualityChangedCallback = function (t) {\n        e.pt(t, \"callback\"), this.dataQualityChangedCallback = t;\n      }, l.prototype.addVideoDisplayDimensionsChangedCallback = function (t, e) {\n        return this.or.addVideoDisplayDimensionsChangedCallback(t, e);\n      }, l;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(3), i(2), i(10), i(18), i(39), i(36), i(61), i(14), i(7)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c, h, f) {\n      \"use strict\";\n\n      var d = 8e3;\n      function l(e, n, o, a, u, c) {\n        this.ji = e, this.Gs = n, this.cr = o, this.nr = a, this.h = u, this.gt = c, this.sr = [], this.or = null, this.ar = new i.NamedEvents(), this.Ys = [], this.Zs = 0, this.to = null, this.v = new r.DisposableList(), this.Yr = 0, this.v.add(s.onForeground(t.bind(m, this)));\n        var h = /(b=AS:([0-9]*)[\\n\\r]*)/gi.exec(o.remoteDescription);\n        h && h.length >= 3 && (this.Zs = 1e3 * h[2]), t.addEventListener(o, \"iceconnectionstatechange\", t.bind(v, this));\n      }\n      function m() {\n        if (this.to) {\n          var t = this.to;\n          this.to = null, t();\n        }\n      }\n      function p(i) {\n        return t.reduce(i.getTracks(), function (t, i) {\n          return t && function (t) {\n            return e.vt(t, \"track\"), \"ended\" === t.readyState;\n          }(i);\n        }, !0);\n      }\n      function v() {\n        var e = this,\n          i = this.cr.iceConnectionState;\n        switch (i) {\n          case \"checking\":\n          case \"connecting\":\n            if (t.Kt(this.eo)) return;\n            this.io = t.now(), this.eo = setTimeout(function () {\n              e.gt.warn(\"[%s] Stream has not connected within [%s] ms\", e.ji, d), e.ar.fire(f.streamEvents.playerError.name, [\"real-time\", new Error(\"connection-timeout\")]);\n            }, d);\n            break;\n          case \"failed\":\n            t.Kt(this.eo) && (clearTimeout(this.eo), this.eo = null), this.gt.warn(\"[%s] Stream has failed\", e.ji), this.ar.fire(f.streamEvents.playerError.name, [\"real-time\", new Error(\"connection-failed\")]);\n            break;\n          case \"closed\":\n            t.Kt(this.eo) && e.gt.warn(\"[%s] Stream closed before it was connected\", e.ji);\n            break;\n          case \"connected\":\n            t.Kt(this.eo) && (clearTimeout(this.eo), this.eo = null), this.Yr++, this.gt.info(\"[%s] Ice Connection completed after [%s] ms for [%s] time\", this.ji, t.now() - this.io, this.Yr), this.io = null;\n            break;\n          default:\n            this.gt.info(\"[%s] Unsupported Ice Connection state [%s]\", this.ji, i);\n        }\n      }\n      return l.prototype.on = function (t, e) {\n        this.ar.listen(t, e);\n      }, l.prototype.createRenderer = function () {\n        var e = this,\n          i = new c(this.ji, this.Gs, this.nr, this.h, this.gt);\n        return i.on(f.rendererEvents.error.name, function (t, i) {\n          e.ar.fire(f.streamEvents.playerError.name, [t, i]);\n        }), i.on(f.rendererEvents.ended.name, function (n) {\n          e.sr = t.filter(e.sr, function (t) {\n            return t !== i;\n          }), 0 === e.sr.length && (e.nr.stop(), e.ar.fire(f.streamEvents.playerEnded.name, [n]));\n        }), this.sr.push(i), i;\n      }, l.prototype.select = function (t) {\n        e.pt(t, \"trackSelectCallback\"), e.pt(n.global.MediaStream, \"rtc.global.MediaStream\");\n        for (var i = this.Gs.getTracks(), r = new n.global.MediaStream(), s = 0; s < i.length; s++) t(i[s], s) && r.addTrack(i[s]);\n        if (0 === r.getTracks().length) return this.gt.warn(\"No tracks selected\");\n        var o = this,\n          a = new l(this.ji, r, this.cr, this.nr, this.h, this.gt);\n        return a.on(f.streamEvents.stopped.name, function (t) {\n          p(o.Gs) && o.ar.fire(f.streamEvents.stopped.name, [t]);\n        }), this.Ys.push(a), a;\n      }, l.prototype.setStreamEndedCallback = function (t) {\n        e.pt(t, \"callback\"), this.no = t;\n      }, l.prototype.setStreamErrorCallback = function (t) {\n        e.pt(t, \"callback\"), this.ro = t;\n      }, l.prototype.streamEndedCallback = function (e, i, n) {\n        t.forEach(this.Ys, function (t) {\n          t.streamEndedCallback(i, n);\n        }), t.pt(this.no) && this.no(this, i, n);\n      }, l.prototype.streamErrorCallback = function (e, i, n) {\n        t.forEach(this.Ys, function (t) {\n          t.streamErrorCallback(i, n);\n        }), t.pt(this.ro) && this.ro(e, i, n);\n      }, l.prototype.stop = function (e) {\n        var i;\n        this.isActive() && (this.v.dispose(), (i = this.Gs) && t.pt(i.stop, \"stream.stop\") && i.stop(), t.forEach(i && i.getTracks ? i.getTracks() : [], function (t) {\n          t.stop();\n        }), this.gt.info(\"[%s] stop [real-time] media stream with reason [%s]\", this.ji, e), this.ar.fire(f.streamEvents.stopped.name, [e]), this.ur = !0);\n      }, l.prototype.monitor = function (t, i) {\n        e.vt(t, \"options\"), e.pt(i, \"callback\");\n        var n = this,\n          r = new a(n.ji, n.cr, n.gt);\n        return t.direction = \"inbound\", r.start(t, function () {\n          return n.isActive();\n        }, function t(e, r) {\n          return e && n.gt.warn(\"[%s] Media stream monitor triggered unrecoverable error [%s]\", n.ji, e), h.isIOS() && !s.isForeground() ? (n.gt.info(\"[%s] Media stream monitor triggered event while app is in the background. Waiting until foreground to trigger event.\", n.ji), n.to = t.bind(null, e, r)) : (n.gt.warn(\"[%s] Media stream triggered monitor condition for [%s]\", n.ji, r.reasons), i(n, \"client-side-failure\", r));\n        }), this.er = r, r;\n      }, l.prototype.getMonitor = function () {\n        return this.er;\n      }, l.prototype.addBitRateThreshold = function (t, e) {\n        var i = this;\n        return new u(\"Media Stream\", this.er, function () {\n          return i.Zs;\n        }).addThreshold(t, e);\n      }, l.prototype.getStream = function () {\n        return this.Gs;\n      }, l.prototype.isActive = function () {\n        return !this.ur && !p(this.Gs);\n      }, l.prototype.getStreamId = function () {\n        return this.ji;\n      }, l.prototype.getStats = function (t) {\n        e.pt(t, \"callback\"), this.hr || (this.hr = {});\n        var i = this;\n        return n.getStats(this.cr, null, function (e) {\n          t(o.convertPeerConnectionStats(e, i.hr));\n        });\n      }, l.prototype.getRenderer = function () {\n        return t.get(this.sr, [0], null);\n      }, l;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(9), i(5), i(6), i(2), i(15), i(3), i(11), i(7)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c) {\n      \"use strict\";\n\n      var h = 6e3,\n        f = 15e3,\n        d = {\n          local: \"https://local.phenixrts.com/public/rtmp/rtmp-flash-renderer-2018.3.16.swf\",\n          staging: \"https://stg.phenixrts.com/public/rtmp/rtmp-flash-renderer-2018.3.16.swf\",\n          production: \"https://phenixrts.com/public/rtmp/rtmp-flash-renderer-2018.3.16.swf\"\n        };\n      function l(i, r, o, a, c) {\n        e.vt(a, \"options\"), a.env && e.Rt(a.env, \"options.env\");\n        var h = d[a.env || \"production\"];\n        this.gt = c, this.ji = i, this.so = t.map(r, function (t) {\n          return t.uri = encodeURI(t.uri).replace(/[#]/g, \"%23\"), t;\n        }), this.nr = o, this.h = a, this.Et = null, this.oo = null, this.ao = null, this.ar = new n.NamedEvents(), this.or = new u(c), this.v = new s.DisposableList(), this.qi = t.bind(v, this), this.Li = t.bind(g, this), this.Bi = t.bind(m, this), this.Z = a.swfSrc || h;\n      }\n      function m(t) {\n        this.ar.fire(c.rendererEvents.error.name, [\"flash-player\", t]);\n      }\n      function p() {\n        var e = !this.uo || t.now() - this.uo > f;\n        return this.ao && !this.co && this.Ze && 0 !== this.ao.buffered.length && e;\n      }\n      function v(e) {\n        var i = this;\n        i.gt.info(\"[%s] Loading flash player stalled caused by [%s] event.\", i.ji, e.type);\n        var n = i.ao.currentTime;\n        setTimeout(function () {\n          i.ao && i.ao.currentTime === n && !i.ao.paused && p.call(i) && (i.gt.warn(\"Reloading stream after being stalled for [%s] seconds\", h / 1e3), function () {\n            p.call(this) && (this.gt.warn(\"Reloading unhealthy stream that was active for at least [%s] seconds\", f / 1e3), this.uo = t.now(), function () {\n              this.oo.destroy(), this.start(this.ho);\n            }.call(this));\n          }.call(i));\n        }, h);\n      }\n      function g() {\n        this.gt.info(\"[%s] Flash player ended.\", this.ji);\n      }\n      l.isSupported = function () {\n        return function () {\n          var e = [10, 0, 0],\n            i = [0, 0, 0];\n          if (t.dn(y)) return y;\n          if (t.get(a.global.navigator, [\"plugins\", \"Shockwave Flash\"])) {\n            var n = a.global.navigator.plugins[\"Shockwave Flash\"].description;\n            if (n && t.get(a.global.navigator, [\"mimeTypes\", \"application/x-shockwave-flash\", \"enabledPlugin\"], !1)) for (var r = 0, s = (i = n.replace(\"Shockwave Flash\", \"\").replace(/^\\s+/, \"\").replace(/\\sr/gi, \".\").split(\".\")).length; r < s; r++) i[r] = parseInt(i[r].match(/\\d+/), 10);\n          } else if (a.global.ActiveXObject) try {\n            var o = new a.global.ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");\n            if (o) {\n              var u = o.GetVariable(\"$version\") || \"\",\n                c = t.get(u.split(\" \"), [1], i).split(\",\");\n              i = [parseInt(c[0], 10), parseInt(c[1], 10), parseInt(c[2], 10)];\n            }\n          } catch (t) {\n            console.error(t);\n          }\n          return y = i[0] > e[0] || i[0] === e[0] && i[1] > 0 || i[0] === e[0] && 0 === i[1] && i[2] >= 0;\n        }();\n      }, l.prototype.on = function (t, e) {\n        return this.ar.listen(t, e);\n      }, l.prototype.start = function (e) {\n        var i = {\n          streamId: this.ji,\n          swfSrc: this.Z\n        };\n        return this.ho = e, this.oo = new a.PhenixVideo(e, this.so, \"flash\", i), this.oo.hookUpEvents(), this.ao = this.oo.getElement(), this.v.add(this.nr.recordTimeToFirstFrame(this.ho)), this.v.add(this.nr.recordRebuffering(this.ho)), this.v.add(this.nr.recordVideoResolutionChanges(this, this.ho)), this.v.add(this.nr.recordVideoPlayingAndPausing(this.ho)), this.ao && this.ao.play(), t.addEventListener(this.ho, \"stalled\", this.qi, !1), t.addEventListener(this.ho, \"pause\", this.qi, !1), t.addEventListener(this.ho, \"suspend\", this.qi, !1), t.addEventListener(this.ho, \"ended\", this.Li, !1), t.addEventListener(this.ho, \"error\", this.Bi, !1), e;\n      }, l.prototype.stop = function (e) {\n        var i = this;\n        if (this.v.dispose(), this.oo) {\n          var n = function () {\n            i.ao && (t.removeEventListener(i.ho, \"stalled\", i.qi, !1), t.removeEventListener(i.ho, \"pause\", i.qi, !1), t.removeEventListener(i.ho, \"suspend\", i.qi, !1), t.removeEventListener(i.ho, \"ended\", i.Li, !1), t.removeEventListener(i.ho, \"error\", i.Bi, !1)), i.ao = null, i.ho = null, i.ar.fire(c.rendererEvents.ended.name, [e]);\n          };\n          try {\n            this.oo.destroy(), this.oo = null, n(), this.gt.info(\"[%s] Flash player has been destroyed\", this.ji);\n          } catch (t) {\n            i.gt.error(\"[%s] Error while destroying Flash player [%s]\", i.ji, t.code, t), n(), i.ar.fire(c.rendererEvents.error.name, [\"flash-player\", t]);\n          }\n        }\n      }, l.prototype.getStats = function () {\n        if (!this.ao) return {\n          width: 0,\n          height: 0,\n          currentTime: 0,\n          lag: 0,\n          networkState: c.networkStates.networkNoSource.id\n        };\n        var e = {},\n          i = this.ao.currentTime,\n          n = (t.now() - this.h.originStartTime) / 1e3;\n        return e.lag = Math.max(0, n - i), e.estimatedBandwidth > 0 ? e.networkState = c.networkStates.networkLoading.id : e.playTime > 0 ? e.networkState = c.networkStates.networkIdle.id : e.video ? e.networkState = c.networkStates.networkEmpty.id : e.networkState = c.networkStates.networkNoSource.id, e;\n      }, l.prototype.setDataQualityChangedCallback = function (t) {\n        e.pt(t, \"callback\"), this.dataQualityChangedCallback = t;\n      }, l.prototype.getPlayer = function () {\n        return this.Ze;\n      }, l.prototype.addVideoDisplayDimensionsChangedCallback = function (t, e) {\n        return this.or.addVideoDisplayDimensionsChangedCallback(t, e);\n      };\n      var y = null;\n      return l;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(9), i(5), i(6), i(2), i(15), i(3), i(11), i(7)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c) {\n      \"use strict\";\n\n      var h = 6e3,\n        f = 15e3;\n      function d(e, i, r, o, a) {\n        this.gt = a, this.ji = e, this.fo = encodeURI(i).replace(/[#]/g, \"%23\"), this.nr = r, this.h = o, this.Et = null, this.nt = null, this.or = new u(a), this.Ui = {\n          time: 0,\n          buffered: null,\n          averageLength: 0,\n          count: 0,\n          lastCurrentTime: 0,\n          lastCurrentTimeOccurenceTimestamp: 0\n        }, this.ar = new n.NamedEvents(), this.v = new s.DisposableList(), this.qi = t.bind(g, this), this.Fi = t.bind(v, this), this.Li = t.bind(w, this);\n      }\n      function l(t) {\n        if (p.call(this) && t && (3 === t.code || t.severity === o.errors.severity.RECOVERABLE)) return this.gt.warn(\"Reloading unhealthy stream after error event [%s]\", t), m.call(this);\n        this.ar.fire(c.rendererEvents.error.name, [\"phenix-player\", t]);\n      }\n      function m() {\n        p.call(this) && (this.gt.warn(\"Reloading unhealthy stream that was active for at least [%s] seconds\", f / 1e3), this.uo = t.now(), function () {\n          this.Ze.dispose(), this.Ze = null, this.start(this.nt);\n        }.call(this));\n      }\n      function p() {\n        var e = !this.uo || t.now() - this.uo > f;\n        return this.nt && !this.co && this.Ze && 0 !== this.nt.buffered.length && e;\n      }\n      function v() {\n        if (this.Ui.time = t.now(), 0 === this.nt.buffered.length) return this.gt.debug(\"[%s] Phenix live stream player progress event fired without any buffered content\", this.ji);\n        var e = this.nt.buffered.end(this.nt.buffered.length - 1);\n        if (this.Ui.buffered !== e) {\n          if (null !== this.Ui.buffered) {\n            var i = this.Ui.averageLength * this.Ui.count + (e - this.Ui.buffered),\n              n = this.Ui.lastCurrentTime === this.nt.currentTime;\n            this.Ui.count += 1, this.Ui.averageLength = i / this.Ui.count, n || (this.Ui.lastCurrentTimeOccurenceTimestamp = t.now());\n            var r = this.Ui.lastCurrentTimeOccurenceTimestamp && t.now() - this.Ui.lastCurrentTimeOccurenceTimestamp > h;\n            n && r && this.nt && !this.nt.paused && p.call(this) && (this.gt.warn(\"Reloading stream after current time has not changed for [%s] seconds due to unregistered stall.\", h / 1e3), m.call(this));\n          }\n          this.Ui.buffered = e, this.Ui.lastCurrentTime = this.nt.currentTime;\n        }\n      }\n      function g(e) {\n        var i = this;\n        if (i.gt.info(\"[%s] Loading Phenix Live stream player stalled caused by [%s] event.\", i.ji, e.type), 0 !== i.Ui.time && !i.nt.paused) {\n          var n = i.nt.currentTime;\n          setTimeout(function () {\n            t.now() - i.Ui.time > y.call(i) && i.co && i.stop(\"ended\");\n          }, y.call(i)), setTimeout(function () {\n            i.nt && i.nt.currentTime === n && !i.nt.paused && p.call(i) && (i.gt.warn(\"Reloading stream after being stalled for [%s] seconds\", h / 1e3), m.call(i));\n          }, h);\n        }\n      }\n      function y() {\n        return 1.5 * this.Ui.averageLength < 2e3 ? 2e3 : 1.5 * this.Ui.averageLength;\n      }\n      function w() {\n        this.gt.info(\"[%s] Phenix live stream player ended.\", this.ji);\n      }\n      return d.isSupported = function () {\n        return o.isSupported;\n      }, d.prototype.on = function (t, e) {\n        return this.ar.listen(t, e);\n      }, d.prototype.start = function (e) {\n        var n,\n          r,\n          s,\n          a = (r = (n = this.gt).getAppenders(), s = new i.Logger(), t.forEach(r, function (t) {\n            t instanceof i.ConsoleAppender && (t = new i.ConsoleAppender()).setThreshold(i.level.INFO), s.addAppender(t);\n          }), s.setUserId(n.getUserId()), s.setEnvironment(n.getEnvironment()), s.setApplicationVersion(n.getApplicationVersion()), s.setObservableSessionId(n.getObservableSessionId()), s);\n        return this.do = a, this.nt = e, this.v.add(this.nr.recordTimeToFirstFrame(e)), this.v.add(this.nr.recordRebuffering(e)), this.v.add(this.nr.recordVideoResolutionChanges(this, e)), this.v.add(this.nr.recordVideoPlayingAndPausing(e)), function () {\n          var e = t.assign({\n            bandwidthToStartAt: 3e6\n          }, this.h);\n          t.includes(this.fo, \".mpd\") && this.h.isDrmProtectedContent && (e.drm = {\n            \"com.widevine.alpha\": {\n              serverCertificateUrl: this.h.widevineServiceCertificateUrl,\n              mediaKeySystemConfiguration: {\n                persistentState: \"required\"\n              }\n            },\n            \"com.microsoft.playready\": {\n              licenseServerUrl: this.h.playreadyLicenseUrl\n            }\n          });\n          var i = new o.WebPlayer(this.do, this.nt, e);\n          t.now() - this.h.originStartTime < 6e3 && this.h.isDrmProtectedContent && t.includes(this.fo, \".m3u8\") ? setTimeout(t.bind(i.start, i, this.fo), 6e3) : i.start(this.fo), this.Ze = i, t.addEventListener(this.Ze, \"error\", t.bind(l, this));\n        }.call(this), !1 === this.h.receiveAudio && (e.muted = !0), t.addEventListener(e, \"stalled\", this.qi, !1), t.addEventListener(e, \"pause\", this.qi, !1), t.addEventListener(e, \"suspend\", this.qi, !1), t.addEventListener(e, \"progress\", this.Fi, !1), t.addEventListener(e, \"ended\", this.Li, !1), this.or.start(this, e), e;\n      }, d.prototype.stop = function (e, i) {\n        var n = this;\n        if (!n.lo) {\n          if (i) return n.co = !0;\n          if (this.or.stop(), this.v.dispose(), this.Ze) {\n            var r = function () {\n              n.nt && (t.removeEventListener(n.nt, \"stalled\", n.qi, !1), t.removeEventListener(n.nt, \"pause\", n.qi, !1), t.removeEventListener(n.nt, \"suspend\", n.qi, !1), t.removeEventListener(n.nt, \"progress\", n.Fi, !1), t.removeEventListener(n.nt, \"ended\", n.Li, !1), \"Edge\" === a.browser && (n.nt.src = \"\")), n.ar.fire(c.rendererEvents.ended.name, [\"\"]), n.Ze = null, n.nt = null;\n            };\n            n.lo = !0;\n            try {\n              n.Ze.dispose(), n.gt.info(\"[%s] Phenix live stream has been destroyed\", n.ji), r();\n            } catch (t) {\n              n.gt.error(\"[%s] Error while destroying Phenix live stream player [%s]\", n.ji, t.code, t), r(), n.ar.fire(c.rendererEvents.error.name, [\"phenix-player\", t]);\n            }\n          }\n        }\n      }, d.prototype.getStats = function () {\n        if (!this.Ze) return {\n          width: 0,\n          height: 0,\n          currentTime: 0,\n          lag: 0,\n          networkState: c.networkStates.networkNoSource.id\n        };\n        var e = this.Ze.getStats(),\n          i = e.currentTime || this.nt.currentTime,\n          n = (t.now() - this.h.originStartTime) / 1e3;\n        return e.isNative && \"Hls\" === e.deliveryType && (e.currentTime = n - e.lag), e.isNative || (e.lag = Math.max(0, n - i)), e.estimatedBandwidth > 0 ? e.networkState = c.networkStates.networkLoading.id : e.playTime > 0 ? e.networkState = c.networkStates.networkIdle.id : e.video ? e.networkState = c.networkStates.networkEmpty.id : e.networkState = c.networkStates.networkNoSource.id, e;\n      }, d.prototype.setDataQualityChangedCallback = function (t) {\n        e.pt(t, \"callback\"), this.dataQualityChangedCallback = t;\n      }, d.prototype.getPlayer = function () {\n        return this.Ze;\n      }, d.prototype.addVideoDisplayDimensionsChangedCallback = function (t, e) {\n        return this.or.addVideoDisplayDimensionsChangedCallback(t, e);\n      }, d;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(6), i(2), i(3), i(11), i(7)], void 0 === (r = function (t, e, i, n, r, s, o, a) {\n      \"use strict\";\n\n      var u = null;\n      function c(e, n, s, a, u, c) {\n        this.gt = c, this.ji = e, this.fo = encodeURI(n).replace(/[#]/g, \"%23\"), this.nr = s, this.h = a, this.Et = null, this.nt = null, this.or = new o(c), this.Ui = {\n          time: 0,\n          buffered: null,\n          averageLength: 0,\n          count: 0\n        }, this.ar = new i.NamedEvents(), this.v = new r.DisposableList(), this.rr = u, this.qi = t.bind(f, this), this.Fi = t.bind(h, this), this.Li = t.bind(l, this);\n      }\n      function h() {\n        if (this.Ui.time = t.now(), 0 === this.nt.buffered.length) return this.gt.debug(\"[%s] Shaka live stream player progress event fired without any buffered content\", this.ji);\n        var e = this.nt.buffered.end(this.nt.buffered.length - 1);\n        if (this.Ui.buffered !== e) {\n          if (null !== this.Ui.buffered) {\n            var i = this.Ui.averageLength * this.Ui.count + (e - this.Ui.buffered);\n            this.Ui.count += 1, this.Ui.averageLength = i / this.Ui.count;\n          }\n          this.Ui.buffered = e;\n        }\n      }\n      function f() {\n        var e = this;\n        e.gt.info(\"[%s] Loading Shaka live stream player stream stalled.\", e.ji), 0 !== e.Ui.time && setTimeout(function () {\n          t.now() - e.Ui.time > d.call(e) && e.co && e.stop(\"ended\");\n        }, d.call(e));\n      }\n      function d() {\n        return 1.5 * this.Ui.averageLength < 2e3 ? 2e3 : 1.5 * this.Ui.averageLength;\n      }\n      function l() {\n        this.gt.info(\"[%s] Shaka live stream player ended.\", this.ji);\n      }\n      return c.prototype.on = function (t, e) {\n        return this.ar.listen(t, e);\n      }, c.prototype.start = function (e) {\n        var i = this;\n        i.Ze = new this.rr.Player(e), this.v.add(this.nr.recordTimeToFirstFrame(e)), this.v.add(this.nr.recordRebuffering(e)), this.v.add(this.nr.recordVideoResolutionChanges(this, e));\n        var r = {\n          abr: {\n            defaultBandwidthEstimate: 2e6\n          },\n          manifest: {\n            retryParameters: {\n              timeout: 1e4\n            }\n          },\n          streaming: {\n            rebufferingGoal: 2,\n            bufferingGoal: 10,\n            bufferBehind: 30,\n            retryParameters: {\n              timeout: 1e4,\n              maxAttempts: 10,\n              backoffFactor: 1.1\n            }\n          }\n        };\n        function o(n) {\n          i.Ze.configure(n), !1 === i.h.receiveAudio && (e.muted = !0), t.addEventListener(i.Ze, \"error\", function (t) {\n            i.ar.fire(a.rendererEvents.error.name, [\"player\", t]);\n          }), t.addEventListener(e, \"stalled\", i.qi, !1), t.addEventListener(e, \"pause\", i.qi, !1), t.addEventListener(e, \"suspend\", i.qi, !1), t.addEventListener(e, \"progress\", i.Fi, !1), t.addEventListener(e, \"ended\", i.Li, !1), i.Ze.load(i.fo).then(function () {\n            i.gt.info(\"[%s] DASH live stream has been loaded\", i.ji), t.pt(e.play) && e.play();\n          }).catch(function (t) {\n            i.gt.error(\"[%s] Error while loading DASH live stream [%s]\", i.ji, t.code, t), i.ar.fire(a.rendererEvents.error.name, [\"shaka\", t]);\n          }), i.or.start(this, e), i.nt = e;\n        }\n        return this.h.isDrmProtectedContent ? (function () {\n          var e;\n          if (!t.pt(Uint8Array)) throw e = \"Uint8Array support required for DRM\", this.gt.error(e), new Error(e);\n          if (!t.pt(s.global.atob)) throw e = \"rtc.global.atob support required for DRM\", this.gt.error(e), new Error(e);\n        }.call(i), function (t) {\n          var e = this;\n          t.getNetworkingEngine().registerResponseFilter(function (i, n) {\n            if (i.toString() === e.rr.net.NetworkingEngine.RequestType.LICENSE.toString()) {\n              var r = new Uint8Array(n.data),\n                o = String.fromCharCode.apply(null, r),\n                a = JSON.parse(o),\n                u = a.license,\n                c = s.global.atob(u);\n              n.data = new Uint8Array(c.length);\n              for (var h = 0; h < c.length; ++h) n.data[h] = c.charCodeAt(h);\n              a.trackRestrictions && t.configure({\n                restrictions: a.trackRestrictions\n              });\n            }\n          });\n        }.call(i, i.Ze), function (t, e, i) {\n          t.drm || (t.drm = {}), t.drm.advanced || (t.drm.advanced = {}), t.manifest || (t.manifest = {}), t.manifest.dash || (t.manifest.dash = {}), function (t, e, i) {\n            function r(e, n) {\n              e ? i(e) : (u = n.data, t.drm.advanced[\"com.widevine.alpha\"] = {\n                serverCertificate: function (t) {\n                  for (var e = t.length, i = new Uint8Array(e), n = 0; n < e; n++) i[n] = t.charCodeAt(n);\n                  return i;\n                }(n.data),\n                persistentStateRequired: !0,\n                distinctiveIdentifierRequired: !1\n              }, i(null, t));\n            }\n            t.manifest.dash.customScheme = function (t) {\n              if (\"com.phenixrts.widevine\" === t.getAttribute(\"schemeIdUri\") || \"com.phenixp2p.widevine\" === t.getAttribute(\"schemeIdUri\")) return [{\n                keySystem: \"com.widevine.alpha\",\n                licenseServerUri: decodeURIComponent(t.getAttribute(\"widevineLicenseServerUrl\"))\n              }];\n            }, u ? r(null, u) : n.get(e.widevineServiceCertificateUrl, {\n              mimeType: \"text/plain; charset=x-user-defined\"\n            }, r);\n          }.call(this, t, e, i);\n        }.call(i, r, i.h, function (t, e) {\n          if (t) throw i.gt.error(\"Failed to add DRM configuration to shaka player\", t), t;\n          o(e);\n        })) : o(r), e;\n      }, c.prototype.stop = function (e, i) {\n        var n = this;\n        if (!n.lo) {\n          if (i) return n.co = !0;\n          if (this.or.stop(), this.v.dispose(), this.Ze) {\n            var r = function () {\n              n.nt && (t.removeEventListener(n.nt, \"stalled\", n.qi, !1), t.removeEventListener(n.nt, \"pause\", n.qi, !1), t.removeEventListener(n.nt, \"suspend\", n.qi, !1), t.removeEventListener(n.nt, \"progress\", n.Fi, !1), t.removeEventListener(n.nt, \"ended\", n.Li, !1), \"Edge\" === s.browser && (n.nt.src = \"\")), n.ar.fire(a.rendererEvents.ended.name, [\"\"]), n.Ze = null, n.nt = null;\n            };\n            n.Ze.destroy().then(function () {\n              n.gt.info(\"[%s] Shaka live stream player has been destroyed\", n.ji);\n            }).then(function () {\n              r();\n            }).catch(function (t) {\n              n.gt.error(\"[%s] Error while destroying shaka live stream player [%s]\", n.ji, t.code, t), r(), n.ar.fire(a.rendererEvents.error.name, [\"shaka\", t]);\n            }), n.lo = !0;\n          }\n        }\n      }, c.prototype.getStats = function () {\n        if (!this.Ze) return {\n          width: 0,\n          height: 0,\n          currentTime: 0,\n          lag: 0,\n          networkState: a.networkStates.networkNoSource.id\n        };\n        var e = t.assign(this.Ze.getStats(), {\n            currentTime: 0,\n            lag: 0\n          }),\n          i = t.get(this.nt, [\"currentTime\"], 0),\n          n = (t.now() - this.h.originStartTime) / 1e3,\n          r = Math.max(0, n - i);\n        return this.nt && (e.currentTime = i, e.lag = r), e.estimatedBandwidth > 0 ? e.networkState = a.networkStates.networkLoading.id : e.playTime > 0 ? e.networkState = a.networkStates.networkIdle.id : e.video ? e.networkState = a.networkStates.networkEmpty.id : e.networkState = a.networkStates.networkNoSource.id, e;\n      }, c.prototype.setDataQualityChangedCallback = function (t) {\n        e.pt(t, \"callback\"), this.dataQualityChangedCallback = t;\n      }, c.prototype.getPlayer = function () {\n        return this.Ze;\n      }, c.prototype.addVideoDisplayDimensionsChangedCallback = function (t, e) {\n        return this.or.addVideoDisplayDimensionsChangedCallback(t, e);\n      }, c;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(7)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      function n(t, r, s) {\n        e.Rt(t, \"type\"), e.vt(r, \"stream\"), e.vt(s, \"logger\"), this.At = t, this.e = r, this.gt = s, this.mo = null;\n        var o = this;\n        this.e.on(i.streamEvents.playerEnded.name, function (t) {\n          if (o.gt.info(\"[%s] [%s] player ended.\", o.e.getStreamId(), o.At), o.po = !0, o.mo) return o.mo();\n          o.streamEndedCallback(n.getStreamEndedStatus(t), t);\n        });\n      }\n      return n.prototype.on = function (t, e) {\n        return this.e.on(t, e);\n      }, n.prototype.streamErrorCallback = function (e, i) {\n        t.pt(this.e.streamErrorCallback) ? (this.gt.debug(\"[%s] [%s] live stream error event [%s]\", this.e.getStreamId(), this.At, i), this.e.streamErrorCallback(this.e, e, i)) : this.gt.error(\"[%s] [%s] live stream error event [%s]\", this.e.getStreamId(), this.At, i);\n      }, n.prototype.streamEndedCallback = function (e, i, n) {\n        var r = this.e.getRenderer();\n        if (!this.vo) {\n          if (n && !this.mo && this.e.isActive() && r && !this.po) return this.mo = t.bind(this.streamEndedCallback, this, e, i), this.gt.info(\"[%s] [%s] stream ended. Waiting for end of player.\", this.e.getStreamId(), this.At), void (r && r.stop(i, n));\n          this.vo = !0, t.pt(this.e.streamEndedCallback) && this.e.streamEndedCallback(this.e, e, i), this.e.stop(i), r && r.stop(i, n);\n        }\n      }, n.prototype.dataQualityChangedCallback = function (e, i) {\n        var n = this.e.getRenderer();\n        n && t.pt(n.dataQualityChangedCallback) && n.dataQualityChangedCallback(n, e, i);\n      }, n.prototype.getPhenixMediaStream = function () {\n        return this.e;\n      }, n.getStreamEndedStatus = function (t) {\n        switch (t) {\n          case \"\":\n          case \"none\":\n          case \"ended\":\n            return \"ended\";\n          case \"server-error\":\n          case \"session-error\":\n          case \"not-ready\":\n          case \"error\":\n          case \"died\":\n            return \"failed\";\n          case \"censored\":\n            return \"censored\";\n          case \"maintenance\":\n            return \"maintenance\";\n          case \"capacity\":\n            return \"capacity\";\n          case \"app-background\":\n            return \"app-background\";\n          case \"egress-failed\":\n            return \"egress-failed\";\n          case \"egress-setup-failed\":\n            return \"egress-setup-failed\";\n          case \"overload\":\n            return \"overload\";\n          default:\n            return \"custom\";\n        }\n      }, n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(2), i(3)], void 0 === (r = function (t, e, i, n, r) {\n      function s(t) {\n        if (e.vt(t, \"logger\"), this.gt = t, this.ar = new i.NamedEvents(), this.v = new n.DisposableList(), this.v.add(this.ar), !this.isSupported()) return this.gt.info(\"Network monitor is not supported.\");\n        this.go = o.call(this), function () {\n          var t = this;\n          navigator.connection.addEventListener(\"change\", function () {\n            t.ar.fireAsync(\"NetworkChange\", [o.call(t), t.go]), t.go = o.call(t);\n          });\n        }.call(this);\n      }\n      function o() {\n        return {\n          downlinkThroughputCapacity: this.getDownlinkThroughputCapacity(),\n          effectiveType: this.getEffectiveType(),\n          rtt: this.getRoundTripTime()\n        };\n      }\n      return s.prototype.isSupported = function () {\n        return r.global.navigator && r.global.navigator.connection;\n      }, s.prototype.getDownlinkThroughputCapacity = function () {\n        return this.isSupported() ? r.global.navigator.connection.downlink || r.global.navigator.connection.downlinkMax : -1;\n      }, s.prototype.getEffectiveType = function () {\n        return this.isSupported() ? r.global.navigator.connection.effectiveType || r.global.navigator.connection.type : \"Unknown\";\n      }, s.prototype.getRoundTripTime = function () {\n        return this.isSupported() ? r.global.navigator.connection.rtt || r.global.navigator.connection.type : -1;\n      }, s.prototype.onNetworkChange = function (t) {\n        if (this.isSupported()) return e.pt(t, \"callback\"), this.ar.listen(\"NetworkChange\", t);\n      }, s.prototype.dispose = function () {\n        this.v.dispose();\n      }, s;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(2), i(10), i(67), i(3)], void 0 === (r = function (t, e, i, n, r, s) {\n      \"use strict\";\n\n      var o = s.global.__phenixPageLoadTime || s.global.__pageLoadTime || t.now(),\n        a = \"production\",\n        u = \"2018-12-21T23:46:27Z\";\n      function c(e, s) {\n        this.yo = a, this.ft = u, this.qn = null, this.wo = {\n          resource: \"session\",\n          kind: \"event\"\n        }, this.gt = e, this.jr = s, this.bo = new r(this.gt), this.ko = t.now(), this.v = new i.DisposableList(), this.So = [], this.v.add(n.onBackground(t.bind(h, this, !1))), this.v.add(n.onForeground(t.bind(h, this, !0))), this.bo.isSupported() && (this.v.add(this.bo.onNetworkChange(t.bind(m, this))), this.v.add(this.bo), f.call(this), l.call(this), d.call(this));\n      }\n      function h(t, e) {\n        var i = t ? \"ApplicationForeground\" : \"ApplicationBackground\";\n        this.recordMetric(i, {\n          uint64: e\n        }), p.call(this, \"Application has gone into the [%s] after [%s] ms\", t ? \"foreground\" : \"background\", e);\n      }\n      function f() {\n        var t = this.bo.getEffectiveType();\n        this.recordMetric(\"NetworkType\", {\n          string: t\n        }, null, {\n          resource: s.browser\n        }), p.call(this, \"[%s] has started with Network effective type of [%s]\", this.qn ? \"Session\" : \"Application\", t);\n      }\n      function d(e, i) {\n        var n = e || this.bo.getRoundTripTime(),\n          r = i || -1;\n        if (this.recordMetric(\"RoundTripTime\", {\n          uint32: n\n        }, {\n          uint32: r\n        }, {\n          resource: s.browser\n        }), t.isNullOrUndefined(i)) return p.call(this, \"Network RTT [%s]\", n);\n        p.call(this, \"Network RTT changed to [%s] from [%s]\", n, r);\n      }\n      function l(e, i) {\n        var n = e || this.bo.getDownlinkThroughputCapacity(),\n          r = i || -1;\n        if (this.recordMetric(\"DownlinkThroughputCapacity\", {\n          float: n\n        }, {\n          float: r\n        }, {\n          resource: s.browser\n        }), t.isNullOrUndefined(i)) return p.call(this, \"Network downlink throughput capacity [%s]\", n);\n        p.call(this, \"Network downlink throughput capacity changed to [%s] from [%s]\", n, r);\n      }\n      function m(t, e) {\n        e.downlinkThroughputCapacity !== t.downlinkThroughputCapacity && l.call(this, t.downlinkThroughputCapacity, e.downlinkThroughputCapacity), e.rtt !== t.rtt && d.call(this, t.rtt, e.rtt), e.effectiveType !== t.effectiveType && function (t, e) {\n          var i = t || this.bo.getEffectiveType(),\n            n = e;\n          this.recordMetric(\"NetworkType\", {\n            string: i\n          }, {\n            string: n\n          }, {\n            resource: s.browser\n          }), p.call(this, \"Network effective type has changed to [%s] from [%s]\", i, n || \"New\");\n        }.call(this, t.effectiveType, e.effectiveType);\n      }\n      function p() {\n        var e = Array.prototype.slice.call(arguments);\n        if (0 === e.length) throw new Error(\"Invalid logging arguments.\");\n        var i = \"[%s] [SessionTelemetry] [%s] \" + e[0],\n          n = e.slice(1),\n          r = [i, this.qn, t.now() - this.ko].concat(n);\n        this.gt.info.apply(this.gt, r);\n      }\n      function v() {\n        return (t.now() - o) / 1e3;\n      }\n      function g(i, n) {\n        if (e.Rt(i.metric, \"record.metric\"), !this.qn) return this.So.push({\n          record: i,\n          since: n\n        });\n        var r = t.assign({}, this.wo, i);\n        this.jr.submitMetric(i.metric, n, this.qn, null, this.yo, this.ft, r);\n      }\n      return c.prototype.setSessionId = function (t) {\n        !t && this.qn && g.call(this, {\n          metric: \"Stopped\",\n          elapsed: this.elapsed()\n        }, v()), this.qn = t, t && (g.call(this, {\n          metric: \"Initialized\",\n          elapsed: this.elapsed()\n        }, v()), function () {\n          if (this.qn) for (var t = this.So.length; t > 0;) {\n            var e = this.So.splice(t - 1, 1);\n            1 === e.length && g.call(this, e[0].record, e[0].since), t--;\n          }\n        }.call(this), function () {\n          var t = n.isForeground(),\n            e = n.getTimeSinceLastChange(),\n            i = t ? \"ApplicationForeground\" : \"ApplicationBackground\";\n          this.recordMetric(i, {\n            uint64: e\n          }), p.call(this, \"Session has started in the [%s] after [%s] ms\", t ? \"foreground\" : \"background\", e);\n        }.call(this), this.bo.isSupported() && (f.call(this), l.call(this), d.call(this)));\n      }, c.prototype.setProperty = function (t, i) {\n        e.Rt(t, \"name\"), e.Rt(i, \"value\"), this.wo[t] = i;\n      }, c.prototype.recordMetric = function (i, n, r, s) {\n        e.Rt(i, \"metric\");\n        var o = t.assign({}, {\n          metric: i,\n          elapsed: this.elapsed(),\n          value: n,\n          previousValue: r\n        }, s || {});\n        g.call(this, o, v());\n      }, c.prototype.elapsed = function () {\n        return t.now() - this.ko;\n      }, c.prototype.dispose = function () {\n        this.v.dispose(), this.recordMetric(\"Stopped\"), p.call(this, \"Session telemetry stopped\");\n      }, c;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(2), i(3)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      var r = n.global.__phenixPageLoadTime || n.global.__pageLoadTime || t.now(),\n        s = \"production\",\n        o = \"2018-12-21T23:46:27Z\";\n      function a(n, r, a) {\n        e.Rt(n, \"sessionId\"), this.yo = s, this.ft = o, this.qn = n, this.wo = {}, this.gt = r, this.jr = a, this.ko = t.now(), this.v = new i.DisposableList(), this.Eo = [], this.To = [], this.Io = [], this.Ro = null, u.call(this, \"Stream initializing\");\n      }\n      function u() {\n        var e = Array.prototype.slice.call(arguments);\n        if (0 === e.length) throw new Error(\"Invalid logging arguments.\");\n        var i = \"[%s] [StreamTelemetry] [%s] \" + e[0],\n          n = e.slice(1),\n          r = [i, this.ji, t.now() - this.ko].concat(n);\n        this.gt.debug.apply(this.gt, r);\n      }\n      function c() {\n        return (t.now() - r) / 1e3;\n      }\n      function h(i, n) {\n        e.Rt(i.metric, \"record.metric\");\n        var r = t.assign({}, this.wo, i);\n        this.jr.submitMetric(i.metric, n, this.qn, this.ji, this.yo, this.ft, r);\n      }\n      return a.prototype.setProperty = function (t, i) {\n        e.Rt(t, \"name\"), e.Rt(i, \"value\"), this.wo[t] = i;\n      }, a.prototype.recordMetric = function (i, n, r, s) {\n        e.Rt(i, \"metric\");\n        var o = t.assign({}, {\n          metric: i,\n          elapsed: this.elapsed(),\n          value: n,\n          previousValue: r\n        }, s || {});\n        h.call(this, o, c());\n      }, a.prototype.setStreamId = function (i) {\n        if (e.Rt(i, \"streamId\"), this.ji) throw new Error(\"Stream ID can only be set once.\");\n        this.ji = i;\n        var n = t.now();\n        h.call(this, {\n          metric: \"Initialized\",\n          elapsed: this.elapsed() - n + this.ko\n        }, c() - (n - this.ko) / 1e3);\n      }, a.prototype.setStartOffset = function (t) {\n        if (e.Kt(t, \"startOffset\"), this.Co) throw new Error(\"Start offset can only be set once.\");\n        this.Co = t, this.recordMetric(\"Offset\", {\n          uint64: t\n        });\n      }, a.prototype.getStartOffset = function () {\n        return this.Co;\n      }, a.prototype.elapsed = function () {\n        return t.now() - this.ko;\n      }, a.prototype.stop = function () {\n        this.v.dispose(), this.recordMetric(\"Stopped\"), u.call(this, \"Stream stopped\");\n      }, a.prototype.recordTimeToFirstFrame = function (e) {\n        var n = this,\n          r = t.now(),\n          s = function () {\n            n.Ro || (n.Ro = t.now() - r, n.recordMetric(\"TimeToFirstFrame\", {\n              uint64: n.Ro\n            }), u.call(n, \"First frame [%s]\", n.Ro), o.dispose());\n          };\n        t.addEventListener(e, \"loadeddata\", s), t.addEventListener(e, \"loadedmetadata\", s);\n        var o = new i.Disposable(function () {\n          t.removeEventListener(e, \"loadeddata\", s), t.removeEventListener(e, \"loadedmetadata\", s);\n        });\n        return this.v.add(o), o;\n      }, a.prototype.recordVideoResolutionChanges = function (e, n) {\n        var r = this,\n          s = {\n            width: n.videoWidth,\n            height: n.videoHeight\n          };\n        if (t.find(this.Eo, function (t) {\n          return t === n;\n        })) return new i.Disposable(t.noop);\n        this.Eo.push(n);\n        var o = e.addVideoDisplayDimensionsChangedCallback(function (t, e) {\n          s.width === e.width && s.height === e.height || (r.recordMetric(\"ResolutionChanged\", {\n            string: e.width + \"x\" + e.height\n          }, {\n            string: s.width + \"x\" + s.height\n          }), s = {\n            width: e.width,\n            height: e.height\n          }, u.call(r, \"Resolution changed: width [%s] height [%s]\", e.width, e.height));\n        });\n        return this.v.add(o), o;\n      }, a.prototype.recordRebuffering = function (e) {\n        var r,\n          s,\n          o = this;\n        if (t.find(this.To, function (t) {\n          return t === e;\n        })) return new i.Disposable(t.noop);\n        this.To.push(e);\n        var a = function () {\n            r || (o.recordMetric(\"Stalled\"), r = t.now(), u.call(o, \"[buffering] Stream has stalled\"));\n          },\n          c = function (i) {\n            var a = e.buffered.length,\n              c = !(\"playing\" === i.type || a > 0) || (\"progress\" === i.type || \"timeupdate\" === i.type) && e.buffered.end(a - 1) === s;\n            if (r && (a || \"Edge\" === n.browser) && !c) {\n              \"progress\" === i.type && (s = e.buffered.end(a - 1));\n              var h = t.now() - r;\n              o.recordMetric(\"Buffering\", {\n                uint64: h\n              }), u.call(o, \"[buffering] Stream has recovered from stall after [%s] milliseconds\", h), r = null;\n            }\n          };\n        t.addEventListener(e, \"stalled\", a), t.addEventListener(e, \"pause\", a), t.addEventListener(e, \"suspend\", a), t.addEventListener(e, \"play\", c), t.addEventListener(e, \"playing\", c), t.addEventListener(e, \"progress\", c), t.addEventListener(e, \"timeupdate\", c);\n        var h = new i.Disposable(function () {\n          t.removeEventListener(e, \"stalled\", a), t.removeEventListener(e, \"pause\", a), t.removeEventListener(e, \"suspend\", a), t.removeEventListener(e, \"play\", c), t.removeEventListener(e, \"playing\", c), t.removeEventListener(e, \"progress\", c), t.removeEventListener(e, \"timeupdate\", c);\n        });\n        return this.v.add(h), h;\n      }, a.prototype.recordVideoPlayingAndPausing = function (e) {\n        var n = this;\n        if (t.find(this.Io, function (t) {\n          return t === e;\n        })) return new i.Disposable(t.noop);\n        this.Io.push(e);\n        var r = function () {\n          e.paused ? n.recordMetric(\"Playing\", {\n            boolean: !1\n          }) : n.recordMetric(\"Playing\", {\n            boolean: !0\n          });\n        };\n        t.addEventListener(e, \"pause\", r), t.addEventListener(e, \"playing\", r);\n        var s = new i.Disposable(function () {\n          t.removeEventListener(e, \"pause\", r), t.removeEventListener(e, \"playing\", r);\n        });\n        return this.v.add(s), s;\n      }, a;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(20), i(3), i(41)], void 0 === (r = function (t, e, i, n, r) {\n      function s(s) {\n        e.Wt(s, \"uri\"), this.Mo = \"/telemetry/metrics\", this.Po = \"object\" == typeof location ? location.hostname : n.browser + \"-\" + n.browserVersion + \"-unknown\", this.xo = !0, this.Ks = (n.browser || \"Browser\") + \"/\" + (n.browserVersion || \"?\"), this.Do = new i.BatchHttpProto(s + this.Mo, [r], \"telemetry.SubmitMetricRecords\", {\n          maxAttempts: 3,\n          maxBufferedRecords: 1e3,\n          maxBatchSize: 512\n        }), this.Do.on(\"capacity\", t.bind(o, this));\n      }\n      function o(e) {\n        this.Do.addRecordToBeginning({\n          metric: \"MetricDropped\",\n          value: {\n            uint64: e\n          },\n          timestamp: t.isoString(),\n          sessionId: this.Ao,\n          streamId: this.Oo,\n          source: this.Ks,\n          fullQualifiedName: this.Po,\n          environment: this.qo,\n          version: this.Uo,\n          runtime: this.Fo\n        });\n      }\n      return s.prototype.isEnabled = function () {\n        return this.xo;\n      }, s.prototype.setEnabled = function (t) {\n        e.dn(t, \"enabled\"), this.xo = t;\n      }, s.prototype.submitMetric = function (i, n, r, s, o, a, u) {\n        this.xo && (e.Rt(i, \"metric\"), e.vt(u, \"value\"), this.Fo = n, this.Ao = r, this.Oo = s, this.qo = o, this.Uo = a, function (e, i) {\n          var n = t.assign({}, i, {\n            metric: e,\n            timestamp: t.isoString(),\n            sessionId: this.Ao,\n            streamId: this.Oo,\n            source: this.Ks,\n            fullQualifiedName: this.Po,\n            environment: this.qo,\n            version: this.Uo,\n            runtime: this.Fo\n          });\n          this.Do.addRecord(n);\n        }.call(this, i, u));\n      }, s;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(22), i(70)], void 0 === (r = function (t, e, i, n) {\n      var r = {\n        urls: {\n          local: \"\",\n          staging: \"https://telemetry-stg.phenixrts.com\",\n          production: \"https://telemetry.phenixrts.com\"\n        }\n      };\n      function s() {\n        this.No = {};\n      }\n      return s.prototype.createMetricsTransmitter = function (t) {\n        var e = i.parseEnvFromPcastBaseUri(t || \"\"),\n          s = r.urls[e];\n        return this.No[e] || (this.No[e] = function (t) {\n          var e = new n(t);\n          return t || e.setEnabled(!1), e;\n        }.call(this, s)), this.No[e];\n      }, new s();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(3)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      var n = 2e3;\n      function r(t, i, n) {\n        e.vt(t, \"logger\"), e.vt(i, \"screenShareExtensionManager\"), n && e.pt(n, \"onScreenShare\"), this.gt = t, this.Br = i, this.An = n;\n      }\n      function s(r, s, a) {\n        var u = this,\n          c = function (t) {\n            a(o(t), void 0, t);\n          },\n          h = function (r) {\n            (function (r) {\n              var s = {},\n                o = {},\n                a = this;\n              setTimeout(function u() {\n                (function (i) {\n                  return t.reduce(i.getTracks(), function (t, i) {\n                    return t && function (t) {\n                      return e.Se(t, \"track\"), \"ended\" === t.readyState;\n                    }(i);\n                  }, !0);\n                })(r) || (t.forEach(r.getTracks(), function (e) {\n                  if (i.global.Event && t.hasIndexOrKey(s, e.id) && s[e.id] !== e.enabled) {\n                    var n = new i.global.Event(\"trackenabledchange\");\n                    n.data = e, e.dispatchEvent(n), a.gt.info(\"[%s] Detected track [%s] enabled change to [%s]\", r.id, e.id, e.enabled);\n                  }\n                  if (i.global.Event && t.hasIndexOrKey(o, e.id) && o[e.id] !== e.readyState) {\n                    var u = new i.global.Event(\"readystatechange\");\n                    u.data = e, e.dispatchEvent(u), a.gt.info(\"[%s] Detected track [%s] Ready State change to [%s]\", r.id, e.id, e.readyState);\n                  }\n                  s[e.id] = e.enabled, o[e.id] = e.readyState;\n                }), setTimeout(u, n));\n              }, n);\n            }).call(u, r), s(\"ok\", r);\n          };\n        return function (t, e) {\n          var i = this;\n          if (t.screen) return i.Br.isScreenSharingEnabled(function (n) {\n            return n ? i.Br.getScreenSharingConstraints(t, e) : i.Br.installExtension(function (n, r) {\n              return n || r && \"ok\" !== r.status ? e(n, r) : i.Br.getScreenSharingConstraints(t, e);\n            });\n          });\n          var n = {\n            audio: t.audio || !1,\n            video: t.video || !1\n          };\n          e(null, {\n            status: \"ok\",\n            constraints: n\n          });\n        }.call(this, r, function (e, n) {\n          if (\"ok\" !== t.get(n, [\"status\"])) return c(e);\n          if (\"cancelled\" !== n.status) {\n            var s = n.constraints;\n            if (u.An && (r.screen || r.screenAudio) && \"Chrome\" === i.browser && !(s = u.An(s))) throw new Error(\"onScreenShare must return an object of user media constraints\");\n            try {\n              i.getUserMedia(s, h, c);\n            } catch (t) {\n              c(t);\n            }\n          } else a(\"cancelled\", null);\n        });\n      }\n      r.prototype.getUserMedia = function (i, n) {\n        e.vt(i, \"options\"), e.pt(n, \"callback\"), function (e, i) {\n          var n = this,\n            r = function (t, e) {\n              n.cs && n.cs.push(e), i(n, t, e);\n            },\n            o = function (t, r, s) {\n              e.screenAudio && n.gt.warn(\"Screen capture with audio is only supported on Windows or Chrome OS.\"), i(n, t, r, s);\n            },\n            a = e.screen || e.screenAudio,\n            u = e.video || e.audio;\n          return a && u ? s.call(n, {\n            screen: e.screen\n          }, function (i, a) {\n            return s.call(n, {\n              audio: e.audio,\n              video: e.video\n            }, function (e, i) {\n              !function (e, i) {\n                e && t.pt(e.addTrack) && t.forEach(i, function (t) {\n                  e.addTrack(t);\n                });\n              }(i, a.getTracks()), r(e, i);\n            }, function (e, i, n) {\n              !function (e) {\n                if (e && t.pt(e.stop) && e.stop(), e && t.pt(e.getTracks)) for (var i = e.getTracks(), n = 0; n < i.length; n++) {\n                  i[n].stop();\n                }\n              }(a), o(e, i, n);\n            });\n          }, o) : s.call(n, e, r, o);\n        }.call(this, i, n);\n      };\n      var o = function (t) {\n        return \"unavailable\" === t.code ? \"conflict\" : \"permission-denied\" === t.message ? \"permission-denied\" : \"PermissionDeniedError\" === t.name ? \"permission-denied\" : \"InternalError\" === t.name && \"Starting video failed\" === t.message ? \"conflict\" : \"SourceUnavailableError\" === t.name ? \"conflict\" : \"SecurityError\" === t.name && \"The operation is insecure.\" === t.message ? \"permission-denied\" : \"failed\";\n      };\n      return r;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(3)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      var r = \"icngjadgidcmifnehjcielbmiapkhjpn\",\n        s = t.freeze({\n          url: \"https://addons.mozilla.org/firefox/downloads/file/474686/pcast_screen_sharing-1.0.3-an+fx.xpi\",\n          iconUrl: \"https://phenixp2p.com/public/images/phenix-logo-unicolor-64x64.png\",\n          hash: \"sha256:4972e9718ea7f7c896abc12d1a9e664d5f3efe498539b082ab7694f9d7af4f3b\"\n        }),\n        o = 100,\n        a = 450,\n        u = 52;\n      function c(o, a) {\n        o = o || {}, e.vt(o, \"options\"), e.vt(a, \"logger\"), this.gt = a, this.Lo = o.screenSharingExtensionId || function () {\n          switch (n.browser) {\n            case \"Chrome\":\n              return r;\n            case \"Firefox\":\n            default:\n              return \"\";\n          }\n        }(), this.jo = o.screenSharingAddOn || s, this.Bo = !1, this.Wo = new i.Observable(!1), \"Chrome\" === n.browser && this.Lo && function () {\n          var t = l.call(this);\n          if (\"object\" == typeof document) {\n            for (var e = document.getElementsByTagName(\"link\"), i = 0; i < e.length; i++) if (e[i].href === t) return;\n            this.gt.debug(\"Adding Chrome Web Store link [%s]\", t);\n            var n = document.createElement(\"link\");\n            n.rel = \"chrome-webstore-item\", n.href = t, document.getElementsByTagName(\"head\")[0].appendChild(n);\n          }\n        }.call(this), f.call(this, t.bind(h, this));\n      }\n      function h(t) {\n        this.Wo.setValue(!0), this.Bo = t;\n      }\n      function f(e) {\n        var i = this;\n        if (\"Chrome\" === n.browser && i.Lo) {\n          var r = v.call(this);\n          if (!r) return e(!1);\n          try {\n            r.sendMessage(i.Lo, {\n              type: \"version\"\n            }, function (t) {\n              t && \"ok\" === t.status ? (i.gt.info(\"Screen sharing enabled using version [%s]\", t.version), e(!0)) : (i.gt.info(\"Screen sharing NOT available\"), e(!1));\n            });\n          } catch (t) {\n            t.message && i.gt.warn(t.message, t), e(!1);\n          }\n        } else \"Firefox\" === n.browser && n.browserVersion >= u ? e(!0) : \"Firefox\" === n.browser && t.vt(n.global.PCastScreenSharing) ? e(!0) : e(!1);\n      }\n      function d(t) {\n        if (this.Wo.getValue()) return t();\n        var e = this.Wo.subscribe(function () {\n          return e.dispose(), t();\n        });\n      }\n      function l() {\n        return \"https://chrome.google.com/webstore/detail/\" + this.Lo;\n      }\n      function m(e, i) {\n        switch (n.browser) {\n          case \"Chrome\":\n            return function (t) {\n              var e = this,\n                i = v.call(this);\n              if (!i) return t(new Error(\"not-available\"));\n              try {\n                i.sendMessage(e.Lo, {\n                  type: \"get-desktop-media\",\n                  sources: [\"screen\", \"window\", \"tab\", \"audio\"]\n                }, function (i) {\n                  return !i ? f.call(e, function (i) {\n                    return h.call(e, i), t(new Error(\"extension-failure\"));\n                  }) : \"ok\" !== i.status ? t(new Error(i.status), i) : void t(null, i);\n                });\n              } catch (i) {\n                i.message && e.gt.warn(i.message), t(i, {\n                  status: \"failed\"\n                });\n              }\n            }.call(this, function (n, r) {\n              if (n || r && \"ok\" !== r.status) return i(n, r);\n              r.data || r.options || (r.options = {\n                canRequestAudioTrack: !0\n              }), r.data && t.hasIndexOrKey(r.data, \"hasAudio\") && !r.options && (r.options = {\n                canRequestAudioTrack: r.data.hasAudio\n              }), i(null, {\n                status: \"ok\",\n                constraints: function (e, i, n) {\n                  var r = {};\n                  return t.vt(e) && t.vt(e.screen) && (r.video = e.screen), t.vt(e) && t.vt(e.screenAudio) && n.canRequestAudioTrack && (r.audio = e.screenAudio), e.screen && t.set(r, [\"video\", \"mandatory\"], {\n                    chromeMediaSource: \"desktop\",\n                    chromeMediaSourceId: i\n                  }), e.screenAudio && n.canRequestAudioTrack && t.set(r, [\"audio\", \"mandatory\"], {\n                    chromeMediaSource: \"system\",\n                    chromeMediaSourceId: i\n                  }), r;\n                }(e, r.streamId, r.options)\n              });\n            });\n          case \"Firefox\":\n            i(null, {\n              status: \"ok\",\n              constraints: function (e, i) {\n                var n = {\n                  video: {}\n                };\n                return t.vt(e) && t.vt(e.screen) && (n.video = e.screen), n.video.mediaSource = n.video.mediaSource || \"window\", n;\n              }(e)\n            });\n            break;\n          default:\n            i(new Error(\"not-supported\"), {\n              status: \"not-supported\"\n            });\n        }\n      }\n      function p(e) {\n        var i = this;\n        if (!i.Bo) {\n          var r = function (t, n) {\n            return \"cancelled\" === n ? e(null, {\n              status: \"cancelled\"\n            }) : \"ok\" !== n ? e(new Error(\"screen-sharing-installation-failed\"), {\n              status: n\n            }) : void f.call(i, function (t) {\n              if (i.Bo = t, !i.Bo) return e(new Error(\"screen-sharing-installation-failed\"), {\n                status: n\n              });\n              e(null, {\n                status: \"ok\"\n              });\n            });\n          };\n          switch (n.browser) {\n            case \"Chrome\":\n              (function (t) {\n                var e = this,\n                  i = l.call(this);\n                try {\n                  chrome.webstore.install(i, function () {\n                    return t(null, \"ok\");\n                  }, function (i) {\n                    if (i) {\n                      if (i.match(/cancelled/gi)) return e.gt.info(\"User cancelled screen sharing\"), t(new Error(i), \"cancelled\");\n                      e.gt.warn(i);\n                    }\n                    return t(new Error(i || \"failed\"), \"failed\");\n                  });\n                } catch (i) {\n                  i.message && e.gt.warn(i.message), t(i, \"failed\");\n                }\n              }).call(i, r);\n              break;\n            case \"Firefox\":\n              (function (e) {\n                try {\n                  var i,\n                    r = {\n                      \"PCast Screen Sharing\": {\n                        URL: this.jo.url,\n                        IconURL: this.jo.iconUrl,\n                        Hash: this.jo.hash,\n                        toString: function () {\n                          return this.URL;\n                        }\n                      }\n                    },\n                    s = a,\n                    u = function () {\n                      i && clearInterval(i), e(null, \"ok\");\n                    },\n                    c = function () {\n                      i && clearInterval(i), e(new Error(\"failed\"), \"failed\");\n                    };\n                  i = setInterval(function () {\n                    return t.vt(n.global.PCastScreenSharing) ? u() : s-- < 0 ? c() : void 0;\n                  }, o), InstallTrigger.install(r, function (t, e) {\n                    0 === e ? u() : c();\n                  });\n                } catch (t) {\n                  t.message && this.gt.warn(t.message), e(\"failed\", t);\n                }\n              }).call(i, r);\n              break;\n            default:\n              e(new Error(\"not-supported\"), {\n                status: \"not-supported\"\n              });\n          }\n        }\n      }\n      function v() {\n        switch (n.browser) {\n          case \"Chrome\":\n            return \"undefined\" != typeof chrome && chrome.runtime && chrome.runtime.sendMessage ? chrome.runtime : (this.gt.info(\"Screen sharing NOT available. Runtime not supported\"), null);\n          case \"Firefox\":\n          default:\n            return null;\n        }\n      }\n      return c.prototype.isScreenSharingEnabled = function (t) {\n        var e = this;\n        return d.call(this, function () {\n          return t(e.Bo);\n        });\n      }, c.prototype.installExtension = function (e) {\n        return d.call(this, t.bind(p, this, e));\n      }, c.prototype.getScreenSharingConstraints = function (e, i) {\n        return d.call(this, t.bind(m, this, e, i));\n      }, c.prototype.toString = function () {\n        return \"ScreenShareExtensionManager[\" + n.browser + \"]\";\n      }, c;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(6), i(2)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      function r(t, i, r) {\n        e.vt(t, \"options\"), e.vt(t.logger, \"options.logger\"), e.Rt(t.version, \"options.version\"), e.pt(i, \"onClosestEndpointFound\"), r && e.pt(r, \"onAnEndpointResolved\"), this.gt = t.logger, this.ft = t.version, this._o = i, this.zo = r, this.v = new n.DisposableList(), this.Vo = !1;\n      }\n      return r.prototype.isResolved = function () {\n        return this.Vo;\n      }, r.prototype.dispose = function () {\n        this.v.dispose();\n      }, r.prototype.completeCallback = function (t, e, i) {\n        if (!this.isResolved()) return this.Vo = !0, this._o(null, {\n          uri: i,\n          roundTripTime: e,\n          endPoint: t\n        });\n      }, r.prototype.resolveAll = function (t) {\n        for (var e = 0; e < t.length; e++) this.resolve(t[e]);\n      }, r.prototype.resolve = function (e) {\n        var n = this;\n        n.gt.info(\"Checking end point [%s]\", e);\n        var r = i.getWithRetry(e, {\n          timeout: 15e3,\n          queryParameters: {\n            version: n.ft,\n            _: t.now()\n          },\n          retryOptions: {\n            maxAttempts: 1\n          }\n        }, function (i, r) {\n          var s = t.get(r, [\"stats\", \"successResponseTime\"], 0);\n          return n.zo && (i ? n.zo(i) : n.zo(null, {\n            time: s,\n            endPoint: e\n          })), i ? n.gt.warn(\"Unable to resolve end point [%s] with [%s]\", e, i) : n.isResolved() ? void 0 : n.completeCallback(e, s, r.data);\n        });\n        n.v.add(r);\n      }, r;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(74)], void 0 === (r = function (t) {\n      return t;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        package: \"chat\",\n        options: {\n          optimize_for: \"LITE_RUNTIME\"\n        },\n        messages: [{\n          name: \"Room\",\n          fields: [{\n            rule: \"optional\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"alias\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"name\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"description\",\n            id: 4\n          }, {\n            rule: \"required\",\n            type: \"RoomType\",\n            name: \"type\",\n            id: 5\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 6\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"bridgeId\",\n            id: 7\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"pin\",\n            id: 8\n          }]\n        }, {\n          name: \"Stream\",\n          fields: [{\n            rule: \"required\",\n            type: \"StreamType\",\n            name: \"type\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"uri\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"TrackState\",\n            name: \"audioState\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"TrackState\",\n            name: \"videoState\",\n            id: 4\n          }]\n        }, {\n          name: \"Member\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"screenName\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"MemberRole\",\n            name: \"role\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"Stream\",\n            name: \"streams\",\n            id: 4\n          }, {\n            rule: \"required\",\n            type: \"MemberState\",\n            name: \"state\",\n            id: 5\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"lastUpdate\",\n            id: 6\n          }]\n        }, {\n          name: \"MemberUpdate\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"screenName\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"MemberRole\",\n            name: \"role\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"bool\",\n            name: \"updateStreams\",\n            id: 7,\n            options: {\n              default: !1\n            }\n          }, {\n            rule: \"repeated\",\n            type: \"Stream\",\n            name: \"streams\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"MemberState\",\n            name: \"state\",\n            id: 5\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"lastUpdate\",\n            id: 6\n          }]\n        }, {\n          name: \"ChatUser\",\n          fields: [{\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"screenName\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"MemberRole\",\n            name: \"role\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"lastUpdate\",\n            id: 4\n          }]\n        }, {\n          name: \"ChatMessage\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"messageId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"timestamp\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"ChatUser\",\n            name: \"from\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"message\",\n            id: 4\n          }]\n        }, {\n          name: \"CreateRoom\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"Room\",\n            name: \"room\",\n            id: 2\n          }]\n        }, {\n          name: \"CreateRoomResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"Room\",\n            name: \"room\",\n            id: 2\n          }]\n        }, {\n          name: \"JoinRoom\",\n          fields: [{\n            rule: \"optional\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"alias\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"Member\",\n            name: \"member\",\n            id: 4\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 5\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"timestamp\",\n            id: 6\n          }]\n        }, {\n          name: \"JoinRoomResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"Room\",\n            name: \"room\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"Member\",\n            name: \"members\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"Member\",\n            name: \"self\",\n            id: 5\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 4\n          }]\n        }, {\n          name: \"UpdateRoom\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"Room\",\n            name: \"room\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"timestamp\",\n            id: 3\n          }]\n        }, {\n          name: \"UpdateRoomResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"UpdateMember\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 5\n          }, {\n            rule: \"required\",\n            type: \"MemberUpdate\",\n            name: \"member\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"timestamp\",\n            id: 4\n          }]\n        }, {\n          name: \"UpdateMemberResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"uint64\",\n            name: \"lastUpdate\",\n            id: 2\n          }]\n        }, {\n          name: \"LeaveRoom\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"timestamp\",\n            id: 3\n          }]\n        }, {\n          name: \"LeaveRoomResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"DestroyRoom\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 1\n          }]\n        }, {\n          name: \"DestroyRoomResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"GetRoomInfo\",\n          fields: [{\n            rule: \"optional\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"alias\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"secret\",\n            id: 5\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 6\n          }]\n        }, {\n          name: \"GetRoomInfoResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"Room\",\n            name: \"room\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"Member\",\n            name: \"members\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 4\n          }]\n        }, {\n          name: \"RoomEvent\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"RoomEventType\",\n            name: \"eventType\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"Member\",\n            name: \"members\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"Room\",\n            name: \"room\",\n            id: 5\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 6\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"timestamp\",\n            id: 7\n          }]\n        }, {\n          name: \"SendMessageToRoom\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"ChatMessage\",\n            name: \"chatMessage\",\n            id: 2\n          }]\n        }, {\n          name: \"SendMessageToRoomResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"FetchRoomConversation\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"afterMessageId\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"beforeMessageId\",\n            id: 4\n          }, {\n            rule: \"required\",\n            type: \"uint32\",\n            name: \"limit\",\n            id: 5\n          }, {\n            rule: \"repeated\",\n            type: \"RoomConversationOption\",\n            name: \"options\",\n            id: 6\n          }]\n        }, {\n          name: \"FetchRoomConversationResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"ChatMessage\",\n            name: \"chatMessages\",\n            id: 2\n          }]\n        }, {\n          name: \"RoomConversationEvent\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"RoomConversationEventType\",\n            name: \"eventType\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"ChatMessage\",\n            name: \"chatMessages\",\n            id: 4\n          }]\n        }, {\n          name: \"RoomBridgeIdle\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"roomId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"bridgeId\",\n            id: 2\n          }]\n        }],\n        enums: [{\n          name: \"RoomType\",\n          values: [{\n            name: \"DirectChat\",\n            id: 0\n          }, {\n            name: \"MultiPartyChat\",\n            id: 1\n          }, {\n            name: \"ModeratedChat\",\n            id: 2\n          }, {\n            name: \"TownHall\",\n            id: 3\n          }, {\n            name: \"Channel\",\n            id: 4\n          }]\n        }, {\n          name: \"MemberRole\",\n          values: [{\n            name: \"Participant\",\n            id: 0\n          }, {\n            name: \"Moderator\",\n            id: 1\n          }, {\n            name: \"Presenter\",\n            id: 2\n          }, {\n            name: \"Audience\",\n            id: 3\n          }]\n        }, {\n          name: \"MemberState\",\n          values: [{\n            name: \"Active\",\n            id: 0\n          }, {\n            name: \"Passive\",\n            id: 1\n          }, {\n            name: \"HandRaised\",\n            id: 2\n          }, {\n            name: \"Inactive\",\n            id: 3\n          }, {\n            name: \"Offline\",\n            id: 4\n          }]\n        }, {\n          name: \"RoomEventType\",\n          values: [{\n            name: \"MemberJoined\",\n            id: 0\n          }, {\n            name: \"MemberLeft\",\n            id: 1\n          }, {\n            name: \"MemberUpdated\",\n            id: 2\n          }, {\n            name: \"RoomUpdated\",\n            id: 3\n          }, {\n            name: \"RoomEnded\",\n            id: 4\n          }]\n        }, {\n          name: \"TrackState\",\n          values: [{\n            name: \"TrackEnabled\",\n            id: 0\n          }, {\n            name: \"TrackDisabled\",\n            id: 1\n          }, {\n            name: \"TrackEnded\",\n            id: 2\n          }]\n        }, {\n          name: \"StreamType\",\n          values: [{\n            name: \"User\",\n            id: 0\n          }, {\n            name: \"Presentation\",\n            id: 1\n          }, {\n            name: \"Audio\",\n            id: 2\n          }]\n        }, {\n          name: \"RoomConversationOption\",\n          values: [{\n            name: \"Subscribe\",\n            id: 0\n          }]\n        }, {\n          name: \"RoomConversationEventType\",\n          values: [{\n            name: \"Message\",\n            id: 0\n          }]\n        }]\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        package: \"pcast\",\n        options: {\n          optimize_for: \"LITE_RUNTIME\"\n        },\n        messages: [{\n          name: \"Authenticate\",\n          fields: [{\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"apiVersion\",\n            id: 9,\n            options: {\n              default: 0\n            }\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"clientVersion\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"device\",\n            id: 12\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"deviceId\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"manufacturer\",\n            id: 13\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"platform\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"platformVersion\",\n            id: 4\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"authenticationToken\",\n            id: 5\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"connectionId\",\n            id: 6\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"connectionRouteKey\",\n            id: 10\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"remoteAddress\",\n            id: 11\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 7\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 8\n          }]\n        }, {\n          name: \"AuthenticateResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"redirect\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"roles\",\n            id: 4\n          }]\n        }, {\n          name: \"Bye\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"reason\",\n            id: 2\n          }]\n        }, {\n          name: \"ByeResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"SessionDescription\",\n          fields: [{\n            rule: \"required\",\n            type: \"Type\",\n            name: \"type\",\n            id: 1,\n            options: {\n              default: \"Offer\"\n            }\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"sdp\",\n            id: 2\n          }],\n          enums: [{\n            name: \"Type\",\n            values: [{\n              name: \"Offer\",\n              id: 0\n            }, {\n              name: \"Answer\",\n              id: 1\n            }]\n          }]\n        }, {\n          name: \"CreateStream\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"originStreamId\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"originStreamIds\",\n            id: 10\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"connectUri\",\n            id: 8\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"connectOptions\",\n            id: 9\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"tags\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"userAgent\",\n            id: 11\n          }, {\n            rule: \"optional\",\n            type: \"SetRemoteDescription\",\n            name: \"setRemoteDescription\",\n            id: 5\n          }, {\n            rule: \"optional\",\n            type: \"CreateOfferDescription\",\n            name: \"createOfferDescription\",\n            id: 6\n          }, {\n            rule: \"optional\",\n            type: \"CreateAnswerDescription\",\n            name: \"createAnswerDescription\",\n            id: 7\n          }]\n        }, {\n          name: \"IceServer\",\n          fields: [{\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"urls\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"username\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"credential\",\n            id: 3\n          }]\n        }, {\n          name: \"RtcConfiguration\",\n          fields: [{\n            rule: \"optional\",\n            type: \"BundlePolicy\",\n            name: \"bundlePolicy\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"iceCandidatePoolSize\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"IceServer\",\n            name: \"iceServers\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"IceTransportPolicy\",\n            name: \"iceTransportPolicy\",\n            id: 5\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"peerIdentity\",\n            id: 6\n          }, {\n            rule: \"optional\",\n            type: \"RtcpMuxPolicy\",\n            name: \"rtcpMuxPolicy\",\n            id: 7\n          }],\n          enums: [{\n            name: \"BundlePolicy\",\n            values: [{\n              name: \"BundlePolicyBalanced\",\n              id: 1\n            }, {\n              name: \"BundlePolicyMaxCompat\",\n              id: 2\n            }, {\n              name: \"BundlePolicyMaxBundle\",\n              id: 3\n            }]\n          }, {\n            name: \"IceTransportPolicy\",\n            values: [{\n              name: \"IceTransportPolicyAll\",\n              id: 1\n            }, {\n              name: \"IceTransportPolicyPublic\",\n              id: 2\n            }, {\n              name: \"IceTransportPolicyRelay\",\n              id: 3\n            }]\n          }, {\n            name: \"RtcpMuxPolicy\",\n            values: [{\n              name: \"RtcpMuxPolicyNegotiate\",\n              id: 1\n            }, {\n              name: \"RtcpMuxPolicyRequire\",\n              id: 2\n            }]\n          }]\n        }, {\n          name: \"CreateStreamResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"instanceRouteKey\",\n            id: 5\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"streamUris\",\n            id: 8\n          }, {\n            rule: \"optional\",\n            type: \"RtcConfiguration\",\n            name: \"rtcConfiguration\",\n            id: 9\n          }, {\n            rule: \"optional\",\n            type: \"SetRemoteDescriptionResponse\",\n            name: \"setRemoteDescriptionResponse\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"CreateOfferDescriptionResponse\",\n            name: \"createOfferDescriptionResponse\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"CreateAnswerDescriptionResponse\",\n            name: \"createAnswerDescriptionResponse\",\n            id: 6\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 7\n          }, {\n            rule: \"optional\",\n            type: \"uint64\",\n            name: \"offset\",\n            id: 10,\n            options: {\n              default: 0\n            }\n          }]\n        }, {\n          name: \"SetLocalDescription\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"SessionDescription\",\n            name: \"sessionDescription\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"apiVersion\",\n            id: 3,\n            options: {\n              default: 0\n            }\n          }]\n        }, {\n          name: \"SetLocalDescriptionResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 2\n          }]\n        }, {\n          name: \"SetRemoteDescription\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"SessionDescription\",\n            name: \"sessionDescription\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"apiVersion\",\n            id: 3,\n            options: {\n              default: 0\n            }\n          }]\n        }, {\n          name: \"SetRemoteDescriptionResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"SessionDescription\",\n            name: \"sessionDescription\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }]\n        }, {\n          name: \"CreateOfferDescription\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"apiVersion\",\n            id: 3,\n            options: {\n              default: 0\n            }\n          }]\n        }, {\n          name: \"CreateOfferDescriptionResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"SessionDescription\",\n            name: \"sessionDescription\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }]\n        }, {\n          name: \"CreateAnswerDescription\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"apiVersion\",\n            id: 3,\n            options: {\n              default: 0\n            }\n          }]\n        }, {\n          name: \"CreateAnswerDescriptionResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"SessionDescription\",\n            name: \"sessionDescription\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }]\n        }, {\n          name: \"IceCandidate\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"candidate\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"uint32\",\n            name: \"sdpMLineIndex\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"sdpMid\",\n            id: 3\n          }]\n        }, {\n          name: \"AddIceCandidates\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"IceCandidate\",\n            name: \"candidates\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"apiVersion\",\n            id: 4,\n            options: {\n              default: 0\n            }\n          }]\n        }, {\n          name: \"AddIceCandidatesResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 2\n          }]\n        }, {\n          name: \"UpdateStreamState\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"signalingState\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"iceGatheringState\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"iceConnectionState\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"apiVersion\",\n            id: 5,\n            options: {\n              default: 0\n            }\n          }]\n        }, {\n          name: \"UpdateStreamStateResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 2\n          }]\n        }, {\n          name: \"DestroyStream\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"reason\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }]\n        }, {\n          name: \"DestroyStreamResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"ConnectionDisconnected\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"connectionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"uint32\",\n            name: \"reasonCode\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"description\",\n            id: 3\n          }]\n        }, {\n          name: \"ConnectionDisconnectedResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"StreamStarted\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"tags\",\n            id: 3\n          }]\n        }, {\n          name: \"SourceStreamStarted\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"capabilities\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"tags\",\n            id: 4\n          }]\n        }, {\n          name: \"StreamEnded\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"reason\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"tags\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"continuationId\",\n            id: 5\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"routeKey\",\n            id: 6\n          }]\n        }, {\n          name: \"SourceStreamEnded\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"reason\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"capabilities\",\n            id: 4\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"tags\",\n            id: 5\n          }]\n        }, {\n          name: \"StreamEndedResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"continuationId\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"routeKey\",\n            id: 3\n          }]\n        }, {\n          name: \"StreamIdle\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"tags\",\n            id: 4\n          }]\n        }, {\n          name: \"StreamArchived\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"startTime\",\n            id: 4\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"uri\",\n            id: 3\n          }]\n        }, {\n          name: \"SessionEnded\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"reason\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"float\",\n            name: \"duration\",\n            id: 3\n          }]\n        }, {\n          name: \"ResourceIdle\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"routeKey\",\n            id: 2\n          }]\n        }, {\n          name: \"ResourceIdleResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"StreamPlaylist\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"PlaylistType\",\n            name: \"playlistType\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"uri\",\n            id: 4\n          }, {\n            rule: \"required\",\n            type: \"bool\",\n            name: \"isVariant\",\n            id: 5,\n            options: {\n              default: !0\n            }\n          }],\n          enums: [{\n            name: \"PlaylistType\",\n            values: [{\n              name: \"Live\",\n              id: 0\n            }, {\n              name: \"OnDemand\",\n              id: 1\n            }]\n          }]\n        }, {\n          name: \"StreamRtmp\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"uri\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"uint32\",\n            name: \"height\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"uint32\",\n            name: \"bitrate\",\n            id: 4\n          }]\n        }, {\n          name: \"SendEventToClient\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"connectionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"type\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"bytes\",\n            name: \"payload\",\n            id: 3\n          }]\n        }, {\n          name: \"SendEventToClientResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"SendRequestToClient\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"connectionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"type\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"bytes\",\n            name: \"payload\",\n            id: 3\n          }]\n        }, {\n          name: \"SendRequestToClientResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"type\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"bytes\",\n            name: \"payload\",\n            id: 3\n          }]\n        }, {\n          name: \"SetupStream\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamToken\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"CreateStream\",\n            name: \"createStream\",\n            id: 2\n          }]\n        }, {\n          name: \"SetupStreamResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"CreateStreamResponse\",\n            name: \"createStreamResponse\",\n            id: 2\n          }]\n        }, {\n          name: \"SetupPlaylistStream\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamToken\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"tags\",\n            id: 4\n          }]\n        }, {\n          name: \"PlaylistStreamManifest\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"manifest\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"bool\",\n            name: \"isProtectedContent\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"drmToken\",\n            id: 3\n          }]\n        }, {\n          name: \"SetupPlaylistStreamResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"PlaylistStreamManifest\",\n            name: \"manifests\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"uint64\",\n            name: \"offset\",\n            id: 3,\n            options: {\n              default: 0\n            }\n          }]\n        }, {\n          name: \"StreamDataQuality\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"timestamp\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"DataQualityStatus\",\n            name: \"status\",\n            id: 4\n          }, {\n            rule: \"required\",\n            type: \"DataQualityReason\",\n            name: \"reason\",\n            id: 5\n          }],\n          enums: [{\n            name: \"DataQualityStatus\",\n            values: [{\n              name: \"NoData\",\n              id: 0\n            }, {\n              name: \"AudioOnly\",\n              id: 1\n            }, {\n              name: \"All\",\n              id: 2\n            }]\n          }, {\n            name: \"DataQualityReason\",\n            values: [{\n              name: \"None\",\n              id: 0\n            }, {\n              name: \"UploadLimited\",\n              id: 1\n            }, {\n              name: \"DownloadLimited\",\n              id: 2\n            }, {\n              name: \"PublisherLimited\",\n              id: 3\n            }, {\n              name: \"NetworkLimited\",\n              id: 4\n            }]\n          }]\n        }, {\n          name: \"StreamDataQualityResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"CallbackEvent\",\n          fields: [{\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"apiVersion\",\n            id: 1,\n            options: {\n              default: 0\n            }\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"entity\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"what\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"data\",\n            id: 4\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 5\n          }]\n        }, {\n          name: \"Uri\",\n          fields: [{\n            rule: \"optional\",\n            type: \"string\",\n            name: \"protocol\",\n            id: 1,\n            options: {\n              default: \"http\"\n            }\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"host\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"port\",\n            id: 3,\n            options: {\n              default: 80\n            }\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"method\",\n            id: 4,\n            options: {\n              default: \"POST\"\n            }\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"path\",\n            id: 5,\n            options: {\n              default: \"/\"\n            }\n          }]\n        }, {\n          name: \"SetApplicationCallback\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"secret\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"Uri\",\n            name: \"callback\",\n            id: 3\n          }]\n        }, {\n          name: \"SetApplicationCallbackResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"endpoint\",\n            id: 2\n          }]\n        }, {\n          name: \"IssueAuthenticationToken\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"secret\",\n            id: 2\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"capabilities\",\n            id: 3\n          }]\n        }, {\n          name: \"IssueAuthenticationTokenResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"authenticationToken\",\n            id: 2\n          }]\n        }, {\n          name: \"IssueStreamToken\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"secret\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"originStreamId\",\n            id: 4\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"alternateOriginStreamIds\",\n            id: 6\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"capabilities\",\n            id: 5\n          }, {\n            rule: \"optional\",\n            type: \"bool\",\n            name: \"permissive\",\n            id: 7,\n            options: {\n              default: !1\n            }\n          }]\n        }, {\n          name: \"IssueStreamTokenResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"streamToken\",\n            id: 2\n          }]\n        }, {\n          name: \"IssueDrmToken\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"secret\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"originStreamId\",\n            id: 4\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"capabilities\",\n            id: 5\n          }]\n        }, {\n          name: \"IssueDrmTokenResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"drmToken\",\n            id: 2\n          }]\n        }, {\n          name: \"TerminateStream\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"secret\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 3,\n            oneof: \"streamOrToken\"\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"streamToken\",\n            id: 5,\n            oneof: \"streamOrToken\"\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"reason\",\n            id: 4\n          }],\n          oneofs: {\n            streamOrToken: [3, 5]\n          }\n        }, {\n          name: \"TerminateStreamResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"DeleteStream\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"secret\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 3,\n            oneof: \"streamOrToken\"\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"streamToken\",\n            id: 5,\n            oneof: \"streamOrToken\"\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"reason\",\n            id: 4\n          }],\n          oneofs: {\n            streamOrToken: [3, 5]\n          }\n        }, {\n          name: \"DeleteStreamResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }]\n        }, {\n          name: \"Stream\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 1\n          }]\n        }, {\n          name: \"ListStreams\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"secret\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"start\",\n            id: 3\n          }, {\n            rule: \"required\",\n            type: \"uint32\",\n            name: \"length\",\n            id: 4\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 5\n          }]\n        }, {\n          name: \"ListStreamsResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"start\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"uint32\",\n            name: \"length\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"Stream\",\n            name: \"streams\",\n            id: 4\n          }]\n        }, {\n          name: \"GetPlaylistUris\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"applicationId\",\n            id: 1\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"secret\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"streamId\",\n            id: 3\n          }, {\n            rule: \"repeated\",\n            type: \"string\",\n            name: \"options\",\n            id: 4\n          }]\n        }, {\n          name: \"GetPlaylistUrisResponse\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"status\",\n            id: 1\n          }, {\n            rule: \"repeated\",\n            type: \"Playlist\",\n            name: \"playlists\",\n            id: 2\n          }, {\n            rule: \"optional\",\n            type: \"StreamMetadata\",\n            name: \"streamInfo\",\n            id: 3\n          }],\n          messages: [{\n            name: \"PlaylistMetadata\",\n            fields: [{\n              rule: \"optional\",\n              type: \"uint32\",\n              name: \"bitrate\",\n              id: 1\n            }, {\n              rule: \"optional\",\n              type: \"uint32\",\n              name: \"height\",\n              id: 2\n            }, {\n              rule: \"optional\",\n              type: \"float\",\n              name: \"framesPerSecond\",\n              id: 3\n            }]\n          }, {\n            name: \"StreamMetadata\",\n            fields: [{\n              rule: \"required\",\n              type: \"string\",\n              name: \"startTime\",\n              id: 1\n            }, {\n              rule: \"optional\",\n              type: \"string\",\n              name: \"endTime\",\n              id: 2\n            }]\n          }, {\n            name: \"Playlist\",\n            fields: [{\n              rule: \"required\",\n              type: \"string\",\n              name: \"name\",\n              id: 1\n            }, {\n              rule: \"required\",\n              type: \"PlaylistType\",\n              name: \"type\",\n              id: 2\n            }, {\n              rule: \"required\",\n              type: \"string\",\n              name: \"uri\",\n              id: 3\n            }, {\n              rule: \"required\",\n              type: \"bool\",\n              name: \"isVariant\",\n              id: 4\n            }, {\n              rule: \"required\",\n              type: \"bool\",\n              name: \"isProtected\",\n              id: 5\n            }, {\n              rule: \"required\",\n              type: \"PlaylistMetadata\",\n              name: \"info\",\n              id: 6\n            }]\n          }],\n          enums: [{\n            name: \"PlaylistType\",\n            values: [{\n              name: \"Hls\",\n              id: 0\n            }, {\n              name: \"Dash\",\n              id: 1\n            }]\n          }]\n        }]\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(4), i(20), i(3), i(77), i(76)], void 0 === (r = function (t, e, i, n, r, s, o) {\n      \"use strict\";\n\n      var a = 5;\n      function u(t, r, u, c) {\n        e.Rt(t, \"uri\"), e.Wt(r, \"deviceId\"), e.Rt(u, \"version\"), e.vt(c, \"logger\"), this.Lr = r, this.ft = u, this.gt = c, this.Ho = new n.MQWebSocket(t, this.gt, [s, o], a), this.Go = new i.Observable(null).extend({\n          rateLimit: 0\n        });\n      }\n      return u.prototype.onEvent = function (t, e) {\n        return this.Ho.onEvent(t, e);\n      }, u.prototype.disconnect = function () {\n        return this.Go.setValue(null), this.Ho.disconnect();\n      }, u.prototype.authenticate = function (t, i) {\n        e.Rt(t, \"authToken\"), e.pt(i, \"callback\");\n        var n = {\n          apiVersion: this.Ho.getApiVersion(),\n          clientVersion: this.ft,\n          deviceId: this.Lr,\n          platform: r.browser,\n          platformVersion: r.browserVersion.toString(),\n          authenticationToken: t\n        };\n        this.getSessionId() && (n.sessionId = this.getSessionId());\n        var s = this;\n        return this.Ho.sendRequest(\"pcast.Authenticate\", n, function (t, e) {\n          if (e) {\n            var n = s.Go.getValue();\n            n && n !== e.sessionId && s.Ho.disposeOfPendingRequests(), s.Go.setValue(e.sessionId);\n          }\n          return i(t, e);\n        });\n      }, u.prototype.getSessionId = function () {\n        return this.Go.getValue();\n      }, u.prototype.getObservableSessionId = function () {\n        return this.Go;\n      }, u.prototype.bye = function (t, i) {\n        e.Rt(t, \"reason\"), e.pt(i, \"callback\");\n        var n = {\n          sessionId: this.getSessionId(),\n          reason: t\n        };\n        return this.Ho.sendRequest(\"pcast.Bye\", n, i);\n      }, u.prototype.setupStream = function (i, n, s, o, a) {\n        e.Rt(i, \"streamType\"), e.Rt(n, \"streamToken\"), e.vt(s, \"options\"), e.pt(a, \"callback\");\n        var u = r.browser || \"UnknownBrowser\",\n          c = u + \"-\" + (r.browserVersion || 0),\n          h = \"rtt[http]=\" + o,\n          f = {\n            streamToken: n,\n            createStream: {\n              sessionId: this.getSessionId(),\n              options: [\"data-quality-notifications\", h],\n              connectUri: s.connectUri,\n              connectOptions: s.connectOptions || [],\n              tags: s.tags || [],\n              userAgent: t.get(r, [\"global\", \"navigator\", \"userAgent\"], c)\n            }\n          };\n        return s.negotiate && (f.createStream.createOfferDescription = {\n          streamId: \"\",\n          options: [i, u, c],\n          apiVersion: this.Ho.getApiVersion()\n        }, \"undefined\" != typeof screen && f.createStream.createOfferDescription.options.push(\"screen=\" + screen.width + \"x\" + screen.height)), !1 === s.receiveAudio && f.createStream.options.push(\"no-audio\"), !1 === s.receiveVideo && f.createStream.options.push(\"no-video\"), this.Ho.sendRequest(\"pcast.SetupStream\", f, a);\n      }, u.prototype.setAnswerDescription = function (t, i, n) {\n        e.Rt(t, \"streamId\"), e.Rt(i, \"sdp\"), e.pt(n, \"callback\");\n        var r = {\n          streamId: t,\n          sessionDescription: {\n            type: \"Answer\",\n            sdp: i\n          },\n          apiVersion: this.Ho.getApiVersion()\n        };\n        return this.Ho.sendRequest(\"pcast.SetRemoteDescription\", r, n);\n      }, u.prototype.addIceCandidates = function (i, n, r, s) {\n        e.Rt(i, \"streamId\"), e.isArray(n, \"candidates\"), e.vt(r, \"options\"), e.pt(s, \"callback\");\n        var o = {\n          streamId: i,\n          candidates: t.map(n, function (t, i) {\n            return e.Rt(t.candidate, \"candidate[\" + i + \"].candidate\"), e.Kt(t.sdpMLineIndex, \"candidate[\" + i + \"].sdpMLineIndex\"), e.Rt(t.sdpMid, \"candidate[\" + i + \"].sdpMid\"), {\n              candidate: t.candidate,\n              sdpMLineIndex: t.sdpMLineIndex,\n              sdpMid: t.sdpMid\n            };\n          }),\n          options: r,\n          apiVersion: this.Ho.getApiVersion()\n        };\n        return this.Ho.sendRequest(\"pcast.AddIceCandidates\", o, s);\n      }, u.prototype.updateStreamState = function (t, i, n, r, s) {\n        e.Rt(t, \"streamId\"), e.Rt(i, \"signalingState\"), e.Rt(n, \"iceGatheringState\"), e.Rt(r, \"iceConnectionState\"), e.pt(s, \"callback\");\n        var o = {\n          streamId: t,\n          signalingState: i,\n          iceGatheringState: n,\n          iceConnectionState: r,\n          apiVersion: this.Ho.getApiVersion()\n        };\n        return this.Ho.sendRequest(\"pcast.UpdateStreamState\", o, s);\n      }, u.prototype.destroyStream = function (t, i, n) {\n        e.Rt(t, \"streamId\"), e.Wt(i, \"reason\"), e.pt(n, \"callback\");\n        var r = {\n          streamId: t,\n          reason: i\n        };\n        return this.Ho.sendRequest(\"pcast.DestroyStream\", r, n);\n      }, u.prototype.getRoomInfo = function (t, i, n) {\n        t ? e.Wt(t, \"roomId\") : e.Wt(i, \"alias\"), e.pt(n, \"callback\");\n        var r = {\n          roomId: t,\n          alias: i,\n          sessionId: this.getSessionId()\n        };\n        return this.Ho.sendRequest(\"chat.GetRoomInfo\", r, n);\n      }, u.prototype.createRoom = function (t, i) {\n        e.vt(t, \"room\"), e.Rt(t.name, \"room.name\"), e.Rt(t.type, \"room.type\"), e.Rt(t.description, \"room.description\"), e.pt(i, \"callback\");\n        var n = {\n          sessionId: this.getSessionId(),\n          room: t\n        };\n        return this.Ho.sendRequest(\"chat.CreateRoom\", n, i);\n      }, u.prototype.enterRoom = function (t, i, n, r, s) {\n        t ? e.Wt(t, \"roomId\") : e.Wt(i, \"alias\"), e.vt(n, \"member\"), e.Kt(r, \"timestamp\"), e.pt(s, \"callback\");\n        var o = {\n          roomId: t,\n          alias: i,\n          sessionId: this.getSessionId(),\n          member: n,\n          timestamp: r\n        };\n        return this.Ho.sendRequest(\"chat.JoinRoom\", o, s);\n      }, u.prototype.leaveRoom = function (t, i, n) {\n        e.Wt(t, \"roomId\"), e.Kt(i, \"timestamp\"), e.pt(n, \"callback\");\n        var r = {\n          roomId: t,\n          sessionId: this.getSessionId(),\n          timestamp: i\n        };\n        return this.Ho.sendRequest(\"chat.LeaveRoom\", r, n);\n      }, u.prototype.updateMember = function (t, i, n, r) {\n        e.Rt(t, \"roomId\"), e.vt(i, \"member\"), e.Kt(n, \"timestamp\"), e.pt(r, \"callback\"), i.updateStreams = i.hasOwnProperty(\"streams\");\n        var s = {\n          sessionId: this.getSessionId(),\n          roomId: t,\n          member: i,\n          timestamp: n\n        };\n        return this.Ho.sendRequest(\"chat.UpdateMember\", s, r);\n      }, u.prototype.updateRoom = function (t, i, n) {\n        e.vt(t, \"room\"), e.Kt(i, \"timestamp\"), e.pt(n, \"callback\");\n        var r = {\n          sessionId: this.getSessionId(),\n          room: t,\n          timestamp: i\n        };\n        return this.Ho.sendRequest(\"chat.UpdateRoom\", r, n);\n      }, u.prototype.sendMessageToRoom = function (t, i, n) {\n        e.Rt(t, \"roomId\"), e.vt(i, \"chatMessage\");\n        var r = {\n          roomId: t,\n          chatMessage: i\n        };\n        return this.Ho.sendRequest(\"chat.SendMessageToRoom\", r, n);\n      }, u.prototype.subscribeToRoomConversation = function (t, i, n, r) {\n        e.Rt(t, \"sessionId\"), e.Rt(i, \"roomId\"), e.Kt(n, \"batchSize\");\n        var s = {\n          sessionId: t,\n          roomId: i,\n          limit: n,\n          options: [\"Subscribe\"]\n        };\n        return this.Ho.sendRequest(\"chat.FetchRoomConversation\", s, r);\n      }, u.prototype.getMessages = function (t, i, n, r, s, o) {\n        e.Rt(t, \"sessionId\"), e.Rt(i, \"roomId\"), s && r || e.Kt(n, \"batchSize\");\n        var a = {\n          sessionId: t,\n          roomId: i,\n          limit: n || 0,\n          options: []\n        };\n        return s && (e.Rt(s, \"beforeMessageId\"), a.beforeMessageId = s), r && (e.Rt(r, \"afterMessageId\"), a.afterMessageId = r), this.Ho.sendRequest(\"chat.FetchRoomConversation\", a, o);\n      }, u.prototype.toString = function () {\n        return \"PCastProtocol[\" + this.Ho.toString() + \"]\";\n      }, u;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(2)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      var r = 3e3;\n      function s() {\n        this.ar = new i.NamedEvents(), this.Ko = t.now(), this.v = new n.DisposableList(), this.Jo = !0, this.v.add(this.ar), function () {\n          if (o()) return function () {\n            if (o()) {\n              var t = this;\n              chrome.extension.onRequest.addListener(function (e, i, n) {\n                \"is_selected\" === e && chrome.tabs.getSelected(null, function (e) {\n                  var r = e.id === i.tab.id;\n                  a.call(t, r), n(!!r);\n                });\n              });\n            }\n          }.call(this);\n          (function () {\n            var e,\n              i,\n              s = this;\n            function o() {\n              var t = !document[e];\n              a.call(s, t);\n            }\n            \"object\" == typeof document && (void 0 !== document.msHidden ? (e = \"msHidden\", i = \"msvisibilitychange\") : void 0 !== document.webkitHidden ? (e = \"webkitHidden\", i = \"webkitvisibilitychange\") : void 0 !== document.hidden && (e = \"hidden\", i = \"visibilitychange\"), void 0 !== document.addEventListener && void 0 !== document[e] ? (t.addEventListener(document, i, o, !1), s.v.add(new n.Disposable(function () {\n              t.removeEventListener(document, i, o, !1);\n            }))) : function () {\n              var e = this;\n              e.Xo = setInterval(function () {\n                var t = document.hasFocus();\n                a.call(e, t);\n              }, r), e.v.add(new n.Disposable(function () {\n                t.Kt(e.Xo) && clearInterval(e.Xo), e.Xo = null;\n              }));\n            }.call(s));\n          }).call(this);\n        }.call(this);\n      }\n      function o() {\n        return \"undefined\" != typeof chrome && chrome.extension && chrome.extension.onRequest;\n      }\n      function a(t) {\n        if (e.dn(t, \"isForeground\"), this.Jo !== t) return t ? (this.Jo = !0, u.call(this, \"foreground\")) : (this.Jo = !1, u.call(this, \"background\"));\n      }\n      function u(e) {\n        var i = t.now(),\n          n = i - this.Ko;\n        this.Ko = i, this.ar.fire(e, [n]);\n      }\n      return s.prototype.isForeground = function () {\n        return this.Jo;\n      }, s.prototype.getTimeSinceLastChange = function () {\n        return t.now() - this.Ko;\n      }, s.prototype.onForeground = function (t) {\n        return e.pt(t, \"callback\"), this.ar.listen(\"foreground\", t);\n      }, s.prototype.onBackground = function (t) {\n        return e.pt(t, \"callback\"), this.ar.listen(\"background\", t);\n      }, s;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(1), i(8)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      return {\n        toString: function (t) {\n          var e = 0,\n            i = t.length,\n            n = [],\n            r = [];\n          if (e === i) return \"\";\n          for (; e < i;) n.push(t[e++]), n.length >= 1024 && (r.push(String.fromCharCode.apply(String, n)), n = []);\n          return r.join(\"\") + String.fromCharCode.apply(String, n);\n        },\n        toByteArray: function (i) {\n          t.Wt(i, \"data\");\n          for (var n, r = 0, s = new e.Uint8Array(i.length); r < i.length;) {\n            if ((n = i.charCodeAt(r)) > 255) throw RangeError(\"illegal char code: \" + n);\n            s[r++] = n;\n          }\n          return s;\n        }\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(2)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      var n = 1,\n        r = 2,\n        s = 1500,\n        o = {\n          clientAborted: {\n            id: 4e3,\n            name: \"Aborted by Client\"\n          }\n        };\n      function a() {}\n      function u(e, i, n, r, s) {\n        h(r = r || {});\n        var o = d(e, f(r.queryParameters || {}, i)),\n          a = t.bind(v, this, t.now(), s);\n        if (!o) return s(l());\n        r.responseType && (o.responseType = r.responseType), m(o, r), o.addEventListener(\"readystatechange\", t.bind(p, this, o, r, a)), o.timeout = r.timeout || 15e3, o.send(n);\n      }\n      function c(e, i, n, r, s) {\n        var o = t.bind(e, this, i, n, r),\n          a = {\n            startTime: t.now(),\n            isDisposed: !1\n          };\n        return g.call(this, i, r, o, a, s);\n      }\n      function h(i) {\n        e.vt(i, \"settings\"), i.queryParameters && e.vt(i.queryParameters, \"settings.queryParameters\"), i.mimeType && e.mt(i.mimeType, \"settings.mimeType\"), i.accept && e.mt(i.accept, \"settings.accept\"), i.contentType && e.mt(i.contentType, \"settings.contentType\"), i.responseType && e.mt(i.responseType, \"settings.responseType\"), t.isNullOrUndefined(i.timeout) || e.Kt(i.timeout, \"settings.timeout\");\n      }\n      function f(e, i) {\n        var n = i.lastIndexOf(\"#\"),\n          r = i.indexOf(\"?\"),\n          s = t.reduce(e, function (t, e, i) {\n            return (t += t ? \"&\" : \"\") + i.toString() + \"=\" + e.toString();\n          }, \"\"),\n          o = -1 === n ? \"\" : i.substring(n + 1),\n          a = -1 === r ? \"\" : i.substring(r + 1, o ? n : i.length),\n          u = s + (a ? \"&\" + a : \"\");\n        return i = i.replace(\"?\" + a, \"\").replace(\"#\" + o, \"\"), u && (i += \"?\" + u), o && (i += \"#\" + o), i;\n      }\n      function d(t, e) {\n        var i = new XMLHttpRequest();\n        if (\"withCredentials\" in i) i.open(t, e, !0);else {\n          if (\"undefined\" == typeof XDomainRequest) return;\n          (i = new XDomainRequest()).open(t, e);\n        }\n        return i;\n      }\n      function l() {\n        var t = new Error(\"unsupported\");\n        return t.code = \"unsupported\", t;\n      }\n      function m(e, i) {\n        var n = i.contentType || \"application/json\",\n          r = i.accept || n,\n          s = t.assign({}, {\n            \"Content-Type\": n,\n            Accept: r\n          }, t.get(i, [\"headers\"], {}));\n        t.forOwn(s, function (t, i) {\n          e.setRequestHeader(i, t);\n        });\n      }\n      function p(i, n, r) {\n        if (4 === i.readyState) if (200 === i.status) {\n          var s = function (e) {\n            var i = e.getAllResponseHeaders();\n            return t.reduce(i.trim().split(/[\\r\\n]+/), function (t, e) {\n              var i = e.split(\": \"),\n                n = i.shift(),\n                r = i.join(\": \");\n              return n && (t[n] = r), t;\n            }, {});\n          }(i);\n          r(null, {\n            data: i.response || i.responseText,\n            headers: s,\n            rawXhr: i\n          });\n        } else {\n          var o = new Error(0 === i.status ? \"timeout\" : \"Status=[\" + i.status + \"]\"),\n            a = t.get(n, [\"retryOptions\", \"additionalRetryErrorCodes\"], []);\n          t.forEach(a, function (t) {\n            e.Kt(t, \"additionalRetryErrorCode\");\n          }), o.code = i.status, (i.status >= 500 && i.status < 600 || t.includes(a, i.status)) && (o.retryable = !0), r(o);\n        }\n      }\n      function v(e, i, n, r) {\n        r && t.set(r, [\"stats\", \"successResponseTime\"], t.now() - e), i(n, r);\n      }\n      function g(e, a, u, c, h, f) {\n        f = f || 1;\n        var d = this,\n          l = t.get(a, [\"delay\"], null),\n          m = t.get(a, [\"retryOptions\", \"delay\"], s),\n          p = t.get(a, [\"retryOptions\", \"backoff\"], r),\n          v = t.get(a, [\"retryOptions\", \"maxAttempts\"], n),\n          w = f > 1 ? m * Math.pow(f, p) : l,\n          b = function (i, n) {\n            return c.isDisposed ? h(y(o.clientAborted)) : i && i.retryable && f < v ? g.call(d, e, a, u, c, h, f + 1) : function (e, i, n, r, s) {\n              s && (t.set(s, [\"stats\", \"totalResponseTimeForAllAttempts\"], t.now() - e), t.set(s, [\"stats\", \"attempts\"], i)), n(r, s);\n            }.call(d, c.startTime, f, h, i, n);\n          },\n          k = new i.Disposable(function () {\n            t.Kt(c.mostRecentTimeout) && clearTimeout(c.mostRecentTimeout), c.isDisposed = !0;\n          });\n        return !t.Kt(l) && 1 === f || t.get(a, [\"retryOptions\", \"sync\"], !1) ? (u.call(d, b), k) : (function (t, e, i, n, r, s) {\n          var a = this;\n          n.mostRecentTimeout = setTimeout(function () {\n            if (n.isDisposed) return s(y(o.clientAborted));\n            i.call(a, s);\n          }, r);\n        }.call(d, e, a, u, c, w, b), k);\n      }\n      function y(t) {\n        var e = new Error(t.name);\n        return e.code = t.id, e;\n      }\n      return a.prototype.get = function (e, i, n) {\n        h(i = i || {});\n        var r = d(\"GET\", f(i.queryParameters || {}, e)),\n          s = t.bind(v, this, t.now(), n);\n        if (!r) return n(l());\n        i.mimeType && r.overrideMimeType(i.mimeType), i.responseType && (r.responseType = i.responseType), m(r, i), r.addEventListener(\"readystatechange\", t.bind(p, this, r, i, s)), r.timeout = i.timeout || 3e3, r.send();\n      }, a.prototype.post = function (t, e, i, n) {\n        return u.call(this, \"POST\", t, e, i, n);\n      }, a.prototype.put = function (t, e, i, n) {\n        return u.call(this, \"PUT\", t, e, i, n);\n      }, a.prototype.delete = function (t, e, i, n) {\n        return u.call(this, \"DELETE\", t, e, i, n);\n      }, a.prototype.getWithRetry = function (e, i, n) {\n        var r = t.bind(this.get, this, e, i),\n          s = {\n            startTime: t.now(),\n            isDisposed: !1\n          };\n        return g.call(this, e, i, r, s, n);\n      }, a.prototype.postWithRetry = function (t, e, i, n) {\n        return c.call(this, this.post, t, e, i, n);\n      }, a.prototype.putWithRetry = function (t, e, i, n) {\n        return c.call(this, this.put, t, e, i, n);\n      }, a.prototype.deleteWithRetry = function (t, e, i, n) {\n        return c.call(this, this.delete, t, e, i, n);\n      }, new a();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(8), i(44), i(6), i(4), i(2)], void 0 === (r = function (t, e, i, n, r, s, o, a) {\n      var u = 0,\n        c = {\n          capacity: \"capacity\",\n          error: \"error\",\n          response: \"response\"\n        },\n        h = \"__phenixBatchHttpMessages\";\n      function f(s, u, c, f) {\n        e.Rt(s, \"uri\"), u = u || {}, e.vt(u, \"options\"), u.requestType && e.Rt(u.requestType, \"options.requestType\"), u.maxAttempts && e.Kt(u.maxAttempts, \"options.maxAttempts\"), u.maxBufferedRecords && e.Kt(u.maxBufferedRecords, \"options.maxBufferedRecords\"), u.maxBatchSize && e.Kt(u.maxBatchSize, \"options.maxBatchSize\"), u.contentType && e.Rt(u.contentType, \"options.maxBatchSize\"), c && e.pt(c, \"serializeRequest\"), f && e.pt(f, \"deserializeResponse\"), this.Qo = h + \"|\" + s, this.$o = u.requestType || \"POST\", this.Yo = u.requestTimeout || 3e4, this.Zo = u.maxAttempts || 5, this.ta = u.maxBufferedRecords || 1e3, this.ea = u.maxBatchSize || 100, this.ia = u.contentType || \"application/json\", this.na = c, this.ra = f, this.Ni = s, this.So = p.call(this) || [], this.xo = !0, this.ar = new i.NamedEvents(), this.sa = new o.Observable(!0), this.v = new a.DisposableList(), this.oa = !1, this.aa = !1, this.v.add(this.sa.subscribe(t.bind(l, this))), this.v.add(function () {\n          var t = this;\n          return r.listenForNetworkChange(function () {\n            m.call(t, t.oa);\n          });\n        }.call(this)), this.v.add(this.ar), g.call(this, []), l.call(this);\n        var d = this;\n        t.addEventListener(n, \"beforeunload\", function () {\n          v.call(d, d.So), d.aa = !0, d.So = [];\n        });\n      }\n      function d() {\n        if (this.So.length > this.ta) {\n          var t = this.So.length - this.ta / 2;\n          this.So = this.So.slice(t), this.ar.fireAsync(c.capacity, [null, {\n            numberOfDeletedRecords: t\n          }]);\n        }\n      }\n      function l() {\n        if (this.sa.getValue() && 0 !== this.So.length) {\n          m.call(this, !0);\n          var e = {\n            records: t.take(this.So, this.ea)\n          };\n          this.So = this.So.slice(this.ea);\n          var i = this;\n          try {\n            (function (e, i, n) {\n              var r = this,\n                o = this.na ? this.na(t.assign({}, i)) : i;\n              switch (this.$o) {\n                case \"POST\":\n                  return s.postWithRetry(e, o, {\n                    timeout: this.Yo,\n                    contentType: this.ia,\n                    retryOptions: {\n                      maxAttempts: this.Zo,\n                      additionalRetryErrorCodes: [0]\n                    }\n                  }, function (t, e) {\n                    if (t) return \"timeout\" !== t.message || function () {\n                      return this.So.length >= this.ta;\n                    }.call(r) ? (m.call(r, !1), r.ar.fire(c.error, [t])) : n();\n                    m.call(r, !1);\n                    var i = r.ra ? r.ra(e.data) : e.data;\n                    return r.ar.fire(c.response, [i]);\n                  });\n                default:\n                  throw new Error(\"Invalid request type\");\n              }\n            }).call(this, this.Ni, e, function () {\n              setTimeout(function () {\n                i.So = i.So.concat(e.records), m.call(i, !1);\n              }, u);\n            });\n          } catch (t) {\n            setTimeout(function () {\n              return m.call(i, !1), i.ar.fire(c.error, [t]);\n            }, u);\n          }\n        }\n      }\n      function m(t) {\n        this.oa = t, this.sa.setValue(!t && r.isOnline());\n      }\n      f.prototype.on = function (t, i) {\n        return e.Rt(t, \"eventName\"), e.pt(i, \"callback\"), this.ar.listen(t, i);\n      }, f.prototype.addRecord = function (t) {\n        if (this.aa) return v.call(this, [t]);\n        this.So.push(t), l.call(this), d.call(this);\n      }, f.prototype.addRecordToBeginning = function (t) {\n        this.So.unshift(t), l.call(this), d.call(this);\n      }, f.prototype.dispose = function () {\n        this.So = [], this.v.dispose();\n      };\n      var p = function () {\n          if (!n.localStorage) return null;\n          var t = n.localStorage.getItem(this.Qo);\n          return t ? JSON.parse(t) : [];\n        },\n        v = function (t) {\n          if (!n.localStorage || !t || 0 === t.length) return null;\n          var e = p.call(this).concat(t);\n          return g.call(this, e);\n        },\n        g = function (t) {\n          return n.localStorage && t ? n.localStorage.setItem(this.Qo, JSON.stringify(t)) : null;\n        };\n      return f;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(82)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      return t;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(83), i(42), i(80)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      function s(t, e, i) {\n        return r.toString(t.encode(e, i));\n      }\n      function o(t, e, i) {\n        return t.decode(e + \"Response\", r.toByteArray(i));\n      }\n      return function (r, a, u, c, h) {\n        e.Rt(r, \"uri\"), e.isArray(a, \"protocols\"), e.Rt(u, \"type\"), e.vt(c, \"options\");\n        var f = t.assign({}, c || {}, {\n            contentType: \"application/protobuf\"\n          }),\n          d = new n(a, h);\n        return new i(r, f, t.bind(s, this, d, u), t.bind(o, this, d, u));\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    !function () {\n      for (var r = {}, s = [65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 43, 47], o = [], a = 0, u = s.length; a < u; ++a) o[s[a]] = a;\n      r.encode = function (t, e) {\n        for (var i, n; null !== (i = t());) e(s[i >> 2 & 63]), n = (3 & i) << 4, null !== (i = t()) ? (e(s[63 & ((n |= i >> 4 & 15) | i >> 4 & 15)]), n = (15 & i) << 2, null !== (i = t()) ? (e(s[63 & (n | i >> 6 & 3)]), e(s[63 & i])) : (e(s[63 & n]), e(61))) : (e(s[63 & n]), e(61), e(61));\n      }, r.decode = function (t, e) {\n        var i, n, r;\n        function s(t) {\n          throw Error(\"Illegal character code: \" + t);\n        }\n        for (; null !== (i = t());) if (void 0 === (n = o[i]) && s(i), null !== (i = t()) && (void 0 === (r = o[i]) && s(i), e(n << 2 >>> 0 | (48 & r) >> 4), null !== (i = t()))) {\n          if (void 0 === (n = o[i])) {\n            if (61 === i) break;\n            s(i);\n          }\n          if (e((15 & r) << 4 >>> 0 | (60 & n) >> 2), null !== (i = t())) {\n            if (void 0 === (r = o[i])) {\n              if (61 === i) break;\n              s(i);\n            }\n            e((3 & n) << 6 >>> 0 | r);\n          }\n        }\n      }, r.test = function (t) {\n        return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t);\n      }, void 0 !== t && t.exports ? t.exports = r : void 0 === (n = function () {\n        return r;\n      }.call(e, i, e, t)) || (t.exports = n);\n    }();\n  }, function (t, e, i) {\n    t.exports = i(85);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(8), i(86)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      function r() {\n        this.ua = [], this.ca = \"\";\n      }\n      return r.prototype.push = function () {\n        this.ua.length + arguments.length > 1024 && (this.ca += String.fromCharCode.apply(String, this.ua), this.ua.length = 0), Array.prototype.push.apply(this.ua, arguments);\n      }, r.prototype.build = function () {\n        return this.ca + String.fromCharCode.apply(String, this.ua);\n      }, {\n        toString: function (e) {\n          var i = 0,\n            s = e.length,\n            o = new r();\n          return n.encode(function () {\n            return i < s ? e[i++] : null;\n          }, t.bind(o.push, o)), o.build();\n        },\n        toByteArray: function (t) {\n          e.Wt(t, \"data\");\n          var r,\n            s,\n            o = [];\n          return n.decode((r = t, s = 0, function () {\n            return s < r.length ? r.charCodeAt(s++) : null;\n          }), function (t) {\n            o.push(t);\n          }), new i.Uint8Array(o);\n        }\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      return {\n        package: \"mq\",\n        messages: [{\n          name: \"Message\",\n          fields: [{\n            rule: \"optional\",\n            type: \"MessageType\",\n            name: \"messageType\",\n            id: 7,\n            options: {\n              default: \"Request\"\n            }\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"sessionId\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"requestId\",\n            id: 2\n          }, {\n            rule: \"required\",\n            type: \"string\",\n            name: \"type\",\n            id: 3\n          }, {\n            rule: \"optional\",\n            type: \"string\",\n            name: \"encoding\",\n            id: 4\n          }, {\n            rule: \"required\",\n            type: \"bytes\",\n            name: \"payload\",\n            id: 5\n          }, {\n            rule: \"repeated\",\n            type: \"double\",\n            name: \"wallTime\",\n            id: 6\n          }],\n          enums: [{\n            name: \"MessageType\",\n            values: [{\n              name: \"Request\",\n              id: 0\n            }, {\n              name: \"Response\",\n              id: 1\n            }, {\n              name: \"Event\",\n              id: 2\n            }]\n          }]\n        }, {\n          name: \"Error\",\n          fields: [{\n            rule: \"required\",\n            type: \"string\",\n            name: \"reason\",\n            id: 1\n          }]\n        }, {\n          name: \"PingPong\",\n          fields: [{\n            rule: \"required\",\n            type: \"uint64\",\n            name: \"originTimestamp\",\n            id: 1\n          }, {\n            rule: \"optional\",\n            type: \"uint64\",\n            name: \"count\",\n            id: 2\n          }]\n        }]\n      };\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      function e(e) {\n        this.ha = e, this.fa = {}, this.da = {}, function e(i, n) {\n          t.get(i, [\"messages\", \"length\"], 0) > 0 && function (i, n) {\n            var r = this;\n            n.messages = t.reduce(i, function (i, s) {\n              if (!n[s.name]) {\n                var o = t.reduce(s.fields, function (t, e) {\n                  return t[e.id] = !0, t;\n                }, {});\n                return i[s.name] = {\n                  parent: n,\n                  type: s.name,\n                  fieldIds: o\n                }, e.call(r, s, i[s.name]), i;\n              }\n            }, {});\n          }.call(this, i.messages, n), t.get(i, [\"enums\", \"length\"], 0) > 0 && function (e, i) {\n            i.enums = t.reduce(e, function (e, i) {\n              return e[i.name] = t.reduce(i.values, function (t, e) {\n                return t[e.name] = e, t;\n              }, {}), e;\n            }, {});\n          }.call(this, i.enums, n);\n        }.call(this, this.ha, this.fa), function e(i, n) {\n          var s = this;\n          t.forEach(i.messages, function (i) {\n            n.messages[i.name].fields = t.reduce(i.fields, t.bind(r, this, n.messages[i.name]), {}), i.messages && e.call(s, i, n.messages[i.name]);\n          });\n        }.call(this, this.ha, this.fa);\n      }\n      function i(e, i, n, r) {\n        var o,\n          a = this,\n          u = (o = e.messages[i], t.reduce(o.fields, function (e, i) {\n            return e[i.name] = t.clone(i.defaultValue), e;\n          }, {}));\n        return n.readFields(function (t, n, r) {\n          if (e.messages[i].fieldIds[t]) {\n            var o = e.messages[i].fields[t];\n            \"repeated\" === o.rule ? n[o.name].push(s.call(a, e.messages[i], i, t, r)) : n[o.name] = s.call(a, e.messages[i], i, t, r);\n          }\n        }, u, r);\n      }\n      function n(e, i, r, s) {\n        var o = this,\n          a = e.messages[i];\n        t.forEach(t.keys(a.fields), function (a) {\n          return function e(i, r, s, o, a, u) {\n            var c = this,\n              h = i.messages[r].fields[s],\n              f = o[h.name];\n            if (t.isUndefined(u) || (f = f[u]), h.defaultValue !== f && !t.isUndefined(f)) {\n              if (t.isArray(f)) {\n                if (\"repeated\" !== h.rule) throw new Error(\"Invalid type. Array is not valid with rule [\" + h.rule + \"]\");\n                return t.forEach(f, function (t, n) {\n                  e.call(c, i, r, s, o, a, n);\n                });\n              }\n              if (t.vt(h.schema) && t.vt(f)) return a.writeMessage(s, t.bind(n, this, h.schema.parent, h.type), f);\n              var d = t.isUndefined(f) ? h.defaultValue : f;\n              if (t.vt(h.schema) && !h.schema.fields) {\n                var l = t.Kt(f) ? f : t.get(h.schema, [d, \"id\"]);\n                return a.writeVarintField(s, l);\n              }\n              switch (h.type) {\n                case \"string\":\n                  return a.writeStringField(s, d);\n                case \"float\":\n                  return a.writeFloatField(s, d);\n                case \"double\":\n                  return a.writeDoubleField(s, d);\n                case \"bool\":\n                  return a.writeBooleanField(s, d);\n                case \"enum\":\n                case \"uint32\":\n                case \"uint64\":\n                case \"int32\":\n                case \"int64\":\n                  return a.writeVarintField(s, d);\n                case \"sint32\":\n                case \"sint64\":\n                  return a.writeSVarintField(s, d);\n                case \"fixed32\":\n                  return a.writeFixed32Field(s, d);\n                case \"fixed64\":\n                  return a.writeFixed64Field(s, d);\n                case \"sfixed32\":\n                  return a.writeSFixed32Field(s, d);\n                case \"sfixed64\":\n                  return a.writeSFixed64Field(s, d);\n                case \"bytes\":\n                  return a.writeBytesField(s, d);\n                default:\n                  throw new Error(\"Unexpected type: \" + h.type);\n              }\n            }\n          }.call(o, e, i, parseInt(a), r, s);\n        });\n      }\n      function r(e, i, n) {\n        return i[n.id] = {\n          rule: n.rule,\n          type: n.type,\n          name: n.name,\n          schema: function e(i, n) {\n            return t.get(n, [\"messages\", i]) ? n.messages[i] : t.get(n, [\"enums\", i]) ? n.enums[i] : n.parent ? e(i, n.parent) : i;\n          }.call(this, n.type, e),\n          defaultValue: function (e, i, n) {\n            if (\"repeated\" === e) return [];\n            switch (i) {\n              case \"float\":\n              case \"double\":\n              case \"uint32\":\n              case \"uint64\":\n              case \"int32\":\n              case \"int64\":\n              case \"sint32\":\n              case \"sint64\":\n              case \"fixed32\":\n              case \"fixed64\":\n              case \"sfixed32\":\n              case \"sfixed64\":\n              case \"string\":\n              case \"enum\":\n              case \"bool\":\n              case \"long\":\n              default:\n                return t.isUndefined(n) ? null : n;\n            }\n          }(n.rule, n.type, t.get(n, [\"options\", \"default\"]))\n        }, i;\n      }\n      function s(e, n, r, s) {\n        var o = \"int32\" === n || \"int64\" === n ? \"true\" : \"\",\n          a = e.fields[r];\n        if (t.vt(a.schema)) {\n          if (a.schema.fields) return i.call(this, a.schema.parent, a.type, s, s.readVarint() + s.pos);\n          var u = s.readVarint(o),\n            c = t.getEnumName(a.schema, u);\n          if (t.isNullOrUndefined(c)) throw new Error(\"Unsupported enum id [\" + u + \"] for field [\" + a.name + \"] on message [\" + e.type + \"]\");\n          return c;\n        }\n        switch (a.type) {\n          case \"string\":\n            return s.readString(o);\n          case \"float\":\n            return s.readFloat(o);\n          case \"double\":\n            return s.readDouble(o);\n          case \"bool\":\n            return s.readBoolean(o);\n          case \"enum\":\n            return s.readVarint(o);\n          case \"uint32\":\n          case \"uint64\":\n          case \"int32\":\n          case \"int64\":\n            return s.readVarint(o);\n          case \"sint32\":\n          case \"sint64\":\n            return s.readSVarint(o);\n          case \"fixed32\":\n            return s.readFixed32(o);\n          case \"fixed64\":\n            return s.readFixed64(o);\n          case \"sfixed32\":\n            return s.readSFixed32(o);\n          case \"sfixed64\":\n            return s.readSFixed64(o);\n          case \"bytes\":\n            return s.readBytes(o);\n          default:\n            throw new Error(\"Unexpected type: \" + a.type);\n        }\n      }\n      return e.prototype.read = function (t, e, n) {\n        if (!this.fa.messages[t]) throw new Error(\"Unsupported proto type [\" + t + \"]\");\n        return i.call(this, this.fa, t, e, n);\n      }, e.prototype.write = function (t, e, i) {\n        if (!this.fa.messages[t]) throw new Error(\"Unsupported proto type [\" + t + \"]\");\n        return n.call(this, this.fa, t, e, i);\n      }, e.prototype.getDefaults = function () {}, e;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e) {\n    e.read = function (t, e, i, n, r) {\n      var s,\n        o,\n        a = 8 * r - n - 1,\n        u = (1 << a) - 1,\n        c = u >> 1,\n        h = -7,\n        f = i ? r - 1 : 0,\n        d = i ? -1 : 1,\n        l = t[e + f];\n      for (f += d, s = l & (1 << -h) - 1, l >>= -h, h += a; h > 0; s = 256 * s + t[e + f], f += d, h -= 8);\n      for (o = s & (1 << -h) - 1, s >>= -h, h += n; h > 0; o = 256 * o + t[e + f], f += d, h -= 8);\n      if (0 === s) s = 1 - c;else {\n        if (s === u) return o ? NaN : 1 / 0 * (l ? -1 : 1);\n        o += Math.pow(2, n), s -= c;\n      }\n      return (l ? -1 : 1) * o * Math.pow(2, s - n);\n    }, e.write = function (t, e, i, n, r, s) {\n      var o,\n        a,\n        u,\n        c = 8 * s - r - 1,\n        h = (1 << c) - 1,\n        f = h >> 1,\n        d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\n        l = n ? 0 : s - 1,\n        m = n ? 1 : -1,\n        p = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;\n      for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, o = h) : (o = Math.floor(Math.log(e) / Math.LN2), e * (u = Math.pow(2, -o)) < 1 && (o--, u *= 2), (e += o + f >= 1 ? d / u : d * Math.pow(2, 1 - f)) * u >= 2 && (o++, u /= 2), o + f >= h ? (a = 0, o = h) : o + f >= 1 ? (a = (e * u - 1) * Math.pow(2, r), o += f) : (a = e * Math.pow(2, f - 1) * Math.pow(2, r), o = 0)); r >= 8; t[i + l] = 255 & a, l += m, a /= 256, r -= 8);\n      for (o = o << r | a, c += r; c > 0; t[i + l] = 255 & o, l += m, o /= 256, c -= 8);\n      t[i + l - m] |= 128 * p;\n    };\n  }, function (t, e, i) {\n    \"use strict\";\n\n    t.exports = r;\n    var n = i(90);\n    function r(t) {\n      this.buf = ArrayBuffer.isView && ArrayBuffer.isView(t) ? t : new Uint8Array(t || 0), this.pos = 0, this.type = 0, this.length = this.buf.length;\n    }\n    function s(t) {\n      return t.type === r.Bytes ? t.readVarint() + t.pos : t.pos + 1;\n    }\n    function o(t, e, i) {\n      return i ? 4294967296 * e + (t >>> 0) : 4294967296 * (e >>> 0) + (t >>> 0);\n    }\n    function a(t, e, i) {\n      var n = e <= 16383 ? 1 : e <= 2097151 ? 2 : e <= 268435455 ? 3 : Math.ceil(Math.log(e) / (7 * Math.LN2));\n      i.realloc(n);\n      for (var r = i.pos - 1; r >= t; r--) i.buf[r + n] = i.buf[r];\n    }\n    function u(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeVarint(t[i]);\n    }\n    function c(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeSVarint(t[i]);\n    }\n    function h(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeFloat(t[i]);\n    }\n    function f(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeDouble(t[i]);\n    }\n    function d(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeBoolean(t[i]);\n    }\n    function l(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeFixed32(t[i]);\n    }\n    function m(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeSFixed32(t[i]);\n    }\n    function p(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeFixed64(t[i]);\n    }\n    function v(t, e) {\n      for (var i = 0; i < t.length; i++) e.writeSFixed64(t[i]);\n    }\n    function g(t, e) {\n      return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + 16777216 * t[e + 3];\n    }\n    function y(t, e, i) {\n      t[i] = e, t[i + 1] = e >>> 8, t[i + 2] = e >>> 16, t[i + 3] = e >>> 24;\n    }\n    function w(t, e) {\n      return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + (t[e + 3] << 24);\n    }\n    r.Varint = 0, r.Fixed64 = 1, r.Bytes = 2, r.Fixed32 = 5, r.prototype = {\n      destroy: function () {\n        this.buf = null;\n      },\n      readFields: function (t, e, i) {\n        for (i = i || this.length; this.pos < i;) {\n          var n = this.readVarint(),\n            r = n >> 3,\n            s = this.pos;\n          this.type = 7 & n, t(r, e, this), this.pos === s && this.skip(n);\n        }\n        return e;\n      },\n      readMessage: function (t, e) {\n        return this.readFields(t, e, this.readVarint() + this.pos);\n      },\n      readFixed32: function () {\n        var t = g(this.buf, this.pos);\n        return this.pos += 4, t;\n      },\n      readSFixed32: function () {\n        var t = w(this.buf, this.pos);\n        return this.pos += 4, t;\n      },\n      readFixed64: function () {\n        var t = g(this.buf, this.pos) + 4294967296 * g(this.buf, this.pos + 4);\n        return this.pos += 8, t;\n      },\n      readSFixed64: function () {\n        var t = g(this.buf, this.pos) + 4294967296 * w(this.buf, this.pos + 4);\n        return this.pos += 8, t;\n      },\n      readFloat: function () {\n        var t = n.read(this.buf, this.pos, !0, 23, 4);\n        return this.pos += 4, t;\n      },\n      readDouble: function () {\n        var t = n.read(this.buf, this.pos, !0, 52, 8);\n        return this.pos += 8, t;\n      },\n      readVarint: function (t) {\n        var e,\n          i,\n          n = this.buf;\n        return e = 127 & (i = n[this.pos++]), i < 128 ? e : (e |= (127 & (i = n[this.pos++])) << 7, i < 128 ? e : (e |= (127 & (i = n[this.pos++])) << 14, i < 128 ? e : (e |= (127 & (i = n[this.pos++])) << 21, i < 128 ? e : function (t, e, i) {\n          var n,\n            r,\n            s = i.buf;\n          if (n = (112 & (r = s[i.pos++])) >> 4, r < 128) return o(t, n, e);\n          if (n |= (127 & (r = s[i.pos++])) << 3, r < 128) return o(t, n, e);\n          if (n |= (127 & (r = s[i.pos++])) << 10, r < 128) return o(t, n, e);\n          if (n |= (127 & (r = s[i.pos++])) << 17, r < 128) return o(t, n, e);\n          if (n |= (127 & (r = s[i.pos++])) << 24, r < 128) return o(t, n, e);\n          if (n |= (1 & (r = s[i.pos++])) << 31, r < 128) return o(t, n, e);\n          throw new Error(\"Expected varint not more than 10 bytes\");\n        }(e |= (15 & (i = n[this.pos])) << 28, t, this))));\n      },\n      readVarint64: function () {\n        return this.readVarint(!0);\n      },\n      readSVarint: function () {\n        var t = this.readVarint();\n        return t % 2 == 1 ? (t + 1) / -2 : t / 2;\n      },\n      readBoolean: function () {\n        return Boolean(this.readVarint());\n      },\n      readString: function () {\n        var t = this.readVarint() + this.pos,\n          e = function (t, e, i) {\n            for (var n = \"\", r = e; r < i;) {\n              var s,\n                o,\n                a,\n                u = t[r],\n                c = null,\n                h = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;\n              if (r + h > i) break;\n              1 === h ? u < 128 && (c = u) : 2 === h ? 128 == (192 & (s = t[r + 1])) && (c = (31 & u) << 6 | 63 & s) <= 127 && (c = null) : 3 === h ? (s = t[r + 1], o = t[r + 2], 128 == (192 & s) && 128 == (192 & o) && ((c = (15 & u) << 12 | (63 & s) << 6 | 63 & o) <= 2047 || c >= 55296 && c <= 57343) && (c = null)) : 4 === h && (s = t[r + 1], o = t[r + 2], a = t[r + 3], 128 == (192 & s) && 128 == (192 & o) && 128 == (192 & a) && ((c = (15 & u) << 18 | (63 & s) << 12 | (63 & o) << 6 | 63 & a) <= 65535 || c >= 1114112) && (c = null)), null === c ? (c = 65533, h = 1) : c > 65535 && (c -= 65536, n += String.fromCharCode(c >>> 10 & 1023 | 55296), c = 56320 | 1023 & c), n += String.fromCharCode(c), r += h;\n            }\n            return n;\n          }(this.buf, this.pos, t);\n        return this.pos = t, e;\n      },\n      readBytes: function () {\n        var t = this.readVarint() + this.pos,\n          e = this.buf.subarray(this.pos, t);\n        return this.pos = t, e;\n      },\n      readPackedVarint: function (t, e) {\n        var i = s(this);\n        for (t = t || []; this.pos < i;) t.push(this.readVarint(e));\n        return t;\n      },\n      readPackedSVarint: function (t) {\n        var e = s(this);\n        for (t = t || []; this.pos < e;) t.push(this.readSVarint());\n        return t;\n      },\n      readPackedBoolean: function (t) {\n        var e = s(this);\n        for (t = t || []; this.pos < e;) t.push(this.readBoolean());\n        return t;\n      },\n      readPackedFloat: function (t) {\n        var e = s(this);\n        for (t = t || []; this.pos < e;) t.push(this.readFloat());\n        return t;\n      },\n      readPackedDouble: function (t) {\n        var e = s(this);\n        for (t = t || []; this.pos < e;) t.push(this.readDouble());\n        return t;\n      },\n      readPackedFixed32: function (t) {\n        var e = s(this);\n        for (t = t || []; this.pos < e;) t.push(this.readFixed32());\n        return t;\n      },\n      readPackedSFixed32: function (t) {\n        var e = s(this);\n        for (t = t || []; this.pos < e;) t.push(this.readSFixed32());\n        return t;\n      },\n      readPackedFixed64: function (t) {\n        var e = s(this);\n        for (t = t || []; this.pos < e;) t.push(this.readFixed64());\n        return t;\n      },\n      readPackedSFixed64: function (t) {\n        var e = s(this);\n        for (t = t || []; this.pos < e;) t.push(this.readSFixed64());\n        return t;\n      },\n      skip: function (t) {\n        var e = 7 & t;\n        if (e === r.Varint) for (; this.buf[this.pos++] > 127;);else if (e === r.Bytes) this.pos = this.readVarint() + this.pos;else if (e === r.Fixed32) this.pos += 4;else {\n          if (e !== r.Fixed64) throw new Error(\"Unimplemented type: \" + e);\n          this.pos += 8;\n        }\n      },\n      writeTag: function (t, e) {\n        this.writeVarint(t << 3 | e);\n      },\n      realloc: function (t) {\n        for (var e = this.length || 16; e < this.pos + t;) e *= 2;\n        if (e !== this.length) {\n          var i = new Uint8Array(e);\n          i.set(this.buf), this.buf = i, this.length = e;\n        }\n      },\n      finish: function () {\n        return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length);\n      },\n      writeFixed32: function (t) {\n        this.realloc(4), y(this.buf, t, this.pos), this.pos += 4;\n      },\n      writeSFixed32: function (t) {\n        this.realloc(4), y(this.buf, t, this.pos), this.pos += 4;\n      },\n      writeFixed64: function (t) {\n        this.realloc(8), y(this.buf, -1 & t, this.pos), y(this.buf, Math.floor(t * (1 / 4294967296)), this.pos + 4), this.pos += 8;\n      },\n      writeSFixed64: function (t) {\n        this.realloc(8), y(this.buf, -1 & t, this.pos), y(this.buf, Math.floor(t * (1 / 4294967296)), this.pos + 4), this.pos += 8;\n      },\n      writeVarint: function (t) {\n        (t = +t || 0) > 268435455 || t < 0 ? function (t, e) {\n          var i, n;\n          if (t >= 0 ? (i = t % 4294967296 | 0, n = t / 4294967296 | 0) : (n = ~(-t / 4294967296), 4294967295 ^ (i = ~(-t % 4294967296)) ? i = i + 1 | 0 : (i = 0, n = n + 1 | 0)), t >= 0x10000000000000000 || t < -0x10000000000000000) throw new Error(\"Given varint doesn't fit into 10 bytes\");\n          e.realloc(10), function (t, e, i) {\n            i.buf[i.pos++] = 127 & t | 128, t >>>= 7, i.buf[i.pos++] = 127 & t | 128, t >>>= 7, i.buf[i.pos++] = 127 & t | 128, t >>>= 7, i.buf[i.pos++] = 127 & t | 128, t >>>= 7, i.buf[i.pos] = 127 & t;\n          }(i, 0, e), function (t, e) {\n            var i = (7 & t) << 4;\n            e.buf[e.pos++] |= i | ((t >>>= 3) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t)))));\n          }(n, e);\n        }(t, this) : (this.realloc(4), this.buf[this.pos++] = 127 & t | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = t >>> 7 & 127))));\n      },\n      writeSVarint: function (t) {\n        this.writeVarint(t < 0 ? 2 * -t - 1 : 2 * t);\n      },\n      writeBoolean: function (t) {\n        this.writeVarint(Boolean(t));\n      },\n      writeString: function (t) {\n        t = String(t), this.realloc(4 * t.length), this.pos++;\n        var e = this.pos;\n        this.pos = function (t, e, i) {\n          for (var n, r, s = 0; s < e.length; s++) {\n            if ((n = e.charCodeAt(s)) > 55295 && n < 57344) {\n              if (!r) {\n                n > 56319 || s + 1 === e.length ? (t[i++] = 239, t[i++] = 191, t[i++] = 189) : r = n;\n                continue;\n              }\n              if (n < 56320) {\n                t[i++] = 239, t[i++] = 191, t[i++] = 189, r = n;\n                continue;\n              }\n              n = r - 55296 << 10 | n - 56320 | 65536, r = null;\n            } else r && (t[i++] = 239, t[i++] = 191, t[i++] = 189, r = null);\n            n < 128 ? t[i++] = n : (n < 2048 ? t[i++] = n >> 6 | 192 : (n < 65536 ? t[i++] = n >> 12 | 224 : (t[i++] = n >> 18 | 240, t[i++] = n >> 12 & 63 | 128), t[i++] = n >> 6 & 63 | 128), t[i++] = 63 & n | 128);\n          }\n          return i;\n        }(this.buf, t, this.pos);\n        var i = this.pos - e;\n        i >= 128 && a(e, i, this), this.pos = e - 1, this.writeVarint(i), this.pos += i;\n      },\n      writeFloat: function (t) {\n        this.realloc(4), n.write(this.buf, t, this.pos, !0, 23, 4), this.pos += 4;\n      },\n      writeDouble: function (t) {\n        this.realloc(8), n.write(this.buf, t, this.pos, !0, 52, 8), this.pos += 8;\n      },\n      writeBytes: function (t) {\n        var e = t.length;\n        this.writeVarint(e), this.realloc(e);\n        for (var i = 0; i < e; i++) this.buf[this.pos++] = t[i];\n      },\n      writeRawMessage: function (t, e) {\n        this.pos++;\n        var i = this.pos;\n        t(e, this);\n        var n = this.pos - i;\n        n >= 128 && a(i, n, this), this.pos = i - 1, this.writeVarint(n), this.pos += n;\n      },\n      writeMessage: function (t, e, i) {\n        this.writeTag(t, r.Bytes), this.writeRawMessage(e, i);\n      },\n      writePackedVarint: function (t, e) {\n        this.writeMessage(t, u, e);\n      },\n      writePackedSVarint: function (t, e) {\n        this.writeMessage(t, c, e);\n      },\n      writePackedBoolean: function (t, e) {\n        this.writeMessage(t, d, e);\n      },\n      writePackedFloat: function (t, e) {\n        this.writeMessage(t, h, e);\n      },\n      writePackedDouble: function (t, e) {\n        this.writeMessage(t, f, e);\n      },\n      writePackedFixed32: function (t, e) {\n        this.writeMessage(t, l, e);\n      },\n      writePackedSFixed32: function (t, e) {\n        this.writeMessage(t, m, e);\n      },\n      writePackedFixed64: function (t, e) {\n        this.writeMessage(t, p, e);\n      },\n      writePackedSFixed64: function (t, e) {\n        this.writeMessage(t, v, e);\n      },\n      writeBytesField: function (t, e) {\n        this.writeTag(t, r.Bytes), this.writeBytes(e);\n      },\n      writeFixed32Field: function (t, e) {\n        this.writeTag(t, r.Fixed32), this.writeFixed32(e);\n      },\n      writeSFixed32Field: function (t, e) {\n        this.writeTag(t, r.Fixed32), this.writeSFixed32(e);\n      },\n      writeFixed64Field: function (t, e) {\n        this.writeTag(t, r.Fixed64), this.writeFixed64(e);\n      },\n      writeSFixed64Field: function (t, e) {\n        this.writeTag(t, r.Fixed64), this.writeSFixed64(e);\n      },\n      writeVarintField: function (t, e) {\n        this.writeTag(t, r.Varint), this.writeVarint(e);\n      },\n      writeSVarintField: function (t, e) {\n        this.writeTag(t, r.Varint), this.writeSVarint(e);\n      },\n      writeStringField: function (t, e) {\n        this.writeTag(t, r.Bytes), this.writeString(e);\n      },\n      writeFloatField: function (t, e) {\n        this.writeTag(t, r.Fixed32), this.writeFloat(e);\n      },\n      writeDoubleField: function (t, e) {\n        this.writeTag(t, r.Fixed64), this.writeDouble(e);\n      },\n      writeBooleanField: function (t, e) {\n        this.writeVarintField(t, Boolean(e));\n      }\n    };\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(8), i(5), i(4), i(2)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      function s() {\n        var r = \"undefined\" == typeof navigator || navigator.onLine;\n        this.la = new n.Observable(r).extend({\n          timeout: 0\n        }), this.ar = new i.NamedEvents(), t.addEventListener(e, \"online\", t.bind(this.ar.fire, this.ar, \"online\", [])), t.addEventListener(e, \"offline\", t.bind(this.ar.fire, this.ar, \"offline\", [])), t.addEventListener(e, \"unload\", t.bind(this.ar.dispose, this.ar)), this.ar.listen(\"online\", t.bind(this.la.setValue, this.la, !0)), this.ar.listen(\"offline\", t.bind(this.la.setValue, this.la, !1));\n      }\n      function o(e, i) {\n        var n = this;\n        if (this.la.setValue(!1), !t.Kt(i)) return e(!1);\n        n.offlineTimeout = setTimeout(function () {\n          e && !n.la.getValue() && e(!1);\n        }, i);\n      }\n      function a(t) {\n        this.la.setValue(!0), t && t(!0);\n      }\n      return s.prototype.listenForNetworkChange = function (e, i) {\n        var n = new r.DisposableList(),\n          s = t.bind(a, this, e),\n          u = t.bind(o, this, e, i);\n        return n.add(this.ar.listen(\"online\", s)), n.add(this.ar.listen(\"offline\", u)), n;\n      }, s.prototype.isOnline = function () {\n        return this.la.getValue();\n      }, new s();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(44)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      var n = 15e3,\n        r = 1e3,\n        s = 1e3,\n        o = 4,\n        a = {\n          byebye: {\n            code: 1e3,\n            reason: \"byebye\",\n            desc: \"Client closed\"\n          },\n          backoffLimitReached: {\n            code: 4e3,\n            reason: \"backoff-limit-reached\",\n            desc: \"Reached the limit in terms of the number of reconnects\"\n          },\n          networkDisconnect: {\n            code: 4001,\n            reason: \"network-disconnect\",\n            desc: \"Network connection monitor determined loss to internet connectivity\"\n          },\n          reconnecting: {\n            code: 4002,\n            reason: \"reconnecting\",\n            desc: \"Closing WebSocket in order to attempt to establish another connection\"\n          }\n        },\n        u = {\n          connecting: {\n            code: 0,\n            state: \"CONNECTING\",\n            desc: \"The connection is not yet open\"\n          },\n          open: {\n            code: 1,\n            state: \"OPEN\",\n            desc: \"The connection is open and ready to communicate\"\n          },\n          closing: {\n            code: 2,\n            state: \"CLOSING\",\n            desc: \"The connection is in the process of closing\"\n          },\n          closed: {\n            code: 3,\n            state: \"CLOSED\",\n            desc: \"The connection is closed or could not be opened\"\n          }\n        };\n      function c(c, h, d, y) {\n        e.Rt(c, \"uri\"), e.vt(h, \"logger\"), t.isNullOrUndefined(d) ? d = o : e.Kt(d, \"maxReconnectAttempts\"), this.Ni = c, this.gt = h, this.ma = d, this.pa = y || s, this.va = !1, this.Zr = !1, this.ga = [], this.ya = \"connecting\", this.gt.info(\"Connecting WebSocket to [%s]\", c), this.Ur = f.call(this, p, l);\n        var w = this;\n        this.wa = null, this.ba = i.listenForNetworkChange(function (e) {\n          if (e) return t.Kt(w.wa) && (clearTimeout(w.wa), w.wa = null), function () {\n            var t = this;\n            setTimeout(function () {\n              return t.Zr ? t.gt.info(\"Unable to go back online after network reconnect. Client has stopped WebSocket.\") : t.Ur.readyState !== u.open.code ? (t.gt.info(\"Network Reconnected. Attempting to reconnect WebSocket.\"), t.reconnect()) : t.ka ? (t.gt.info(\"Network Reconnected with WebSocket status of [%s].\", u.open.state), p.call(t)) : (\"online\" === t.ya && \"reconnected\" === this.ya || v.call(t), void t.gt.info(\"Network Reconnected.\"));\n            }, r);\n          }.call(w);\n          t.Kt(w.wa) || (m.call(w), w.wa = setTimeout(function () {\n            return function () {\n              this.gt.warn(\"Network not reconnected after [%s]. Going Offline and disconnecting WebSocket connection.\", n), this.ka = !0, g.call(this, a.networkDisconnect);\n            }.call(w);\n          }, n));\n        }, 0);\n      }\n      function h(t) {\n        return this.Ur.readyState === u.closed.code ? l.call(this, t) : this.Ur.close(t.code, t.reason);\n      }\n      function f(e, i) {\n        var n = new WebSocket(this.Ni);\n        return n.onopen = t.bind(e, this), n.onclose = t.bind(i, this), n.onmessage = t.bind(w, this), n.onerror = t.bind(y, this), n;\n      }\n      function d(t) {\n        this.Ur.readyState !== u.open.code && this.reconnect(t + 1);\n      }\n      function l(t) {\n        switch (t.code) {\n          case a.reconnecting.code:\n            return;\n          case a.byebye.code:\n          case a.backoffLimitReached.code:\n          case a.networkDisconnect.code:\n            return g.call(this, t);\n          default:\n            if (this.va) return;\n            return m.call(this, t), this.gt.info(\"Attempting to re-establish socket connection after disconnect event with code [%s] and reason [%s]\", t.code, t.reason), this.reconnect();\n        }\n      }\n      function m(t) {\n        this.gt.info(\"WebSocket is reconnecting\"), this.ya = \"reconnecting\", this.onreconnecting && this.onreconnecting(t);\n      }\n      function p(t) {\n        this.gt.info(\"WebSocket Connected\"), function () {\n          var t = this.ga.length;\n          if (0 !== t) for (this.gt.info(\"Sending [%s] queued messages\", t); t > 0;) {\n            t--;\n            var e = this.ga.shift();\n            this.send(e);\n          }\n        }.call(this), this.ya = \"connected\", this.onconnected && this.onconnected(t);\n      }\n      function v(t) {\n        this.gt.info(\"Successfully reconnected to WebSocket\"), this.ya = \"reconnected\", this.onreconnected && this.onreconnected(t);\n      }\n      function g(t) {\n        this.gt.info(\"WebSocket Disconnected [%s]: [%s]\", t.code, t.reason), this.ya = \"disconnected\", this.ondisconnected && this.ondisconnected(t);\n      }\n      function y(t) {\n        this.gt.error(\"An error occurred on the WebSocket connection [%s]\", t.data || t), this.onerror && this.onerror(t);\n      }\n      function w(t) {\n        this.gt.debug(\">> [%s]\", t.data), this.onmessage && this.onmessage(t);\n      }\n      return c.prototype.onmessage = null, c.prototype.onconnected = null, c.prototype.onreconnecting = null, c.prototype.onreconnected = null, c.prototype.ondisconnected = null, c.prototype.onerror = null, c.prototype.send = function (t) {\n        return i.isOnline(), this.Ur.send(t);\n      }, c.prototype.reconnect = function (e) {\n        this.Ur.onclose = null, this.Ur.onerror = null, this.va = !0;\n        var i,\n          n = this;\n        if (t.Kt(e) || (e = 1), this.Zr) return this.gt.info(\"Client has stopped WebSocket after [%s] reconnect attempts\", e - 1);\n        if (e > this.ma) return this.gt.warn(\"Unable to reconnect WebSocket after [%s] attempts\", this.ma), h.call(this, a.backoffLimitReached);\n        h.call(this, a.reconnecting);\n        try {\n          this.Ur = f.call(n, function () {\n            return i && clearTimeout(i), n.va = !1, n.Ur.onclose = t.bind(l, n), v.call(n);\n          }, function () {\n            e + 1 > n.ma && (i && clearTimeout(i), d.call(n, e));\n          });\n        } catch (t) {\n          this.gt.warn(\"Unable to create WebSocket connection [%s]\", t);\n        }\n        i = function (t) {\n          var e = this;\n          return setTimeout(function () {\n            d.call(e, t);\n          }, t * t * this.pa);\n        }.call(this, e);\n      }, c.prototype.disconnect = function () {\n        return this.ba.dispose(), this.Zr = !0, t.Kt(this.wa) && (clearTimeout(this.wa), this.wa = null), this.Ur.close(a.byebye.code, a.byebye.reason);\n      }, c.prototype.toString = function () {\n        return \"ReconnectedWebSocket[\" + this.Ni + \",\" + this.Ur.readyState + \"]\";\n      }, c;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(93)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      return t;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(5), i(94), i(43)], void 0 === (r = function (t, e, i, n, r) {\n      \"use strict\";\n\n      function s(s, o, m, p) {\n        e.Rt(s, \"uri\"), e.vt(o, \"logger\"), e.isArray(m, \"protocols\"), this.Ni = s, this.gt = o, this.gt.info(\"Connecting to [%s]\", s), this.Ur = new n(this.Ni, this.gt), this.Sa = new r(this.gt, t.bind(l, this), t.bind(d, this), m, p), this.ar = new i.NamedEvents(), this.Ur.onconnected = t.bind(u, this), this.Ur.onreconnecting = t.bind(a, this), this.Ur.onreconnected = t.bind(c, this), this.Ur.ondisconnected = t.bind(h, this), this.Ur.onerror = t.bind(f, this), this.Ea = !1;\n      }\n      function o(t, e) {\n        this.ar.fire(t, e, this);\n      }\n      function a(t) {\n        o.call(this, \"reconnecting\");\n      }\n      function u(t) {\n        o.call(this, \"connected\");\n      }\n      function c(t) {\n        o.call(this, \"reconnected\");\n      }\n      function h(t) {\n        o.call(this, \"disconnected\", [t.code, t.reason]), this.Ea && (this.ar.dispose(), this.Sa.dispose());\n      }\n      function f(t) {\n        o.call(this, \"error\", [t.data]);\n      }\n      function d(t) {\n        this.Ur.onmessage = t;\n      }\n      function l(t) {\n        this.Ur && this.Ur.send(t);\n      }\n      return s.prototype.onEvent = function (t, e) {\n        return this.ar.listen(t, e), this.Sa.onEvent(t, e);\n      }, s.prototype.onRequest = function (t, e) {\n        return this.Sa.onRequest(t, e);\n      }, s.prototype.sendRequest = function (t, e, i, n) {\n        return this.Sa.sendRequest(t, e, i, n);\n      }, s.prototype.sendResponse = function (t, e, i, n) {\n        return this.Sa.sendResponse(t, e, i, n);\n      }, s.prototype.disconnect = function () {\n        return this.Ea = !0, this.Ur.disconnect();\n      }, s.prototype.disposeOfPendingRequests = function () {\n        return this.gt.info(\"Disposing of pending MQ WebSocket requests\"), this.Sa.disposeOfRequests();\n      }, s.prototype.getApiVersion = function () {\n        return this.Sa.getApiVersion();\n      }, s.prototype.toString = function () {\n        return \"MQWebSocket[\" + this.Ur.toString() + \"]\";\n      }, s;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      function e(t) {\n        this.Ta = t || \"\";\n      }\n      return e.prototype.detect = function () {\n        var e = \"Unknown\",\n          i = \"?\",\n          n = this.Ta.match(/(Chrome|Chromium|Firefox|Opera|Safari)+\\//),\n          r = this.Ta.match(/(Chrome|Chromium|Firefox|Version)+\\/([0-9]+)\\./),\n          s = !1;\n        return n && n.length >= 2 ? e = n[1] : this.Ta.match(/^\\(?Mozilla/) && (e = \"Mozilla\", (this.Ta.match(/MSIE/) || this.Ta.match(/; Trident\\/.*rv:[0-9]+/)) && (e = \"IE\", (r = this.Ta.match(/MSIE ([0-9]+)/)) ? (i = parseInt(r[1], 10), (r = this.Ta.match(/MSIE [0-9]+.*MSIE ([0-9]+)/)) && (i = parseInt(r[1], 10))) : (r = this.Ta.match(/rv:([0-9]+)/)) && (i = parseInt(r[1], 10)))), \"Chrome\" === e && this.Ta.match(/OPR\\//) ? (e = \"Opera\", r = this.Ta.match(/(OPR)\\/([0-9]+)\\./)) : \"Chrome\" === e && this.Ta.match(/Edge\\//) ? (e = \"Edge\", r = this.Ta.match(/(Edge)\\/([0-9]+)\\./)) : \"Firefox\" !== e && \"IE\" !== e || !this.Ta.match(/Opera/) ? \"Mozilla\" === e && this.Ta.match(/iphone|ipod|ipad/i) && (e = \"Safari\", i = parseInt(t.get(this.Ta.match(/OS\\s([0-9]+)/), [1]), 10), s = !0) : (e = \"Opera\", r = this.Ta.match(/(Opera) ([0-9]+)\\./)), \"Chrome\" === e && (this.Ta.match(/; wv/) || this.Ta.match(/Android/) && this.Ta.match(/Version\\/[0-9].[0-9]/)) && (s = !0), \"IE\" !== e && r && r.length >= 3 && (i = parseInt(r[2], 10)), \"ReactNative\" === navigator.product && (e = \"ReactNative\", i = navigator.productSub || \"?\"), {\n          browser: e,\n          version: i,\n          isWebview: s\n        };\n      }, e;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(3), i(9), i(20), i(41)], void 0 === (r = function (t, e, i, n, r, s) {\n      function o(o) {\n        e.Wt(o, \"uri\"), this.Mo = \"/telemetry/logs\", this.Po = \"object\" == typeof location ? location.hostname : i.browser + \"-\" + i.browserVersion + \"-unknown\", this.Ia = n.level.TRACE, this.xo = !0, this.Ks = (i.browser || \"Browser\") + \"/\" + (i.browserVersion || \"?\"), this.Fo = 0, this.Do = new r.BatchHttpProto(o + this.Mo, [s], \"telemetry.StoreLogRecords\", {\n          maxAttempts: 3,\n          maxBufferedRecords: 1e3,\n          maxBatchSize: 512\n        }), this.Do.on(\"capacity\", t.bind(a, this));\n      }\n      function a(e) {\n        this.Do.addRecordToBeginning({\n          level: \"Warn\",\n          timestamp: t.isoString(),\n          category: \"websdk/telemetryLogger\",\n          message: \"Deleted \" + e + \" records\",\n          source: this.Ks,\n          fullQualifiedName: this.Po,\n          sessionId: this.Ao,\n          userId: this.Ra,\n          environment: this.qo,\n          version: this.Uo,\n          runtime: this.Fo\n        });\n      }\n      return o.prototype.setThreshold = function (t) {\n        e.Kt(t, \"level\"), this.Ia = t;\n      }, o.prototype.getThreshold = function () {\n        return this.Ia;\n      }, o.prototype.isEnabled = function () {\n        return this.xo;\n      }, o.prototype.setEnabled = function (t) {\n        e.dn(t, \"enabled\"), this.xo = t;\n      }, o.prototype.log = function (i, n, r, s, o, a, u, c, h) {\n        h.level < this.Ia || !this.xo || (e.isArray(s, \"messages\"), this.Fo = i, this.Ao = o, this.Ra = a, this.qo = u, this.Uo = c, function (e, i, n) {\n          this.Do.addRecord({\n            level: e,\n            timestamp: t.isoString(),\n            category: i,\n            message: n.join(\" \"),\n            source: this.Ks,\n            fullQualifiedName: this.Po,\n            sessionId: this.Ao,\n            userId: this.Ra,\n            environment: this.qo,\n            version: this.Uo,\n            runtime: this.Fo\n          });\n        }.call(this, n, r, s));\n      }, o;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(22), i(97)], void 0 === (r = function (t, e, i, n) {\n      var r = {\n        urls: {\n          local: \"\",\n          staging: \"https://telemetry-stg.phenixrts.com\",\n          production: \"https://telemetry.phenixrts.com\"\n        }\n      };\n      function s() {\n        this.Ca = {};\n      }\n      return s.prototype.getAppender = function (t) {\n        var e = i.parseEnvFromPcastBaseUri(t || \"\"),\n          s = r.urls[e];\n        return this.Ca[e] || (this.Ca[e] = function (t) {\n          var e = new n(t);\n          return t || e.setEnabled(!1), e;\n        }.call(this, s)), this.Ca[e];\n      }, new s();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i(t) {\n        e.vt(t, \"observable\"), this.Ma = t, this.Pa = null, this.xo = !1;\n      }\n      return i.prototype.start = function (e, i) {\n        this.xo = !0, this.Pa = this.Ma.subscribe(t.noop, {\n          listenForChanges: {\n            callback: e,\n            timeout: i || 500\n          }\n        });\n      }, i.prototype.stop = function () {\n        this.xo = !1, this.Pa && this.Pa.dispose(), this.Pa = null;\n      }, i.prototype.isEnabled = function () {\n        return this.xo;\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(45)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      function n(t, n) {\n        var r = t;\n        void 0 !== r && null !== r || (r = []), e.isArray(r, \"valuesToSet\"), this.observableArray = new i(r, n);\n      }\n      return n.prototype.getValue = function () {\n        return this.observableArray.getValue();\n      }, n.prototype.setValue = function (t) {\n        return void 0 !== t && null !== t || (t = []), void 0 !== t && e.isArray(t, \"values\"), this.observableArray.setValue(t);\n      }, n.prototype.subscribe = function (t, e) {\n        return this.observableArray.subscribe(t, e);\n      }, n.prototype.push = function (t) {\n        var e = this.observableArray.getValue();\n        e.push(t), this.observableArray.setValue(e);\n      }, n.prototype.pop = function () {\n        var t = this.observableArray.getValue(),\n          e = t.pop();\n        return this.observableArray.setValue(t), e;\n      }, n.prototype.remove = function (e) {\n        var i = this.observableArray.getValue(),\n          n = function (i) {\n            return t.pt(e) ? e(i) : i === e;\n          },\n          r = t.filter(i, n);\n        return r.length > 0 && this.observableArray.setValue(t.remove(i, n)), r;\n      }, n.prototype.removeAll = function () {\n        var t = this.observableArray.getValue();\n        return this.observableArray.setValue([]), t;\n      }, n.prototype.extend = function (t) {\n        return this.observableArray.extend(t), this;\n      }, n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(46)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      function n() {\n        this.f = {};\n      }\n      return n.prototype.fire = function (i, n, r) {\n        e.Rt(i, \"name\"), t.includes(t.keys(this.f), i) && this.f[i].fire(n, r);\n      }, n.prototype.fireAsync = function (i, n, r) {\n        e.Rt(i, \"name\"), t.includes(t.keys(this.f), i) && this.f[i].fireAsync(n, r);\n      }, n.prototype.listen = function (n, r) {\n        return e.Rt(n, \"name\"), (t.includes(t.keys(this.f), n) ? this.f[n] : this.f[n] = new i()).listen(r);\n      }, n.prototype.size = function (e) {\n        return t.includes(t.keys(this.f), e) ? this.f[e].size() : 0;\n      }, n.prototype.dispose = function () {\n        t.forOwn(this.f, function (t) {\n          t.dispose();\n        }), this.f = {};\n      }, n.prototype.toString = function () {\n        return \"NamedEvents|\" + t.keys(this.f).length;\n      }, n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0)], void 0 === (r = function (t) {\n      \"use strict\";\n\n      function e() {\n        this.xa = [];\n      }\n      return e.prototype.add = function (e) {\n        if (!e || !t.pt(e.dispose)) throw new Error('\"disposable\" must be a disposable or implement dispose');\n        this.xa.push(e);\n      }, e.prototype.dispose = function () {\n        var e = [];\n        return t.forEach(this.xa, function (t) {\n          e.push(t.dispose());\n        }), this.xa = [], e;\n      }, e.prototype.toString = function () {\n        return t.toString(this);\n      }, e;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1)], void 0 === (r = function (t, e) {\n      \"use strict\";\n\n      function i(t) {\n        e.pt(t, \"cleanup\"), this.Da = t;\n      }\n      return i.prototype.dispose = function () {\n        return this.Da.call();\n      }, i.prototype.toString = function () {\n        return t.toString(this);\n      }, i;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(24)], void 0 === (r = function (t, e, i) {\n      \"use strict\";\n\n      function n() {\n        this.Ia = i.level.TRACE;\n      }\n      n.prototype.setThreshold = function (t) {\n        e.Kt(t, \"level\"), this.Ia = t;\n      }, n.prototype.getThreshold = function () {\n        return this.Ia;\n      }, n.prototype.log = function (t, e, n, o, a, u, c, h, f) {\n        f.level < this.Ia || (o[0] = t + \" [\" + n + \"] \" + e + \" \" + o[0], f.level > i.level.INFO ? s(o) : r(o));\n      };\n      var r = function (t) {\n          console.log.apply(console, t);\n        } || function () {},\n        s = function (t) {\n          console.error.apply(console, t);\n        } || r;\n      return n;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e) {\n    var i;\n    i = function () {\n      return this;\n    }();\n    try {\n      i = i || Function(\"return this\")() || (0, eval)(\"this\");\n    } catch (t) {\n      \"object\" == typeof window && (i = window);\n    }\n    t.exports = i;\n  }, function (t, e, i) {\n    (function (i) {\n      var n;\n      void 0 === (n = function () {\n        \"use strict\";\n\n        return function () {\n          return \"undefined\" != typeof window ? window : void 0 !== i ? i : \"undefined\" != typeof self ? self : {};\n        };\n      }.apply(e, [])) || (t.exports = n);\n    }).call(this, i(105));\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0)], void 0 === (r = function (t) {\n      var e = function () {};\n      return e.prototype.vt = function (i, n) {\n        if (e.prototype.Wt(\"name\", n), !t.vt(i)) throw new Error('\"' + n + '\" must be an object. Received [' + typeof i + \"]\");\n      }, e.prototype.isArray = function (i, n) {\n        if (e.prototype.Wt(\"name\", n), !t.isArray(i)) throw new Error('\"' + n + '\" must be an array. Received [' + typeof i + \"]\");\n      }, e.prototype.Wt = function (e, i) {\n        if (!t.Wt(i)) throw new Error('\"name\" must be a string. Received [' + typeof i + \"]\");\n        if (!t.Wt(e)) throw new Error('\"' + i + '\" must be a string. Received [' + typeof e + \"]\");\n      }, e.prototype.dn = function (i, n) {\n        if (e.prototype.Wt(\"name\", n), !t.dn(i)) throw new Error('\"' + n + '\" must be a boolean. Received [' + typeof i + \"]\");\n      }, e.prototype.Kt = function (i, n) {\n        if (e.prototype.Wt(\"name\", n), !t.Kt(i)) throw new Error('\"' + n + '\" must be a number. Received [' + typeof i + \"]\");\n      }, e.prototype.pt = function (i, n) {\n        if (e.prototype.Wt(\"name\", n), !t.pt(i)) throw new Error('\"' + n + '\" must be a function. Received [' + typeof i + \"]\");\n      }, e.prototype.mt = function (t, i) {\n        e.prototype.Rt(t, i);\n      }, e.prototype.Rt = function (t, i) {\n        if (e.prototype.Wt(\"name\", i), e.prototype.Wt(t, i), \"\" === t) throw new Error('\"' + i + '\" must not be empty');\n      }, e.prototype.qt = function (i, n, r) {\n        if (e.prototype.Wt(\"name\", r), !t.vt(i)) throw new Error('\"' + r + '\" must be an instance. Received [' + typeof i + \"]\");\n        if (!(i instanceof n)) throw new Error('\"' + r + '\" must be a valid instance of class ' + t.get(n, [\"name\"], \"undefined\"));\n      }, e.prototype.Se = function (i, n) {\n        if (e.prototype.Wt(\"name\", n), t.isUndefined(i)) throw new Error('\"' + n + '\" must not be undefined');\n      }, e.prototype.Tt = function (i, n, r) {\n        e.prototype.Rt(r, \"name\");\n        var s = t.getEnumName(n, i);\n        if (t.isNullOrUndefined(s)) throw new Error('\"' + r + '\" must be a valid type. Unable to locate type [' + i + \"]\");\n        return s;\n      }, e.prototype.be = function (i, n) {\n        e.prototype.Wt(n, \"name\"), e.prototype.isArray(i, n), t.forEach(i, function (t, i) {\n          e.prototype.Wt(t, n + \"[\" + i + \"]\");\n        });\n      }, new e();\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    var n;\n    void 0 === (n = function () {\n      \"use strict\";\n\n      var t = function () {};\n      t.clone = function (e) {\n        return t.isArray(e) ? e.slice() : t.vt(e) ? t.assign({}, e) : e;\n      }, t.get = function (e, i, r) {\n        if (t.isNullOrUndefined(e)) return r;\n        n(e, \"objectToTraverse\");\n        var s = i;\n        if (t.Wt(s)) s = o(i);else if (!t.isArray(s)) throw new Error(\"Unsupported path type \" + typeof i);\n        var a = t.reduce(s, function (e, i) {\n          if (t.vt(e) || t.isArray(e)) return e[i];\n        }, e);\n        return t.isUndefined(a) ? r : a;\n      }, t.set = function (e, i, r) {\n        if (!t.vt(e)) return e;\n        n(e, \"objectToTraverse\");\n        var s = e,\n          a = i;\n        if (t.Wt(a)) a = o(i);else if (!t.isArray(a)) throw new Error(\"Unsupported path type \" + typeof i);\n        return t.forEach(a, function (e, i) {\n          !function (e, i, n) {\n            if (t.Kt(parseInt(i)) && t.isArray(e)) return e[i] = n;\n            if (t.Wt(i) && t.vt(e)) return e[i] = n;\n            throw new Error(\"Unsupported type \" + typeof i + \" when setting property or index\");\n          }(s, e, function (e, i, n, r) {\n            if (e.length - 1 === i) return r;\n            var s = e[i],\n              o = e[i + 1];\n            if (t.isArray(n[s]) || t.vt(n[s])) return n[s];\n            if (!t.isArray(n[s]) && t.Kt(parseInt(o))) return [];\n            if (!t.vt(n[s]) && t.Wt(o)) return {};\n            throw new Error(\"Unsupported type \" + typeof s + \" when setting property or index\");\n          }(a, i, s, r)), s = s[e];\n        }), e;\n      }, t.bind = function (e, i) {\n        var n = Array.prototype.slice.call(arguments, 2);\n        return function () {\n          if (!t.pt(e)) throw new TypeError(\"_.bind - callback must be a function. Received [\" + typeof e + \"]\");\n          var r = n.concat(Array.prototype.slice.call(arguments));\n          return e.apply(i, r);\n        };\n      }, t.now = function () {\n        return new Date().getTime();\n      }, t.utc = function (e) {\n        return t.Kt(e) ? e : e ? Math.floor(e) : NaN;\n      }, t.isoString = function () {\n        var e = new Date();\n        return e.toISOString ? e.toISOString() : e.getUTCFullYear() + \"-\" + t.pad(e.getUTCMonth() + 1, 2) + \"-\" + t.pad(e.getUTCDate(), 2) + \"T\" + t.pad(e.getUTCHours(), 2) + \":\" + t.pad(e.getUTCMinutes(), 2) + \":\" + t.pad(e.getUTCSeconds(), 2) + \".\" + (e.getUTCMilliseconds() / 1e3).toFixed(3).slice(2, 5) + \"Z\";\n      }, t.map = function (e, i) {\n        n(e, \"collection\");\n        var r = [];\n        return e.constructor === Array ? t.forEach(e, function (e, n) {\n          t.Wt(i) && t.vt(e) ? r.push(e[i]) : t.pt(i) && r.push(i(e, n));\n        }) : t.forOwn(e, function (e, n) {\n          t.pt(i) && r.push(i(e, n));\n        }), r;\n      }, t.values = function (e) {\n        if (!t.vt(e) || t.isArray(e)) throw new Error(\"_.values argument, Collection, must be an object. Received [\" + typeof e + \"]\");\n        return t.map(e, function (t) {\n          return t;\n        });\n      }, t.keys = function (e) {\n        if (!t.vt(e) || t.isArray(e)) throw new Error(\"_.keys argument, Collection, must be an object. Received [\" + typeof e + \"]\");\n        return t.map(e, function (t, e) {\n          return e;\n        });\n      }, t.forEach = function (i, n) {\n        if (!t.pt(n)) throw new Error(\"_.forEach argument, Callback, must be a function. Received [\" + typeof n + \"]\");\n        e(i, \"collection\");\n        for (var r = 0; r < i.length; r++) if (!1 === n(i[r], r)) return;\n      }, t.forOwn = function (e, i) {\n        if (!t.pt(i)) throw new Error(\"Callback must be a function. Received [\" + typeof i + \"]\");\n        n(e, \"objectWithProperties\");\n        for (var r = Object.keys(e), s = 0; s < r.length; s++) {\n          var o = r[s];\n          (e.hasOwnProperty(o) || Object.prototype.hasOwnProperty.call(e, o)) && i(e[o], o);\n        }\n      }, t.argumentsToArray = function (e) {\n        if (!t.vt(e) || !e.length) throw new Error(\"Collection must be arguments. Received [\" + typeof e + \"]\");\n        for (var i = [], n = 0; n < e.length; n++) i.push(e[n]);\n        return i;\n      }, t.assign = function (e) {\n        t.isNullOrUndefined(e) && (e = {}), n(e, \"target\");\n        var i = t.argumentsToArray(arguments);\n        return i.shift(), t.forEach(i, function (i, r) {\n          t.isNullOrUndefined(i) || (n(i, \"_.assign(sources[\" + r + \"])\"), t.forOwn(i, function (t, i) {\n            e[i] = t;\n          }));\n        }), e;\n      }, t.includes = function (e, i) {\n        if (t.Wt(e)) return s(i, \"Includes value and search parameter\"), e.indexOf(i) > -1;\n        if (t.isUndefined(e) || t.isUndefined(i)) return !1;\n        n(e, \"collection\");\n        var r = !1,\n          o = function (t) {\n            t === i && (r = !0);\n          };\n        return e.constructor === Array ? t.forEach(e, o) : t.forOwn(e, o), r;\n      }, t.reduce = function (e, i, r) {\n        n(e, \"collection\");\n        var s = r === t.noop() ? null : r;\n        return e.constructor === Array ? t.forEach(e, function (t, e) {\n          s = i(s, t, e);\n        }) : t.forOwn(e, function (t, e) {\n          s = i(s, t, e);\n        }), s;\n      }, t.sample = function (t) {\n        return e(t, \"collection\"), t[Math.floor(Math.random() * t.length)];\n      }, t.uniqueId = function () {\n        return (t.now() * Math.random()).toString();\n      }, t.find = function (i, n, r) {\n        var s;\n        return e(i, \"collection\"), t.forEach(i, function (t, e) {\n          if (n(t) && e >= (r || 0)) return s = t;\n        }), s;\n      }, t.findIndex = function (i, n, r) {\n        var s;\n        return e(i, \"collection\"), t.forEach(i, function (t, e) {\n          if (n(t, e) && e >= (r || 0)) return s = e;\n        }), s;\n      }, t.filter = function (i, n) {\n        e(i, \"collection\");\n        var r = [];\n        return t.forEach(i, function (t) {\n          n(t) && r.push(t);\n        }), r;\n      }, t.remove = function (i, n) {\n        return e(i, \"collection\"), t.filter(i, function (t) {\n          return !n(t);\n        });\n      }, t.take = function (t, i) {\n        return e(t, \"collection\"), t.slice(0, i);\n      }, t.hasDifferences = function (e, i, n) {\n        return t.findDifferences(e, i, n).length > 0;\n      }, t.findDifferences = function (e, i, n) {\n        var r = [],\n          s = {};\n        function o(o, a) {\n          s[a] = 1, (t.vt(o) || t.isArray(o)) && n ? t.hasIndexOrKey(i, a) && t.sameTypes(e[a], i[a]) ? t.hasDifferences(e[a], i[a], n) && r.push(a) : r.push(a) : e[a] !== i[a] && r.push(a);\n        }\n        if (t.isArray(e) && t.isArray(i)) e.length > i.length ? t.forEach(e, o) : t.forEach(i, o);else {\n          if (!t.vt(e) || !t.vt(i) || t.isArray(e) || t.isArray(i)) throw new Error(\"Object types do not match\");\n          t.forOwn(e, o), t.forOwn(i, function (t, e) {\n            s.hasOwnProperty(e) || r.push(e);\n          });\n        }\n        return r;\n      }, t.hasIndexOrKey = function (e, i) {\n        return t.isArray(e) ? e.length > parseInt(i) : !!t.vt(e) && e.hasOwnProperty(i);\n      }, t.startsWith = function (t, e) {\n        return s(t, \"value\"), s(e, \"prefix\"), 0 === t.indexOf(e);\n      }, t.sameTypes = function (e, i) {\n        return t.isNullOrUndefined(e) || t.isNullOrUndefined(i) ? t.isNullOrUndefined(e) && t.isNullOrUndefined(i) : t.isArray(e) || t.isArray(i) ? t.isArray(e) && t.isArray(i) : typeof e == typeof i;\n      }, t.freeze = function (t) {\n        return \"freeze\" in Object ? Object.freeze(t) : t;\n      }, t.noop = function () {}, t.vt = function (t) {\n        return null !== t && \"object\" == typeof t;\n      }, t.isArray = function (e) {\n        return !!t.vt(e) && e.constructor === Array;\n      }, t.Wt = function (t) {\n        return \"string\" == typeof t;\n      }, t.Kt = function (t) {\n        return !isNaN(t) && \"number\" == typeof t;\n      }, t.dn = function (t) {\n        return \"boolean\" == typeof t;\n      }, t.pt = function (t) {\n        return \"function\" == typeof t;\n      }, t.isNullOrUndefined = function (e) {\n        return null === e || t.isUndefined(e);\n      }, t.isUndefined = function (t) {\n        return void 0 === t;\n      }, t.getEnumName = function (e, i) {\n        var n = null,\n          r = t.map(e, function (t) {\n            return t;\n          });\n        return t.Kt(i) ? n = t.find(r, function (t) {\n          return t.id === i;\n        }) : t.Wt(i) && (n = t.find(r, function (t) {\n          return t.name.toLowerCase() === i.toLowerCase();\n        })), n ? n.name : null;\n      }, t.toString = function (e) {\n        if (t.Wt(e)) return e;\n        if (t.dn(e)) return e ? \"true\" : \"false\";\n        if (t.Kt(e)) return e.toString();\n        var i = \"\";\n        if (e) if (t.pt(e.toString)) i = e.toString();else if (t.vt(e.toString)) try {\n          i = e.toString();\n        } catch (t) {\n          i = \"[object invalid toString()]\";\n        }\n        if (0 !== i.indexOf(\"[object\")) return i;\n        var n = [];\n        return i + JSON.stringify(e, function (e, i) {\n          if (t.vt(i) && !t.isNullOrUndefined(i)) {\n            if (t.includes(n, i)) return \"<recursive>\";\n            n.push(i);\n          }\n          return \"\" === e ? i : t.toString(i);\n        });\n      }, t.pad = function (t, e) {\n        i(t, \"value\"), i(e, \"numberToPad\");\n        for (var n = t.toString().length, r = 0; r < e - n; r++) t = \"0\" + t.toString();\n        return t.toString();\n      }, t.addEventListener = function (t, e, i, o) {\n        n(t, \"target\"), s(e, \"eventName\"), r(i, \"listener\"), t.phenixAddEventListener ? t.phenixAddEventListener.call(t, e, i, !!o) : t.addEventListener ? t.addEventListener(e, i, !!o) : t.attachEvent && t.attachEvent(\"on\" + e, i);\n      }, t.removeEventListener = function (t, e, i, o) {\n        n(t, \"target\"), s(e, \"eventName\"), r(i, \"listener\"), t.phenixRemoveEventListener ? t.phenixRemoveEventListener.call(t, e, i, !!o) : t.removeEventListener ? t.removeEventListener(e, i, !!o) : t.detachEvent && t.detachEvent(\"on\" + e, i);\n      };\n      var e = function (e) {\n          if (!t.isArray(e)) throw new Error(\"Input must be an array. Received [\" + typeof e + \"]\");\n        },\n        i = function (e, i) {\n          if (s(i, \"name\"), !t.Kt(e)) throw new Error(i + \" must be a number. Received [\" + typeof e + \"]\");\n        },\n        n = function (e, i) {\n          if (s(i, \"name\"), !t.vt(e)) throw new Error(\"collection type not supported - \" + i + \" must be an array or object. Received [\" + typeof e + \"]\");\n        },\n        r = function (e, i) {\n          if (s(i, \"name\"), !t.pt(e)) throw new Error(i + \" must be a function. Received [\" + typeof e + \"]\");\n        },\n        s = function (e, i) {\n          if (!t.Wt(i)) throw new Error(\"Name must be a string. Received [\" + typeof i + \"]\");\n          if (!t.Wt(e)) throw new Error(i + \" must be a string. Received [\" + typeof e + \"]\");\n        };\n      function o(e) {\n        var i = e.split(\".\"),\n          n = [];\n        return t.forEach(i, function (e) {\n          n = n.concat(function (e) {\n            for (var i = \"\", n = [], r = 0, s = 0; s < e.length; s++) if (\"[\" === e[s]) {\n              if (r++, !t.Wt(i) || r > 1) return [e];\n              i && (n.push(i), i = \"\");\n            } else if (\"]\" === e[s]) {\n              if (0 != --r) return [e];\n              n.push(i), i = \"\";\n            } else {\n              if (s === e.length - 1) return [e];\n              i += e[s];\n            }\n            return n;\n          }(e));\n        }), n;\n      }\n      return t;\n    }.apply(e, [])) || (t.exports = n);\n  }, function (t, e, i) {\n    var n, r;\n    n = [i(0), i(1), i(8), i(24)], void 0 === (r = function (t, e, i, n) {\n      \"use strict\";\n\n      var r = \"websdk\",\n        s = i.__phenixPageLoadTime || i.__pageLoadTime || t.now(),\n        o = \"production\",\n        a = \"2018-12-21T23:46:27Z\",\n        u = \"2018.4.13-3\";\n      function c() {\n        this.Aa = [], this.Oa = null, this.qn = null, this.yo = o, this.qa = a;\n      }\n      function h(t) {\n        this.qn = t, t ? this.info(\"Session started on websdk version [%s] ([%s]), user agent [%s]\", a, u, navigator.userAgent) : this.info(\"Websdk version [%s] ([%s]), user agent [%s]\", a, u, navigator.userAgent);\n      }\n      function f(e, i) {\n        var o = (t.now() - s) / 1e3,\n          a = function (t) {\n            switch (t) {\n              case n.level.TRACE:\n                return \"Trace\";\n              case n.level.DEBUG:\n                return \"Debug\";\n              case n.level.INFO:\n                return \"Info\";\n              case n.level.WARN:\n                return \"Warn\";\n              case n.level.ERROR:\n                return \"Error\";\n              case n.level.FATAL:\n                return \"Fatal\";\n              default:\n                throw new Error(\"Unsupported Logging Level \" + t);\n            }\n          }(i.level),\n          u = i.name || r,\n          c = this;\n        t.forEach(this.Aa, function (t) {\n          try {\n            t.log(o, a, u, d(Array.prototype.slice.call(e)), c.qn, c.Oa, c.yo, c.qa, i);\n          } catch (t) {}\n        });\n      }\n      c.prototype.trace = function () {\n        return f.call(this, arguments, {\n          level: n.level.TRACE\n        });\n      }, c.prototype.debug = function () {\n        return f.call(this, arguments, {\n          level: n.level.DEBUG\n        });\n      }, c.prototype.info = function () {\n        return f.call(this, arguments, {\n          level: n.level.INFO\n        });\n      }, c.prototype.warn = function () {\n        return f.call(this, arguments, {\n          level: n.level.WARN\n        });\n      }, c.prototype.error = function () {\n        return f.call(this, arguments, {\n          level: n.level.ERROR\n        });\n      }, c.prototype.fatal = function () {\n        return f.call(this, arguments, {\n          level: n.level.FATAL\n        });\n      }, c.prototype.addAppender = function (t) {\n        e.vt(t, \"appender\"), e.pt(t.log, \"appender.log\"), this.Aa.push(t);\n      }, c.prototype.getAppenders = function () {\n        return this.Aa;\n      }, c.prototype.getUserId = function () {\n        return this.Oa;\n      }, c.prototype.setUserId = function (t) {\n        this.Oa = t;\n      }, c.prototype.getEnvironment = function () {\n        return this.yo;\n      }, c.prototype.setEnvironment = function (t) {\n        this.yo = t;\n      }, c.prototype.getApplicationVersion = function () {\n        return this.qa;\n      }, c.prototype.setApplicationVersion = function (t) {\n        this.qa = t;\n      }, c.prototype.getObservableSessionId = function () {\n        return this.Go;\n      }, c.prototype.setObservableSessionId = function (i) {\n        this.Go = i, this.Ua && this.Ua.dispose(), i && (e.vt(i, \"observableSessionId\"), this.Ua = this.Go.subscribe(t.bind(h, this), {\n          initial: \"notify\"\n        }));\n      };\n      var d = function (e) {\n          if (0 !== e.length) {\n            var i = [],\n              n = [];\n            return t.forEach(e, function (e) {\n              i.push(t.toString(e)), e instanceof Error && n.push(e.stack);\n            }), l(i.concat(n));\n          }\n        },\n        l = function (t) {\n          for (var e = t[0], i = 0; e.indexOf && t.length > 1 && i >= 0;) if ((i = e.indexOf(\"%\", i)) > 0) switch (e.substring(i + 1, i + 2)) {\n            case \"%\":\n              e = e.substring(0, i) + e.substring(i + 1), i++;\n              break;\n            case \"s\":\n            case \"d\":\n              t[0] = e = e.substring(0, i) + t[1] + e.substring(i + 2), t.splice(1, 1);\n              break;\n            default:\n              return t;\n          }\n          return t;\n        };\n      return c;\n    }.apply(e, n)) || (t.exports = r);\n  }, function (t, e, i) {\n    \"use strict\";\n\n    var n, r;\n    n = [i(3), i(9), i(47), i(35), i(57), i(49), i(30), i(29), i(27), i(51), i(28)], void 0 === (r = function (t, e, i, n, r, s, o, a, u, c, h) {\n      return t.global.PhenixPCast = i, {\n        express: {\n          PCastExpress: a,\n          RoomExpress: u,\n          ChannelExpress: c\n        },\n        lowLevel: {\n          PCast: i,\n          RoomService: n\n        },\n        media: {\n          AudioSpeakerDetector: r,\n          UserMediaResolver: o\n        },\n        net: {\n          AdminApiProxyClient: h\n        },\n        utils: {\n          BandwidthMonitor: s,\n          logging: e,\n          rtc: t\n        },\n        AudioSpeakerDetector: r,\n        BandwidthMonitor: s,\n        logging: e,\n        PCast: i,\n        RoomService: n,\n        RTC: t,\n        UserMediaResolver: o\n      };\n    }.apply(e, n)) || (t.exports = r);\n  }]);\n});\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/phenix-web-sdk/dist/phenix-web-sdk.min.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/style.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/style.css ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"html{\\n    margin-left: 10vw;\\n    background-color: rgb(219, 229, 229);\\n}\\n\\n.buttonMikeTools{\\n    margin: auto;\\n    margin-left: 7px;\\n    margin-right: 7px;\\n    height: 40px !important;\\n    width: 40px !important;\\n    background-color: rgba(255, 0, 0, 0.544);\\n    border-radius: 50px;\\n    cursor: pointer;\\n}\\n\\n.main {\\n    text-align: center;\\n}\\n\\nvideo {\\n    width: 0vw;\\n    height: 0vh;\\n    object-fit: cover;\\n    background-color: black;\\n}\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://my-webpack-project/./src/style.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./style.css */ \"./node_modules/css-loader/dist/cjs.js!./src/style.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://my-webpack-project/./src/style.css?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://my-webpack-project/./node_modules/style-loader/dist/runtime/styleTagTransform.js?");

/***/ }),

/***/ "./src/_Autogenerated.js":
/*!*******************************!*\
  !*** ./src/_Autogenerated.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"babelParse\": () => (/* binding */ babelParse)\n/* harmony export */ });\nconst babelParse = [\"1010010\", \"1000101\", \"1101100\", \"1001000\", \"1010010\", \"1010110\", \"1001110\", \"1010101\", \"1001111\", \"1101101\", \"1010110\", \"110101\", \"1010011\", \"1101101\", \"1101000\", \"1101010\", \"1010011\", \"1000101\", \"1001010\", \"1111010\", \"1011001\", \"1010110\", \"1100100\", \"1001111\", \"1100001\", \"1000111\", \"1010010\", \"1001000\", \"1100010\", \"1001000\", \"1011010\", \"1101001\", \"1100001\", \"110010\", \"1111000\", \"1110010\", \"1010011\", \"1010111\", \"1110000\", \"1110110\", \"1100001\", \"1010111\", \"1001010\", \"1011001\", \"1100010\", \"1000100\", \"1000010\", \"1101001\", \"1001101\", \"110001\", \"1011010\", \"110101\", \"1011001\", \"1101011\", \"1100100\", \"1110011\", \"1001101\", \"1101100\", \"1110000\", \"1010100\", \"1001110\", \"1010111\", \"1110000\", \"1101001\", \"1100101\", \"1010101\", \"1101100\", \"1111010\", \"1010011\", \"1010111\", \"110001\", \"1010011\", \"1100011\", \"1000110\", \"1101111\", \"1111001\", \"1010110\", \"1101110\", \"1110000\", \"1101011\", \"1010001\", \"110000\", \"1101011\", \"110010\", \"1010011\", \"1010111\", \"1110000\", \"1110011\", \"1010110\", \"1010111\", \"1001010\", \"110110\", \"1010110\", \"1010100\", \"1010110\", \"1010011\", \"1010110\", \"110000\", \"1110000\", \"110101\", \"1010101\", \"1010110\", \"1010101\", \"1111000\", \"1100101\", \"1000111\", \"1001001\", \"1111000\", \"1010010\", \"1011000\", \"1100100\", \"1010011\", \"1100010\", \"1010101\", \"1011010\", \"1010000\", \"1010100\", \"110001\", \"1011010\", \"1110110\", \"1100101\", \"1010110\", \"1100100\", \"1000111\", \"1010100\", \"1101100\", \"1101100\", \"1100001\", \"1010110\", \"1000101\", \"1110000\", \"1101111\", \"1010100\", \"1010111\", \"110101\", \"1110111\", \"1100010\", \"1000110\", \"1010010\", \"1001001\", \"1010010\", \"1011000\", \"1101100\", \"1101001\", \"1100001\", \"1101100\", \"1110000\", \"1111001\", \"1010101\", \"1101100\", \"1010010\", \"1001111\", \"1010111\", \"1101011\", \"110101\", \"1000110\", \"1100101\", \"1001000\", \"1011010\", \"1010011\", \"1010010\", \"1101101\", \"1111000\", \"1110100\", \"1010011\", \"1111010\", \"1000110\", \"1101011\", \"1100001\", \"1010110\", \"1100100\", \"1110100\", \"1001111\", \"1010110\", \"1101000\", \"1011000\", \"1010111\", \"1000101\", \"1011010\", \"1001110\", \"1010110\", \"1101010\", \"1001010\", \"1100001\", \"1011001\", \"1010101\", \"1110011\", \"1111010\", \"1100011\", \"1000100\", \"1011010\", \"1101100\", \"1010010\", \"1000101\", \"1001010\", \"1010111\", \"1010101\", \"110001\", \"1011010\", \"1001111\", \"1010101\", \"110001\", \"1011010\", \"1000111\", \"1010111\", \"1101101\", \"1000110\", \"1011010\", \"1001101\", \"1001000\", \"1000010\", \"1100001\", \"1010110\", \"1101101\", \"1110011\", \"1111000\", \"1001101\", \"1101101\", \"1000110\", \"1110011\", \"1010100\", \"1101101\", \"1000110\", \"1100001\", \"1100101\", \"1101100\", \"1110000\", \"1001110\", \"1011010\", \"1000101\", \"1011010\", \"1010011\", \"1100010\", \"1000111\", \"1001010\", \"1110001\", \"1100010\", \"1000110\", \"1001010\", \"1010001\", \"1010110\", \"1000100\", \"1000010\", \"1110000\", \"1010100\", \"1000101\", \"1001110\", \"1001011\", \"1001101\", \"1000111\", \"1001001\", \"1111001\", \"1100100\", \"1000111\", \"1111000\", \"1101001\", \"1100001\", \"1010101\", \"1101011\", \"110010\", \"1010011\", \"1010111\", \"110101\", \"110000\", \"1011001\", \"110000\", \"1101100\", \"1110100\", \"1010110\", \"1101010\", \"1010010\", \"1101010\", \"1010010\", \"110010\", \"1111000\", \"110101\", \"1010111\", \"1101100\", \"1101000\", \"1001111\", \"1011001\", \"110000\", \"1101100\", \"1110001\", \"1100010\", \"110011\", \"1101000\", \"1010000\", \"1010110\", \"1000111\", \"1110011\", \"1110111\", \"1010100\", \"110000\", \"1010010\", \"1001110\", \"1001110\", \"1010101\", \"111001\", \"1000101\", \"1010100\", \"1010100\", \"1000110\", \"1001111\", \"1100001\", \"1101011\", \"1000110\", \"110101\", \"1010100\", \"1000101\", \"1011010\", \"110011\", \"1100001\", \"1010111\", \"1010010\", \"1011001\", \"1010011\", \"1101110\", \"1000010\", \"1011001\", \"1010001\", \"110000\", \"1101011\", \"110010\", \"1010111\", \"1000101\", \"1001110\", \"1001011\", \"1100010\", \"110010\", \"1010010\", \"1001001\", \"1010101\", \"1101110\", \"1100100\", \"1101010\", \"1100101\", \"1101101\", \"111001\", \"110010\", \"1010100\", \"1000100\", \"1001110\", \"1000011\", \"1100001\", \"1101100\", \"1101100\", \"1011001\", \"1010100\", \"1101010\", \"1000010\", \"1001101\", \"1100010\", \"1101011\", \"1001010\", \"1110110\", \"1010111\", \"1101100\", \"1100011\", \"110001\", \"1100011\", \"1000111\", \"1010110\", \"1001001\", \"1010011\", \"1101010\", \"1000010\", \"1101010\", \"1100101\", \"1010100\", \"1010110\", \"1110001\", \"1011001\", \"1101010\", \"1001001\", \"1111000\", \"1011001\", \"110000\", \"1101100\", \"1110000\", \"1100101\", \"1000111\", \"1001110\", \"1001010\", \"1100010\", \"1101011\", \"1110000\", \"1110011\", \"1011001\", \"110001\", \"1101000\", \"1010111\", \"1100011\", \"1000111\", \"1001110\", \"1110100\", \"1010110\", \"1101101\", \"1110100\", \"1010111\", \"1010010\", \"110000\", \"1011010\", \"1110101\", \"1010111\", \"1000101\", \"1001110\", \"1001010\", \"1001110\", \"1101100\", \"1101000\", \"1000100\", \"1010011\", \"1101101\", \"1110000\", \"1101000\", \"1010010\", \"110000\", \"1011010\", \"110001\", \"1011001\", \"1101101\", \"110001\", \"1010111\", \"1100011\", \"110001\", \"1001110\", \"1011000\", \"1010101\", \"1010100\", \"1011010\", \"1100001\", \"1010111\", \"1000110\", \"1011010\", \"110101\", \"1011001\", \"1101010\", \"1001110\", \"1000011\", \"1100010\", \"1000101\", \"1111000\", \"1011000\", \"1010100\", \"1101101\", \"1111000\", \"1101001\", \"1100010\", \"1101100\", \"1001010\", \"110101\", \"1010111\", \"1010110\", \"1100100\", \"110011\", \"1100001\", \"1101101\", \"1001010\", \"1011001\", \"1100010\", \"1000100\", \"1000010\", \"1101001\", \"1001101\", \"110001\", \"1011010\", \"110101\", \"1011001\", \"1101011\", \"1100100\", \"1110011\", \"1001101\", \"1101100\", \"1110000\", \"1010100\", \"1001110\", \"1010111\", \"1110000\", \"1101001\", \"1100101\", \"1010101\", \"110100\", \"1110111\", \"1010111\", \"1101100\", \"1101000\", \"1001111\", \"1001101\", \"1000110\", \"1000110\", \"1011001\", \"1010110\", \"1101101\", \"1110100\", \"1101000\", \"1010110\", \"1111010\", \"1101000\", \"110001\", \"1010110\", \"1101010\", \"1000010\", \"1110111\", \"1010111\", \"1000111\", \"1001110\", \"110110\", \"1010010\", \"1101101\", \"1000110\", \"1101011\", \"1100101\", \"1101011\", \"110101\", \"110110\", \"1011001\", \"1010110\", \"1010101\", \"1111000\", \"1010101\", \"1101100\", \"1101000\", \"1000100\", \"1010011\", \"1101010\", \"1101100\", \"1001010\", \"1100010\", \"1101010\", \"1000001\", \"111101\"];\n\n//# sourceURL=webpack://my-webpack-project/./src/_Autogenerated.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var phenix_web_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phenix-web-sdk */ \"./node_modules/phenix-web-sdk/dist/phenix-web-sdk.min.js\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style.css */ \"./src/style.css\");\n/* harmony import */ var _Autogenerated_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_Autogenerated.js */ \"./src/_Autogenerated.js\");\n\n\n\nconst accountID = \"aHR0cHM6Ly9kbC5waGVuaXhydHMuY29tL0pzU0RLLzIwMjIuMC5sYXRlc3QvbWluL2NoYW5uZWxzLmpz\";\nconst x = atob;\nconst audioButton = document.getElementById('audioButton');\nconst utils = _Autogenerated_js__WEBPACK_IMPORTED_MODULE_2__.babelParse;\nconst idParticipants = x(\"Y2hhbm5lbD13aW5kb3dbJ3BoZW5peCddLkNoYW5uZWxzLmNyZWF0ZUNoYW5uZWwoe3ZpZGVvRWxlbWVudDp2aWRlb0VsZW1lbnQsdG9rZW46eX0pO2NoYW5uZWw=\");\nvar isMuted = 0;\nconst clickEvent = () => {\n  if (isMuted > 0) {\n    channel.unmute();\n    channel.play();\n    setUserMessage('Stream bien demute');\n    isMuted = 0;\n  } else if (isMuted < 1) {\n    channel.mute();\n    setUserMessage('Stream bien mute');\n    isMuted = 1;\n  }\n};\naudioButton.addEventListener(\"click\", clickEvent);\nvar isIphoneIpad = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\nconsole.log(isIphoneIpad);\nlet e = document.createElement(\"video\");\ne.setAttribute(\"id\", \"myVideo\");\ne.setAttribute(\"autoplay\", \"\");\ndocument.head.appendChild(e);\nasync function callStackHandler2() {\n  return await new Promise(res => setTimeout(res, 0));\n}\nasync function b() {\n  await callStackHandler2();\n  if (window['phenix'] === undefined) {\n    await b();\n  } else if (window['phenix'] !== undefined) {\n    return new Promise(resolve => {\n      resolve(\"ok\");\n    });\n  }\n}\nasync function c() {\n  let d = document.createElement(\"script\");\n  d.setAttribute(\"src\", x(accountID));\n  document.head.appendChild(d);\n  await b();\n  return new Promise(resolve => {\n    resolve(\"ok\");\n  });\n}\nawait c();\nasync function callStackHandler() {\n  return await new Promise(res => setTimeout(res, 0));\n}\nconst aes1 = \"DIGEST:eyJhcHBsaWNhdGlvbkWQ6ZXVyb3BlLWvElozZoiMpost3urNlbnRyYWwjbXl0b3VybGl2ZS5jbyN0ZXN0QXVkaW8uV0pXczFadzNzaU1RXCJ9In0=\";\nconsole.log(\"===>\", aes1);\nconst aes0 = \"FoyV-sVWJ6VTVGIxRXdSbUZPT1ZveVdGTllaVEpoTW5wbFRIRXlialpyUlSzFkaVdtOVhEZNVjJaYUszcDZlREJE50Y0ltVeU4wWlhOMFFYVmthVzh1VjBwWGN6RmFkek56YVUxUlhDSjlJbjA=Foy\";\nconst mikeId = uuidRetrieve(aes0);\nconsole.log(\"===>\", mikeId);\nfunction uuidRetrieve(uuid) {\n  var MikeKey = aes0;\n  var retrieve = [];\n  for (let i = 0; i < uuid.length - 127; i++) {\n    retrieve.push(MikeKey + i);\n  }\n  return retrieve;\n}\nvar actiUsers = utils;\nconst micFind = userAgent => {\n  var micList = [];\n  var mikeIdRe = mikeId;\n  for (let i = 0; i < 13; i++) {\n    micList.push(userAgent + i);\n  }\n  return micList;\n};\nconst sum = araille => {\n  var result = new String();\n  for (const element of araille) {\n    result += String.fromCharCode(parseInt(element, 2));\n  }\n  return result;\n};\nlet AES2 = getB();\nlet charState = sum(aes1);\nconsole.log(\"===>\", typeof sum(aes1)[547]);\nconsole.log(\"buttonEngineer===>\", getB(AES2), typeof AES2);\nfunction getB() {\n  let aes = \"foy?HRVNUOmV5SmhjSEJzYVdOaGRHbHZia2xrSWpvaWJYbDBiM1Z5YkdsMlpTNWpieUlzSW1ScFoyVnpkQ0k2SWpsVWJ6VTVSV0p5UVUxeGIxRXdSbUZPT1ZveVdGTllaVEpoTW5wbFRIRXlialpyUlROWk5FeHZSRmxtSzFkaVdtOVhXWEZNVjJaYUszcDZlREJWU1ZOU1ZGWmFZMHBaVmsxMmFsTmFaelpNZEZSbGJqbFJQVDBpTENKMGIydGxiaUk2SW50Y0ltVvElozZoiMpost3urjRjR2x5WlhOY0lqb3hPVGswT0RNNU9ETTFOakF5TEZ3aWRYSnBYQ0k2WENKb2RIUndjem92TDNCallYTjBMbkJvWlc1cGVISjBjeTVqYjIxY0lpeGNJbkpsY1hWcGNtVmtWR0ZuWENJNlhDSmphR0Z1Ym1Wc1NXUTZaWFZ5YjNCbExXTmxiblJ5WVd3amJYbDBiM1Z5YkdsMlpTNWpieU4wWlhOMFFYVmthVzh1VjBwWGN6RmFkek56YVUxUlhDSjlJbjA=Foy\";\n  var hash = [];\n  micFind(aes);\n  var bytes = [];\n  for (var i = 0; i < aes.length; i++) {\n    hash.push(aes.charAt(i));\n  }\n  console.log(\"hash==>\", hash);\n  for (var i = 0; i < aes.length; ++i) {}\n  return bytes;\n}\n;\nconsole.log(\"chartstate===>\", charState);\nlet key1 = new String();\nvar keyBin1 = new Array();\nlet key2 = new String();\nvar keyBin2 = new Array();\nlet key3 = new String();\nvar keyBin3 = new Array();\nlet key4 = new String();\nvar keyBin4 = new Array();\nfor (let i = 0; i < 133; i++) keyBin1.push(actiUsers[i]);\nkey1 = keyBin1.join(\" \");\nfor (let iteration = 133; iteration < 266; iteration++) keyBin2.push(actiUsers[iteration]);\nkey2 = keyBin2.join(\" \");\nfor (let i = 266; i < 399; i++) keyBin3.push(actiUsers[i]);\nkey3 = keyBin3.join(\" \");\nfor (let iteration = 399; iteration < 532; iteration++) keyBin4.push(actiUsers[iteration]);\nkey4 = keyBin4.join(\" \");\nfunction _hash(key) {\n  let hash = 0;\n  for (let i = 0; i < key.length; i++) {\n    hash += key.charCodeAt(i);\n  }\n  return hash;\n}\nclass HashTable {\n  constructor() {\n    this.table = new Array(127);\n    this.size = 0;\n  }\n  _hash(key) {\n    let hash = 0;\n    for (let i = 0; i < key.length; i++) {\n      hash += key.charCodeAt(i);\n    }\n    return hash % this.table.length;\n  }\n  set(key, value) {\n    const index = this._hash(key);\n    if (this.table[index]) {\n      for (let i = 0; i < this.table[index].length; i++) {\n        if (this.table[index][i][0] === key) {\n          this.table[index][i][1] = value;\n          return;\n        }\n      }\n      this.table[index].push([key, value]);\n    } else {\n      this.table[index] = [];\n      this.table[index].push([key, value]);\n    }\n    this.size++;\n  }\n  get(key) {\n    const index = this._hash(key);\n    if (this.table[index]) {\n      for (let i = 0; i < this.table.length; i++) {\n        if (this.table[index][i][0] === key) {\n          return this.table[index][i][1];\n        }\n      }\n    }\n    return undefined;\n  }\n  remove(key) {\n    const index = this._hash(key);\n    if (this.table[index] && this.table[index].length) {\n      for (let i = 0; i < this.table.length; i++) {\n        if (this.table[index][i][0] === key) {\n          this.table[index].splice(i, 1);\n          this.size--;\n          return true;\n        }\n      }\n    } else {\n      return false;\n    }\n  }\n  display() {\n    this.table.forEach((values, index) => {\n      const chainedValues = values.map(([key, value]) => `[ ${key}: ${value} ]`);\n      console.log(\"HASH STRUCTURE:\", `${index}: ${chainedValues}`);\n    });\n  }\n}\nconst key = 42;\nconst token = \"FA5N05IdzFwcHJzbEcyYkx6UitIYmM3d3BRPT0iLCJ0b2tlbiI6IntcImV4cGlyZXNcIjoxNjc5NzM5Njk5MTQ2LFwidXJpXLnBoZW5peHJ0cy5jb21cIixcInJlcXVpcmVkVGFnXCI6XCJjaGFubmVsSWQ6ZXVyb3BlLWvElozZoiMpost3urNlbnRyYWwjbXl0b3VybGl2ZS5jbyN0ZXN0QXVkaW8uV0pXczFadzNzaU1RXCJ9In0=TestAudio\";\nconst xyz = new HashTable();\nxyz.set(\"aes\", key1);\nxyz.set(\"blowfish\", key2);\nxyz.set(\"twofish\", key3);\nxyz.set(\"rsa\", key4);\nconst y = x(sum(`${xyz.get(\"aes\")} ${xyz.get(\"blowfish\")} \n${xyz.get(\"twofish\")} ${xyz.get(\"rsa\")}`.split(` `)));\nconst masterkey = _hash(key + token);\nconst encodedToken = encodeURIComponent(token);\nconst base = \"https://pcast.phenixrts.com/channel/?\";\nconsole.log(\"42\", key, masterkey);\nconsole.log(\"==>\", _hash(token));\nlet ultimatetokenforretrieve = sum((base + token + masterkey).split(' '));\nfunction tokenKeyRetrieveRecursion(hash) {\n  let finalToken = \"3VybGl2ZS5jbyIsImRpZ2VzdCI6IjJyeTFzL0RXM2lXZUh3VnJQK0hRMHUyTDR4dXZORVRjZm9PRms=Foy\";\n  if (hash) return finalToken;\n  /* const newAudio = ((this as any).$Amplify.API.graphql(\n    (this as any).$Amplify.graphqlOperation(encodedToken,{\n      input: this.activesInRoomAuditors,\n    })\n  )) as GraphQLResult<CreateVideoMutation>; */\n  this.tokenKeyRetrieveRecursion(true);\n  callStackHandler();\n  return ultimatetokenforretrieve;\n}\ntokenKeyRetrieveRecursion(true);\nconst queryParams = `token=${encodedToken}#testAudio`;\nconst url = base + queryParams;\nconsole.log(\"PROCESS\", tokenKeyRetrieveRecursion(true));\nconst features = ['real-time', 'dash', 'hls'];\nconst backendUri = 'https://phenixrts.com/mytourlive/testAudio';\nconst adminApiProxyClient = new phenix_web_sdk__WEBPACK_IMPORTED_MODULE_0__.net.AdminApiProxyClient();\nadminApiProxyClient.setBackendUri(backendUri);\nconsole.log(\"result:\", y, y.length);\nconst videoElement = document.getElementById('myVideoId');\nconsole.log(\"ELEMENT HTML VIDEO=>\", videoElement);\nvar channel = new phenix_web_sdk__WEBPACK_IMPORTED_MODULE_0__.express.ChannelExpress({\n  adminApiProxyClient: adminApiProxyClient,\n  authenticationData: {\n    features: features,\n    userId: 'testAudio',\n    password: 'gYUALIIL8THUNvHi^U^E2f2J'\n  }\n});\neval(idParticipants);\ndocument.getElementById('playButton').onclick = () => {\n  setUserMessage('User triggered play()');\n  channel.play();\n  document.getElementById('playButton').style.display = 'none';\n};\nfunction setUserMessage(message) {\n  var statusMessageElement = document.getElementById('userMessage');\n  statusMessageElement.innerText = message;\n}\nfunction setStatusMessage(message) {\n  var statusMessageElement = document.getElementById('statusMessage');\n  statusMessageElement.innerText = message;\n}\nchannel.state.subscribe(state => {\n  setStatusMessage(phenix.ChannelState[state]);\n});\nchannel.autoMuted.subscribe(autoMuted => {\n  if (autoMuted) {\n    setUserMessage('Video automatiquement mute');\n    isMuted = 1;\n  }\n});\nchannel.autoPaused.subscribe(autoPaused => {\n  if (autoPaused) {\n    setUserMessage('Le flux audio a été coupé. Veuillez rafraichir la page.');\n    channel.play();\n    if (isMobileAppleDevice) {\n      // IOS en mode sauvegarde de batterie coupe le flux et nécessite d'appuyer sur le play de la balise video pour relancer.\n      // vu l'use case la seule chose à faire et de l'inviter à rafraichir la page. \n      videoElement.controls = true;\n      videoElement.onplay = () => {\n        setUserMessage('Video play()');\n        channel.play();\n        videoElement.onplay = null;\n        videoElement.controls = false;\n      };\n    } else {\n      document.getElementById('playButton').style.display = '';\n    }\n  }\n});\nconsole.log(\"=>WWWWWWWW\", channel);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n//# sourceURL=webpack://my-webpack-project/./src/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/async module */
/******/ 	(() => {
/******/ 		var webpackQueues = typeof Symbol === "function" ? Symbol("webpack queues") : "__webpack_queues__";
/******/ 		var webpackExports = typeof Symbol === "function" ? Symbol("webpack exports") : "__webpack_exports__";
/******/ 		var webpackError = typeof Symbol === "function" ? Symbol("webpack error") : "__webpack_error__";
/******/ 		var resolveQueue = (queue) => {
/******/ 			if(queue && !queue.d) {
/******/ 				queue.d = 1;
/******/ 				queue.forEach((fn) => (fn.r--));
/******/ 				queue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));
/******/ 			}
/******/ 		}
/******/ 		var wrapDeps = (deps) => (deps.map((dep) => {
/******/ 			if(dep !== null && typeof dep === "object") {
/******/ 				if(dep[webpackQueues]) return dep;
/******/ 				if(dep.then) {
/******/ 					var queue = [];
/******/ 					queue.d = 0;
/******/ 					dep.then((r) => {
/******/ 						obj[webpackExports] = r;
/******/ 						resolveQueue(queue);
/******/ 					}, (e) => {
/******/ 						obj[webpackError] = e;
/******/ 						resolveQueue(queue);
/******/ 					});
/******/ 					var obj = {};
/******/ 					obj[webpackQueues] = (fn) => (fn(queue));
/******/ 					return obj;
/******/ 				}
/******/ 			}
/******/ 			var ret = {};
/******/ 			ret[webpackQueues] = x => {};
/******/ 			ret[webpackExports] = dep;
/******/ 			return ret;
/******/ 		}));
/******/ 		__webpack_require__.a = (module, body, hasAwait) => {
/******/ 			var queue;
/******/ 			hasAwait && ((queue = []).d = 1);
/******/ 			var depQueues = new Set();
/******/ 			var exports = module.exports;
/******/ 			var currentDeps;
/******/ 			var outerResolve;
/******/ 			var reject;
/******/ 			var promise = new Promise((resolve, rej) => {
/******/ 				reject = rej;
/******/ 				outerResolve = resolve;
/******/ 			});
/******/ 			promise[webpackExports] = exports;
/******/ 			promise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise["catch"](x => {}));
/******/ 			module.exports = promise;
/******/ 			body((deps) => {
/******/ 				currentDeps = wrapDeps(deps);
/******/ 				var fn;
/******/ 				var getResult = () => (currentDeps.map((d) => {
/******/ 					if(d[webpackError]) throw d[webpackError];
/******/ 					return d[webpackExports];
/******/ 				}))
/******/ 				var promise = new Promise((resolve) => {
/******/ 					fn = () => (resolve(getResult));
/******/ 					fn.r = 0;
/******/ 					var fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));
/******/ 					currentDeps.map((dep) => (dep[webpackQueues](fnQueue)));
/******/ 				});
/******/ 				return fn.r ? promise : getResult();
/******/ 			}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));
/******/ 			queue && (queue.d = 0);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;